---
title: Учебники по пространственной привязке Azure — 1. Приступая к работе с пространственными привязками Azure
description: В рамках этого курса вы узнаете, как реализовать функцию распознавания лиц Azure в приложении смешанной реальности.
author: jessemcculloch
ms.author: jemccull
ms.date: 02/26/2019
ms.topic: article
keywords: mixed reality, unity, tutorial, hololens
ms.openlocfilehash: b615f1135f5d2947f8f718e080ef45a3c1fcc576
ms.sourcegitcommit: 05fa75193059a2dac4b580a9eef7b6c4bb64d8d7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/05/2019
ms.locfileid: "74830847"
---
# <a name="1-getting-started-with-azure-spatial-anchors"></a><span data-ttu-id="72769-105">1. Приступая к работе с пространственными привязками Azure</span><span class="sxs-lookup"><span data-stu-id="72769-105">1. Getting started with Azure Spatial Anchors</span></span>

<span data-ttu-id="72769-106">Добро пожаловать во второй модуль учебников HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="72769-106">Welcome to the second module of the HoloLens 2 tutorials.</span></span> <span data-ttu-id="72769-107">Прежде чем приступить к работе, убедитесь, что выполнены все [необходимые условия](https://docs.microsoft.com//azure/spatial-anchors/quickstarts/get-started-unity-hololens) .</span><span class="sxs-lookup"><span data-stu-id="72769-107">Before getting started, be sure that all of the [prerequisites](https://docs.microsoft.com//azure/spatial-anchors/quickstarts/get-started-unity-hololens) are completed.</span></span> <span data-ttu-id="72769-108">Если вы еще не выполнили первый [базовый модуль](mrlearning-base.md) , рекомендуется сначала выполнить этот модуль.</span><span class="sxs-lookup"><span data-stu-id="72769-108">If you have not completed the first, [Base module](mrlearning-base.md) yet, it's recommended that you complete that module first.</span></span> <span data-ttu-id="72769-109">Если вы начинаете с нового проекта Unity, выполните шаги по созданию нового проекта в [базовом модуле](mrlearning-base.md).</span><span class="sxs-lookup"><span data-stu-id="72769-109">If you are starting from a new Unity project, follow the new project creation steps in the [Base module](mrlearning-base.md).</span></span> 

## <a name="objectives"></a><span data-ttu-id="72769-110">Задачи</span><span class="sxs-lookup"><span data-stu-id="72769-110">Objectives</span></span>

* <span data-ttu-id="72769-111">Изучите основы разработки с помощью пространственных привязок Azure с помощью HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="72769-111">Learn the fundamentals of developing with Azure Spatial Anchors with HoloLens 2</span></span>

* <span data-ttu-id="72769-112">Создание, передача и скачивание пространственных привязок</span><span class="sxs-lookup"><span data-stu-id="72769-112">Create, upload, and download spatial anchors</span></span>

## <a name="instructions"></a><span data-ttu-id="72769-113">Инструкция</span><span class="sxs-lookup"><span data-stu-id="72769-113">Instructions</span></span>

### <a name="downloading-and-importing-assets"></a><span data-ttu-id="72769-114">Загрузка и импорт ресурсов</span><span class="sxs-lookup"><span data-stu-id="72769-114">Downloading and importing assets</span></span>
<span data-ttu-id="72769-115">Прежде чем начать, скачайте и импортируйте следующие ресурсы:</span><span class="sxs-lookup"><span data-stu-id="72769-115">Before beginning, download and import the following assets:</span></span>

[<span data-ttu-id="72769-116">Пространственные привязки Azure v 1.1.0</span><span class="sxs-lookup"><span data-stu-id="72769-116">Azure Spatial Anchors v1.1.0</span></span>](https://github.com/Azure/azure-spatial-anchors-samples/releases/download/v1.1.0/AzureSpatialAnchors.unitypackage)

[<span data-ttu-id="72769-117">Unity. HoloLens2. GettingStarted. Tutorial. Asset. 2.1.0.0. пакет unitypackage</span><span class="sxs-lookup"><span data-stu-id="72769-117">Unity.HoloLens2.GettingStarted.Tutorials.Asset.2.1.0.0.unitypackage</span></span>](https://github.com/microsoft/MixedRealityLearning/releases/download/getting-started-v2.1.0.0/Unity.HoloLens2.GettingStarted.Tutorials.Asset.2.1.0.0.unitypackage)

[<span data-ttu-id="72769-118">Unity. HoloLens2. Азуреспатиаланчор. Tutorial. Asset. 2.1.0.0. пакет unitypackage</span><span class="sxs-lookup"><span data-stu-id="72769-118">Unity.HoloLens2.AzureSpatialAnchor.Tutorials.Asset.2.1.0.0.unitypackage</span></span>](https://github.com/microsoft/MixedRealityLearning/releases/download/azure-spatial-anchor-v2.1.0.0/Unity.HoloLens2.AzureSpatialAnchor.Tutorials.Asset.2.1.0.0.unitypackage)

[<span data-ttu-id="72769-119">2.1.0 пакета набора средств Mixed Reality Foundation</span><span class="sxs-lookup"><span data-stu-id="72769-119">Mixed Reality Toolkit  Foundation Package 2.1.0</span></span>](https://github.com/microsoft/MixedRealityToolkit-Unity/releases/tag/v2.1.0)

1. <span data-ttu-id="72769-120">Создайте в проекте новую сцену.</span><span class="sxs-lookup"><span data-stu-id="72769-120">Create a new scene in your project.</span></span> <span data-ttu-id="72769-121">Щелкните правой кнопкой мыши папку сцены, выберите команду Создать, а затем — сцена.</span><span class="sxs-lookup"><span data-stu-id="72769-121">Right-click your Scene folder, click Create, then Scene.</span></span> <span data-ttu-id="72769-122">Присвойте новой сцене имя "Асалеарнингмодуле".</span><span class="sxs-lookup"><span data-stu-id="72769-122">Name the new scene as "ASALearningModule".</span></span>

![module2chapter1step1im](images/module2chapter1step1im.PNG)

2. <span data-ttu-id="72769-124">Дважды щелкните сцену "Асалеарнингмодуле", чтобы увидеть некоторые предварительно определенные элементы, которые будут отображаться вместе с новой сценой.</span><span class="sxs-lookup"><span data-stu-id="72769-124">Double-click "ASALearningmodule" scene to see some pre-defined items to appear along with the new scene.</span></span> 
3. <span data-ttu-id="72769-125">Настройка сцены для разработки смешанной реальности.</span><span class="sxs-lookup"><span data-stu-id="72769-125">Configure the scene for mixed reality development.</span></span> 

![module2chapter1step3im](images/module2chapter1step3im.PNG)

> <span data-ttu-id="72769-127">Примечание. при выборе [профиля для набора средств Mixed Reality](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Profiles/Profiles.html)может отобразиться всплывающее диалоговое окно.</span><span class="sxs-lookup"><span data-stu-id="72769-127">Note: You may see a pop-up dialog box for selecting a [profile for the Mixed Reality Toolkit](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Profiles/Profiles.html).</span></span> <span data-ttu-id="72769-128">Выберите профиль с именем *DefaultHoloLens2ConfigurationProfile* , дважды щелкнув его.</span><span class="sxs-lookup"><span data-stu-id="72769-128">Choose the profile named *DefaultHoloLens2ConfigurationProfile* by double-clicking it.</span></span>

4. <span data-ttu-id="72769-129">При выборе файла для МРТК выберите Дефаултмикседреалититулкитконфигуратионпрофиле.</span><span class="sxs-lookup"><span data-stu-id="72769-129">When choosing a file for the MRTK, select DefaultMixedRealityToolkitConfigurationProfile.</span></span>

> <span data-ttu-id="72769-130">Примечание. Если у вас есть собственный профиль конфигурации, вы можете использовать его вместо него.</span><span class="sxs-lookup"><span data-stu-id="72769-130">Note: If you have your own configuration profile, feel free to use that instead.</span></span>
>

![module2chapter1step4im](images/module2chapter1step4im.PNG)

<span data-ttu-id="72769-132">Теперь сцена настроена для смешанной реальности.</span><span class="sxs-lookup"><span data-stu-id="72769-132">The scene is now configured for mixed reality.</span></span> <span data-ttu-id="72769-133">Убедитесь, что вы сохранили сцену (это можно сделать с помощью элемента управления/команды + S или щелкнув файл, а затем сохранить).</span><span class="sxs-lookup"><span data-stu-id="72769-133">Make sure you save your scene (do this with either control/command+S or click on file, followed by Save).</span></span> 

5. <span data-ttu-id="72769-134">Импортируйте пакет Unity для [пространственных привязок Azure v 1.1.0](https://github.com/Azure/azure-spatial-anchors-samples/releases/download/v1.1.0/AzureSpatialAnchors.unitypackage) , скачанный на шаге 1.</span><span class="sxs-lookup"><span data-stu-id="72769-134">Import the [Azure Spatial Anchors v1.1.0](https://github.com/Azure/azure-spatial-anchors-samples/releases/download/v1.1.0/AzureSpatialAnchors.unitypackage) unity package that we downloaded in step 1.</span></span> <span data-ttu-id="72769-135">Для этого щелкните ресурсы, перейдите к разделу Импорт пакета, а затем щелкните пользовательский пакет... Файлы компьютера будут открыты.</span><span class="sxs-lookup"><span data-stu-id="72769-135">For that, click Assets, go down to Import Package and then click Custom Package... Your computer files will open.</span></span> <span data-ttu-id="72769-136">После этого найдите место сохранения пакета пространственных привязок Azure и выберите его.</span><span class="sxs-lookup"><span data-stu-id="72769-136">When they do, find where you saved the Azure Spatial Anchors package, and select it.</span></span> <span data-ttu-id="72769-137">Затем нажмите кнопку Открыть.</span><span class="sxs-lookup"><span data-stu-id="72769-137">Then click Open.</span></span>

![module2chapter1step5bim](images/module2chapter1step5bim.PNG)

<span data-ttu-id="72769-139">Появится всплывающее окно с перечнем средств и параметров и запросом на импорт.</span><span class="sxs-lookup"><span data-stu-id="72769-139">A pop-up appears, providing a list of tools and settings and asking you what to import.</span></span> <span data-ttu-id="72769-140">Выберите ***все*** доступные параметры, а затем нажмите кнопку Импорт.</span><span class="sxs-lookup"><span data-stu-id="72769-140">Select ***all*** of the options available, then click Import.</span></span>

![module2chapter1step5cim](images/module2chapter1step5cim.PNG)

> <span data-ttu-id="72769-142">Примечание. Вы сможете выполнить импорт, подождите несколько минут.</span><span class="sxs-lookup"><span data-stu-id="72769-142">Note: Be patient, it will take a few minutes to import.</span></span> 

6. <span data-ttu-id="72769-143">Импортируйте [Unity. HoloLens2. GettingStarted. Tutorials. Asset. 2.1.0.0. пакет unitypackage](https://github.com/microsoft/MixedRealityLearning/releases/download/getting-started-v2.1.0.0/Unity.HoloLens2.GettingStarted.Tutorials.Asset.2.1.0.0.unitypackage) далее.</span><span class="sxs-lookup"><span data-stu-id="72769-143">Import [Unity.HoloLens2.GettingStarted.Tutorials.Asset.2.1.0.0.unitypackage](https://github.com/microsoft/MixedRealityLearning/releases/download/getting-started-v2.1.0.0/Unity.HoloLens2.GettingStarted.Tutorials.Asset.2.1.0.0.unitypackage) next.</span></span> <span data-ttu-id="72769-144">Подобно шагу 5, вернитесь в Unity, щелкните активы и наведите указатель на пункт Импорт пакета.</span><span class="sxs-lookup"><span data-stu-id="72769-144">Much like Step 5, go back into Unity, click Assets, and hover over Import Package.</span></span> <span data-ttu-id="72769-145">Щелкните пользовательский пакет... Файлы компьютера будут отображаться снова.</span><span class="sxs-lookup"><span data-stu-id="72769-145">Click Custom Package... Your computer files will appear again.</span></span> <span data-ttu-id="72769-146">Перейдите к месту, где вы сохранили пакет ресурсов основного модуля.</span><span class="sxs-lookup"><span data-stu-id="72769-146">Go to where you stored the Base module Asset Pack.</span></span> <span data-ttu-id="72769-147">и выберите его.</span><span class="sxs-lookup"><span data-stu-id="72769-147">and select it.</span></span> <span data-ttu-id="72769-148">Нажмите кнопку "Открыть".</span><span class="sxs-lookup"><span data-stu-id="72769-148">Click Open.</span></span>

![module2chapter1step5bim](images/module2chapter1step5bim.PNG)

> <span data-ttu-id="72769-150">Примечание. позже в этом модуле могут потребоваться дополнительные ресурсы.</span><span class="sxs-lookup"><span data-stu-id="72769-150">Note: There might be more assets needed later in this module.</span></span> <span data-ttu-id="72769-151">Выполните следующие действия, чтобы импортировать все активы, упомянутые на этом этапе.</span><span class="sxs-lookup"><span data-stu-id="72769-151">Follow these steps to import any assets mentioned from this point on.</span></span> 

7. <span data-ttu-id="72769-152">Импортируйте [пакет модуля ASA 1.3.1](https://github.com/Developer-OI/MixedRealityLearning/releases/download/ASA_1.3/ASAModuleAssets_1.3.1.unitypackage), выполнив те же действия, что и при импорте предыдущих пакетов.</span><span class="sxs-lookup"><span data-stu-id="72769-152">Import the [ASA module pack 1.3.1](https://github.com/Developer-OI/MixedRealityLearning/releases/download/ASA_1.3/ASAModuleAssets_1.3.1.unitypackage), using the same steps as importing the previous packages.</span></span>

### <a name="configuring-your-scene"></a><span data-ttu-id="72769-153">Настройка сцены</span><span class="sxs-lookup"><span data-stu-id="72769-153">Configuring your scene</span></span>

<span data-ttu-id="72769-154">В этом разделе мы добавим Prefabs и сценарии в сцену, чтобы создать ряд кнопок, демонстрирующих принципы поведения как локальных, так и пространственных привязок Azure в приложении.</span><span class="sxs-lookup"><span data-stu-id="72769-154">In this section, we will add prefabs and scripts into the scene to create a series of buttons that demonstrate the fundamentals of how both local anchors and Azure Spatial Anchors behave in an application.</span></span>

8. <span data-ttu-id="72769-155">На вкладке проект под папкой активы щелкните Асамодулеассетс.</span><span class="sxs-lookup"><span data-stu-id="72769-155">In the Project tab, underneath the Assets folder, click on ASAmoduleAssets.</span></span> <span data-ttu-id="72769-156">После выбора вы увидите два Prefabs: Буттонпарент и Парентанчор.</span><span class="sxs-lookup"><span data-stu-id="72769-156">Once selected, you will see two prefabs: ButtonParent and ParentAnchor.</span></span>

![module2chapter1step7im](images/module2chapter1step7im.PNG)

9. <span data-ttu-id="72769-158">Перетащите оба Prefabs в сцену.</span><span class="sxs-lookup"><span data-stu-id="72769-158">Drag both prefabs into the scene.</span></span> 

![module2chapter1step8im](images/module2chapter1step8im.PNG)

<span data-ttu-id="72769-160">Примечание. После добавления Буттонпарент в сцену появится всплывающее окно с запросом на импорт ресурсов TMP.</span><span class="sxs-lookup"><span data-stu-id="72769-160">Note: After adding the ButtonParent into the scene, a pop-up will appear asking you to import TMP assets.</span></span> <span data-ttu-id="72769-161">Импортируйте "TMP Essentials".</span><span class="sxs-lookup"><span data-stu-id="72769-161">Import the "TMP Essentials".</span></span> <span data-ttu-id="72769-162">После этого, если в сцене отображается текст крупного шрифта, удалите объект Буттонпарент и добавьте его снова из папки Асамодулеассетс.</span><span class="sxs-lookup"><span data-stu-id="72769-162">After this, If you see any large font text in the scene, delete the ButtonParent object and add it again from the ASAmoduleAssets folder.</span></span>

<span data-ttu-id="72769-163">Примечание. Если вы хотите проверить журналы отладки в HoloLens, можно перетащить DebugWindow prefab из папки Асамодулеассетс в сцену.</span><span class="sxs-lookup"><span data-stu-id="72769-163">Note: If you want to check the debug logs in the HoloLens, you can drag and drop the DebugWindow prefab from ASAModuleAssets folder into the scene.</span></span> <span data-ttu-id="72769-164">Присоедините сценарий Дебугвиндовмессагинг на панели инспектора DebugWindow и включите параметр окно отладки включено.</span><span class="sxs-lookup"><span data-stu-id="72769-164">Attach the DebugWindowMessaging script in the DebugWindow inspector panel and enable the Debug Window Enabled option.</span></span> <span data-ttu-id="72769-165">После этого перетащите DebugWindow prefab в пустое поле Дебугтекст.</span><span class="sxs-lookup"><span data-stu-id="72769-165">After that, drag  and drop the DebugWindow prefab into the DebugText empty field.</span></span> <span data-ttu-id="72769-166">Можно также настроить расположение DebugWindow в любом месте, где это нужно.</span><span class="sxs-lookup"><span data-stu-id="72769-166">You can also adjust the DebugWindow position wherever appropriate for you.</span></span>

10. <span data-ttu-id="72769-167">Чтобы увеличить сцену, дважды щелкните родительскую привязку в иерархии и настройте представление для просмотра всей сцены по мере необходимости.</span><span class="sxs-lookup"><span data-stu-id="72769-167">In order to zoom in to the scene, double-click the parent anchor in the hierarchy and adjust your view to see the entire scene as needed.</span></span> <span data-ttu-id="72769-168">В настоящее время Парентанчор — это цветной куб, используемый только в демонстрационных целях.</span><span class="sxs-lookup"><span data-stu-id="72769-168">Currently, ParentAnchor is a colored cube used only for demonstration purposes.</span></span> <span data-ttu-id="72769-169">Со временем мы будем скрывать куб и размещать наше содержимое в качестве дочернего элемента Парентанчор.</span><span class="sxs-lookup"><span data-stu-id="72769-169">Eventually, we will hide the cube and place our content as a child of the ParentAnchor.</span></span> 

11. <span data-ttu-id="72769-170">Теперь настроим кнопки для работы с сценой.</span><span class="sxs-lookup"><span data-stu-id="72769-170">Now let's configure the buttons for operating the scene.</span></span> <span data-ttu-id="72769-171">Для этого раскройте Буттонпарент prefab и обратите внимание на несколько кнопок с метками, которые создаются из Прессаблебуттон Prefabs МРТК.</span><span class="sxs-lookup"><span data-stu-id="72769-171">For that, expand the ButtonParent prefab and you'll notice several labeled buttons, which are created from the MRTK's PressableButton prefabs.</span></span> <span data-ttu-id="72769-172">Дополнительные сведения о создании Прессаблебуттон из [базового модуля](mrlearning-base-ch2.md).</span><span class="sxs-lookup"><span data-stu-id="72769-172">Learn more about how to create PressableButton from the [Base module](mrlearning-base-ch2.md).</span></span> <span data-ttu-id="72769-173">Чтобы эти кнопки работали, необходимо добавить событие, которое будет запускаться при нажатии пользователем или выборе отдельных кнопок.</span><span class="sxs-lookup"><span data-stu-id="72769-173">For these buttons to operate, you need to add an event which will be triggered when the user presses or selects the individual buttons.</span></span> 

- <span data-ttu-id="72769-174">Для кнопки с именем Стартазуресессион создайте новое событие при нажатии кнопки триггер события, а также триггер события On Click.</span><span class="sxs-lookup"><span data-stu-id="72769-174">For the Button named StartAzureSession, create a new event under the Button Pressed event trigger, as well as the On Click event trigger.</span></span> <span data-ttu-id="72769-175">Перетащите объект Парентанчор в пустое поле и назначьте метод Стартазуресессион () из компонента Асамодулескрипт объекта Парентанчор, как показано на снимке экрана ниже.</span><span class="sxs-lookup"><span data-stu-id="72769-175">Drag the ParentAnchor object into the empty field and assign the StartAzureSession() method from the ParentAnchor object's ASAmoduleScript component as shown in the below screenshot.</span></span>
- ![module2chapter1step10aim](images/module2chapter1step10aim.PNG)

![module2chapter1step10bim](images/module2chapter1step10bim.PNG)

![module2chapter1step10cim](images/module2chapter1step10fim.PNG)

- <span data-ttu-id="72769-179">Для кнопки с именем Стопазуресессион создайте новое событие при нажатии кнопки триггер события, а также триггер события On Click.</span><span class="sxs-lookup"><span data-stu-id="72769-179">For the Button named StopAzureSession, create a new event under the Button Pressed event trigger, as well as the On Click event trigger.</span></span> <span data-ttu-id="72769-180">Перетащите объект Парентанчор в пустое поле и назначьте метод Стопазуресессион () из компонента Асамодулескрипт объекта Парентанчор.</span><span class="sxs-lookup"><span data-stu-id="72769-180">Drag the ParentAnchor object into the empty field and assign the StopAzureSession() method from the ParentAnchor object's ASAmoduleScript component.</span></span>

- <span data-ttu-id="72769-181">Для кнопки с именем Креатеанчор создайте новое событие при нажатии кнопки триггер события, а также триггер события On Click.</span><span class="sxs-lookup"><span data-stu-id="72769-181">For the Button named CreateAnchor, create a new event under the Button Pressed event trigger, as well as the On Click event trigger.</span></span> <span data-ttu-id="72769-182">Перетащите объект Парентанчор в пустое поле и назначьте метод Креатеазуреанчор () из компонента Асамодулескрипт объекта Парентанчор.</span><span class="sxs-lookup"><span data-stu-id="72769-182">Drag the ParentAnchor object into the empty field and assign the CreateAzureAnchor() method from the ParentAnchor object's ASAmoduleScript component.</span></span>  <span data-ttu-id="72769-183">**После этого перетащите Парентанчор в следующее пустое поле "игровой объект".**</span><span class="sxs-lookup"><span data-stu-id="72769-183">**After this, drag the ParentAnchor again into the next empty "Game Object" field.**</span></span>

- <span data-ttu-id="72769-184">Для кнопки начать поиск привязки создайте новое событие при нажатии кнопки "триггер события", а также триггер события On Click.</span><span class="sxs-lookup"><span data-stu-id="72769-184">For the Button named Start Looking For Anchor, create a new event under the Button Press" event trigger, as well as the On Click event trigger.</span></span> <span data-ttu-id="72769-185">Перетащите объект Парентанчор в пустое поле и назначьте метод Финдазуреанчор () из компонента Асамодулескрипт объекта Парентанчор.</span><span class="sxs-lookup"><span data-stu-id="72769-185">Drag the ParentAnchor object into the empty field and assign the FindAzureAnchor() method from the ParentAnchor Object's ASAmoduleScript component.</span></span>

- <span data-ttu-id="72769-186">Для кнопки с именем Делетеазуреанчор создайте новое событие при нажатии кнопки триггер события, а также триггер события On Click.</span><span class="sxs-lookup"><span data-stu-id="72769-186">For the Button named DeleteAzureAnchor, create a new event under the Button Pressed event trigger, as well as the On Click event trigger.</span></span> <span data-ttu-id="72769-187">Перетащите объект Парентанчор в пустое поле и назначьте метод Делетеазуреанчор () из компонента Асамодулескрипт объекта Парентанчор.</span><span class="sxs-lookup"><span data-stu-id="72769-187">Drag the ParentAnchor object into the empty field and assign the DeleteAzureAnchor() method from the ParentAnchor object's ASAmoduleScript component.</span></span>  

- <span data-ttu-id="72769-188">Для кнопки удалить локальную привязку создайте новое событие под нажатой кнопки триггер события, а также триггер события при щелчке.</span><span class="sxs-lookup"><span data-stu-id="72769-188">For the Button named Delete Local Anchor, create a new event under the Button Pressed event trigger, as well as the On Click event trigger.</span></span> <span data-ttu-id="72769-189">Перетащите объект Парентанчор в пустое поле и назначьте метод Ремовелокаланчор () из компонента Асамодулескрипт объекта Парентанчор.</span><span class="sxs-lookup"><span data-stu-id="72769-189">Drag the ParentAnchor object into the empty field and assign the RemoveLocalAnchor() method from the ParentAnchor object's ASAmoduleScript component.</span></span> <span data-ttu-id="72769-190">**После этого перетащите объект Парентанчор в следующее пустое поле "игровой объект".**</span><span class="sxs-lookup"><span data-stu-id="72769-190">**After this, drag the ParentAnchor object again into the next empty "Game Object" field.**</span></span>

12. <span data-ttu-id="72769-191">Чтобы настроить пространственные привязки Azure, перейдите в папку Азуреспатиаланчорсплугин в папке Assets и перейдите к примерам — > Resources-> файл Азуреспатиаланчорсдемоконфиг.</span><span class="sxs-lookup"><span data-stu-id="72769-191">To set up Azure spatial anchors, go to the AzureSpatialAnchorsPlugin folder in the assets folder and navigate to Examples -> Resources->AzureSpatialAnchorsDemoConfig file.</span></span> <span data-ttu-id="72769-192">На панели инспектора добавьте идентификатор учетной записи Azure и ключ учетной записи, которые были созданы ранее.</span><span class="sxs-lookup"><span data-stu-id="72769-192">In the inspector panel, add the Azure Account ID and Account Key that you created earlier.</span></span> <span data-ttu-id="72769-193">Если вы не создали их или не сделали, выполните [необходимые условия](https://docs.microsoft.com//azure/spatial-anchors/quickstarts/get-started-unity-hololens).</span><span class="sxs-lookup"><span data-stu-id="72769-193">If you haven't created them or don't have the them, please follow the [Prerequisites](https://docs.microsoft.com//azure/spatial-anchors/quickstarts/get-started-unity-hololens).</span></span> 

  ![module2chapter1step13im](images/module2chapter1step13im.PNG)

### <a name="build-and-demonstrate-base-application"></a><span data-ttu-id="72769-195">Сборка и демонстрация базового приложения</span><span class="sxs-lookup"><span data-stu-id="72769-195">Build and demonstrate Base Application</span></span>

<span data-ttu-id="72769-196">Теперь, когда сцена настроена для демонстрации основ пространственных привязок Azure, мы создадим и демонстрируем базовое поведение пространственных привязок Azure.</span><span class="sxs-lookup"><span data-stu-id="72769-196">Now that your scene is configured to demonstrate the basics of Azure Spatial Anchors, we will build and demonstrate the basic behavior of Azure Spatial Anchors.</span></span> 

1. <span data-ttu-id="72769-197">Снова откройте окно параметры сборки, перейдя в файл > параметры сборки.</span><span class="sxs-lookup"><span data-stu-id="72769-197">Open the build settings window again, by going to File>Build Settings.</span></span>
    <span data-ttu-id="72769-198">![мрлеарнинг-ASA-CH1-3-шаг 1](images/mrlearning-asa-ch1-3-step1.jpg)</span><span class="sxs-lookup"><span data-stu-id="72769-198">![mrlearning-asa-ch1-3-step1](images/mrlearning-asa-ch1-3-step1.jpg)</span></span>
2. <span data-ttu-id="72769-199">Убедитесь, что сцена, которую вы хотите использовать, находится в фоновом режиме в списке сборка, нажав кнопку Добавить открытые сцены.</span><span class="sxs-lookup"><span data-stu-id="72769-199">Ensure the scene you want to try is in the Scenes in the build list, by clicking on the Add Open Scenes button.</span></span>
3. <span data-ttu-id="72769-200">Убедитесь, что для платформы задана универсальная платформа Windows.</span><span class="sxs-lookup"><span data-stu-id="72769-200">Verify the Platform is set to the Universal Windows Platform.</span></span> <span data-ttu-id="72769-201">В противном случае задайте то же значение.</span><span class="sxs-lookup"><span data-stu-id="72769-201">If not, please set it to the same.</span></span>
4. <span data-ttu-id="72769-202">Нажмите кнопку Параметры проигрывателя и выберите Параметры публикации.</span><span class="sxs-lookup"><span data-stu-id="72769-202">Press the Player Settings button and go to Publishing Settings.</span></span> <span data-ttu-id="72769-203">В разделе возможности включите: Интернет, Интернет-сервер, клиент, частный сетевой сервер, съемные ЗУ, веб-камера, микрофон и пространственное восприятие.</span><span class="sxs-lookup"><span data-stu-id="72769-203">Under Capabilities, enable: Internet, Internet Client Server, Private Network Client Server, Removable Storage, Webcam, Microphone and Spatial Perception.</span></span>
5. <span data-ttu-id="72769-204">В том же параметрах проигрывателя перейдите к параметрам XR и выберите Виртуальная реальность, поддерживаемая в ON.</span><span class="sxs-lookup"><span data-stu-id="72769-204">In the same Player Settings, go to XR settings  and select the Virtual Reality Supported to ON.</span></span>
6. <span data-ttu-id="72769-205">Нажмите кнопку Build (Сборка), чтобы начать процесс сборки.</span><span class="sxs-lookup"><span data-stu-id="72769-205">Press the Build button to begin the build process.</span></span>
   <span data-ttu-id="72769-206">![мрлеарнинг-ASA-CH1-3-шаг 6](images/mrlearning-asa-ch1-3-step6.jpg)</span><span class="sxs-lookup"><span data-stu-id="72769-206">![mrlearning-asa-ch1-3-step6](images/mrlearning-asa-ch1-3-step6.jpg)</span></span>
7. <span data-ttu-id="72769-207">Создайте папку для приложения и укажите для нее название.</span><span class="sxs-lookup"><span data-stu-id="72769-207">Create and name a new folder for your application.</span></span> <span data-ttu-id="72769-208">На приведенном ниже рисунке создано папка с именем App, в которой будет содержаться приложение.</span><span class="sxs-lookup"><span data-stu-id="72769-208">In the image below, a folder with the name App was created to contain the application.</span></span> <span data-ttu-id="72769-209">Щелкните Выбрать папку, чтобы начать сборку в только что созданную папку.</span><span class="sxs-lookup"><span data-stu-id="72769-209">Click Select Folder to begin building to the newly created folder.</span></span> <span data-ttu-id="72769-210">После завершения сборки вы можете закрыть окно параметров сборки в Unity.</span><span class="sxs-lookup"><span data-stu-id="72769-210">After the build has completed, you may close the Build Setting" window in Unity.</span></span>

    ![мрлеарнинг-ASA-CH1-3-Step7](images/mrlearning-asa-ch1-3-step7.jpg)

    > <span data-ttu-id="72769-212">Примечание. Если сборка завершается неудачно, попробуйте повторить сборку или перезапустить Unity и выполнить сборку снова.</span><span class="sxs-lookup"><span data-stu-id="72769-212">NOTE: If the build fails, try building again or restarting Unity and building again.</span></span> <span data-ttu-id="72769-213">Если отображается ошибка, например "ошибка: CS0246 = не удалось найти тип или имя пространства имен" XX "(возможно, отсутствует директива using или ссылка на сборку?), возможно, потребуется установить [пакет SDK для Windows 10 (10.0.18362.0)](<https://developer.microsoft.com//windows/downloads/windows-10-sdk>) .</span><span class="sxs-lookup"><span data-stu-id="72769-213">If you see an error such as "Error: CS0246 = The type or namespace name “XX” could not be found (are you missing a using directive or an assembly reference?), you might need to install [Windows 10 SDK (10.0.18362.0)](<https://developer.microsoft.com//windows/downloads/windows-10-sdk>)</span></span> 


8. <span data-ttu-id="72769-214">Даже после успешной сборки могут возникнуть некоторые ошибки, как показано ниже, но если сборка прошла успешно, можно проигнорировать их и перейти к дальнейшим действиям.</span><span class="sxs-lookup"><span data-stu-id="72769-214">Even after a successful build, you might get some errors as shown below, but if the build is successful you can ignore them and proceed with next steps.</span></span>

    ![мрлеарнинг-ASA-CH1-3-step7B](images/mrlearning-asa-ch1-3-step7B.png)

    

9. <span data-ttu-id="72769-216">После завершения сборки откройте созданную папку, содержащую файлы только что созданного приложения.</span><span class="sxs-lookup"><span data-stu-id="72769-216">After the build is completed, open the newly created folder containing your newly built application files.</span></span> <span data-ttu-id="72769-217">Дважды щелкните решение "Микседреалитибасе. sln" или соответствующее имя, если вы использовали другое имя для проекта, чтобы открыть файл решения в Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="72769-217">Double-click on the“MixedRealityBase.sln" solution or the corresponding name, if you used an alternative name for your project to open the solution file in Visual Studio.</span></span>

    > <span data-ttu-id="72769-218">Примечание. Откройте только что созданную папку (т. е. папку приложения, если следовать соглашениям об именовании из предыдущих шагов, так как файл с расширением SLN будет находиться за пределами этой папки, который не следует путать с файлом. sln в папке Build.</span><span class="sxs-lookup"><span data-stu-id="72769-218">Note: Be sure to open the newly created folder (i.e., the App folder, if following the naming conventions from the previous steps, as there will be a similarly named .sln file outside of that folder that is not to be confused with the .sln file inside the build folder.</span></span>

    ![мрлеарнинг-ASA-CH1-3-Step8](images/mrlearning-asa-ch1-3-step8.jpg)

    > <span data-ttu-id="72769-220">Примечание. Если Visual Studio запрашивает установку новых компонентов, убедитесь, что все необходимые компоненты установлены согласно требованиям на [странице "Установка средств"](install-the-tools.md) .</span><span class="sxs-lookup"><span data-stu-id="72769-220">Note: If Visual Studio asks to install new components, ensure that all prerequisite components are installed as specific in [the "Install the Tools" page](install-the-tools.md)</span></span>


9. <span data-ttu-id="72769-221">Подключите HoloLens 2 к компьютеру с помощью USB-кабеля.</span><span class="sxs-lookup"><span data-stu-id="72769-221">Plug your HoloLens 2 into your PC with the USB cable.</span></span> <span data-ttu-id="72769-222">Хотя в этих инструкциях урока предполагается, что вы будете развертывать тестирование на устройстве HoloLens 2, вы также можете выбрать развертывание в [эмуляторе hololens 2](using-the-hololens-emulator.md) или создать [пакет приложения для загрузки неопубликованных приложений](<https://docs.microsoft.com//windows/uwp/packaging/packaging-uwp-apps>) .</span><span class="sxs-lookup"><span data-stu-id="72769-222">While these Lesson instructions assume you will be deploying a testing with a HoloLens 2 device, you may also choose to deploy to the [HoloLens 2 emulator](using-the-hololens-emulator.md) or choose to create an [app package for sideloading](<https://docs.microsoft.com//windows/uwp/packaging/packaging-uwp-apps>)</span></span>

10. <span data-ttu-id="72769-223">Перед сборкой на устройстве убедитесь, что он находится в режиме разработчика.</span><span class="sxs-lookup"><span data-stu-id="72769-223">Before building to your device, ensure that it is in Developer Mode.</span></span> <span data-ttu-id="72769-224">Если вы впервые развертываете в HoloLens 2, Visual Studio может попросить вас связать HoloLens 2 с ПИН-кодом.</span><span class="sxs-lookup"><span data-stu-id="72769-224">If this is your first time deploying to the HoloLens 2, Visual Studio may ask you to pair your HoloLens 2 with a PIN.</span></span> <span data-ttu-id="72769-225">Если необходимо включить режим разработчика или пару с Visual Studio, следуйте [этим инструкциям](https://docs.microsoft.com//windows/mixed-reality/using-visual-studio) .</span><span class="sxs-lookup"><span data-stu-id="72769-225">Follow [these instructions](https://docs.microsoft.com//windows/mixed-reality/using-visual-studio) if you need to enable developer mode or pair with Visual Studio.</span></span>

11. <span data-ttu-id="72769-226">Настройте Visual Studio для сборки в HoloLens 2, выбрав конфигурацию выпуска, а также архитектуру ARM.</span><span class="sxs-lookup"><span data-stu-id="72769-226">Configure Visual Studio for building to your HoloLens 2, by selecting the Release configuration as well as the ARM architecture.</span></span>

    ![мрлеарнинг-ASA-CH1-3-step11](images/mrlearning-asa-ch1-3-step11.jpg)


12. <span data-ttu-id="72769-228">Последний шаг — это сборка на вашем устройстве. Выберите "Отладка" > "Запуск без отладки".</span><span class="sxs-lookup"><span data-stu-id="72769-228">The final step is to build to your device by selecting Debug>Start without Debugging.</span></span> <span data-ttu-id="72769-229">Выбор команды Запуск без отладки приводит к немедленному запуску приложения на устройстве после успешной сборки без отладочной информации в Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="72769-229">Selecting Start without Debugging causes the application to immediately start on your device upon a successful build without Debugging information appearing in Visual Studio.</span></span> <span data-ttu-id="72769-230">Это также означает, что вы можете отсоединить USB-кабель во время выполнения приложения на устройстве HoloLens 2, не прерывая его работу.</span><span class="sxs-lookup"><span data-stu-id="72769-230">This also means that you can disconnect your USB cable while your application is running on your HoloLens 2 without stopping the application.</span></span> <span data-ttu-id="72769-231">Вы также можете выбрать сборка > развернуть решение для развертывания на устройстве без автоматического запуска приложения.</span><span class="sxs-lookup"><span data-stu-id="72769-231">You might also select Build>Deploy Solution to deploy to your device without having the application automatically start.</span></span>

    ![мрлеарнинг-ASA-CH1-3-step12](images/mrlearning-asa-ch1-3-step12.jpg)

><span data-ttu-id="72769-233">Примечание. Пространственные привязки Azure используют Интернет для сохранения и загрузки данных привязки, поэтому перед тестированием приложения ASA убедитесь, что устройство подключено к Интернету.</span><span class="sxs-lookup"><span data-stu-id="72769-233">Note: The Azure spatial anchors uses the internet to save and load the anchor data so make sure your device is connected to the internet before testing the ASA app.</span></span>

13. <span data-ttu-id="72769-234">Следуйте инструкциям.</span><span class="sxs-lookup"><span data-stu-id="72769-234">Follow the instructions.</span></span> 
    <span data-ttu-id="72769-235">При запуске приложения на устройстве следуйте инструкциям на экране.</span><span class="sxs-lookup"><span data-stu-id="72769-235">When the application is running on your device, follow the on-screen instructions.</span></span> <span data-ttu-id="72769-236">Нажмите кнопки сцены, соответствующие приведенным ниже шагам.</span><span class="sxs-lookup"><span data-stu-id="72769-236">Press the Scene buttons corresponding to the Steps below.</span></span> <span data-ttu-id="72769-237">Если вы добавили окно отладки, как упоминалось на предыдущих шагах, можно увидеть отзыв для отдельных нажатий кнопки и ход выполнения отдельных операций, связанных с пространственными привязками Azure.</span><span class="sxs-lookup"><span data-stu-id="72769-237">If you added the debug window as mentioned in the previous steps, you can see the feedback for individual button press and the progress of individual operations related to Azure spatial anchors.</span></span>

![module2chapter1step10eim](images/module2chapter1step10eim.PNG)
    
    1. <span data-ttu-id="72769-239">Запустите сеанс пространственных привязок.</span><span class="sxs-lookup"><span data-stu-id="72769-239">Start the spatial anchors session.</span></span>
    
    2. <span data-ttu-id="72769-240">Переместить куб в другое расположение.</span><span class="sxs-lookup"><span data-stu-id="72769-240">Move the cube to a different location.</span></span>
    
    3. <span data-ttu-id="72769-241">Сохраните пространственные привязки Azure в расположении Куба.</span><span class="sxs-lookup"><span data-stu-id="72769-241">Save the Azure spatial anchors at the location of the cube.</span></span>
    
    4. <span data-ttu-id="72769-242">Останавливает сеанс пространственных привязок Azure.</span><span class="sxs-lookup"><span data-stu-id="72769-242">Stop the Azure spatial anchors session.</span></span>
    
    5. <span data-ttu-id="72769-243">Удалите локальную привязку Куба, чтобы разрешить пользователю перемещать куб.</span><span class="sxs-lookup"><span data-stu-id="72769-243">Remove the local anchor on the cube to allow the user to move the cube.</span></span>
    
    6. <span data-ttu-id="72769-244">Переместите куб в другое место.</span><span class="sxs-lookup"><span data-stu-id="72769-244">Move the cube somewhere else.</span></span>
    
    7. <span data-ttu-id="72769-245">Запустите сеанс пространственных привязок Azure.</span><span class="sxs-lookup"><span data-stu-id="72769-245">Start Azure spatial anchors session.</span></span>
    
    8. <span data-ttu-id="72769-246">Поиск пространственных привязок Azure.</span><span class="sxs-lookup"><span data-stu-id="72769-246">Find Azure Spatial Anchors.</span></span> 
    <span data-ttu-id="72769-247">Следует вернуться к исходному расположению, которое вы поместили при создании привязки.</span><span class="sxs-lookup"><span data-stu-id="72769-247">You should go back to the original place you put it when you created the anchor.</span></span>
    
    9. <span data-ttu-id="72769-248">Удалите пространственный якорь Azure.</span><span class="sxs-lookup"><span data-stu-id="72769-248">Delete Azure spatial anchor.</span></span>
    
    10. <span data-ttu-id="72769-249">Останавливает сеанс Azure.</span><span class="sxs-lookup"><span data-stu-id="72769-249">Stop Azure session.</span></span>

### <a name="anchoring-an-experience"></a><span data-ttu-id="72769-250">Привязка интерфейса</span><span class="sxs-lookup"><span data-stu-id="72769-250">Anchoring an experience</span></span>

<span data-ttu-id="72769-251">В предыдущих разделах вы узнали основы пространственных привязок Azure.</span><span class="sxs-lookup"><span data-stu-id="72769-251">In the previous sections, you learned the fundamentals of Azure Spatial Anchors.</span></span> <span data-ttu-id="72769-252">Мы использовали куб для представления и визуализации родительского объекта Game с присоединенной привязкой.</span><span class="sxs-lookup"><span data-stu-id="72769-252">We've used a cube to represent and visualize the parent game object with the attached anchor.</span></span> <span data-ttu-id="72769-253">В этом разделе вы узнаете, как закрепить весь интерфейс, поместив его в качестве дочернего элемента объекта Парентанчор.</span><span class="sxs-lookup"><span data-stu-id="72769-253">In this section, you'll learn how to anchor an entire experience by placing it as a child of the ParentAnchor object.</span></span> <span data-ttu-id="72769-254">В этом примере используется демонстрационное приложение для работы с лунной сборкой, созданное во время [занятия 6](mrlearning-base-ch6.md).</span><span class="sxs-lookup"><span data-stu-id="72769-254">For this example, we use the lunar module Assembly demonstration application that was created during [Base module Lesson 6](mrlearning-base-ch6.md).</span></span>

1. <span data-ttu-id="72769-255">Выполните поиск по фразе "Rocket Launcher Complete" prefab и перетащите его в иерархию как дочерний объект (см. рисунок ниже).</span><span class="sxs-lookup"><span data-stu-id="72769-255">Search for the "Rocket Launcher Complete" prefab and drag it into your hierarchy as a child of the object (see the image below).</span></span>

![module2chapter1step11](images/module2chapter1step11im.PNG)

2. <span data-ttu-id="72769-257">Поместите интерфейс сборки модуля так, чтобы куб по-прежнему был доступен, как показано на рисунке ниже.</span><span class="sxs-lookup"><span data-stu-id="72769-257">Position the module assembly experience so that the cube is still exposed, as shown in the image below.</span></span> <span data-ttu-id="72769-258">В приложении пользователи могут передвинуть весь процесс, переместив куб.</span><span class="sxs-lookup"><span data-stu-id="72769-258">In the application, users may reposition the entire experience by moving the cube.</span></span> 

![module2chapter1step12im](images/module2chapter1step12im.PNG)

> <span data-ttu-id="72769-260">Примечание. Существует множество потоков взаимодействия с пользователем для изменения положения, включая использование кнопки для переключения ограничивающего прямоугольника, окружающего интерфейс, использование объекта изменения положения (такого как куб, используемый на этом шаге), использование положения и вращения. приспособлений и многое другое.</span><span class="sxs-lookup"><span data-stu-id="72769-260">Note: There are a variety of user experience flows for repositioning experiences, including the use of a button to toggle a bounding box that surrounds the experience, use of a repositioning object (such as the cube used in this step), the use of position and rotation gizmos, and more.</span></span>

## <a name="congratulations"></a><span data-ttu-id="72769-261">Поздравляем!</span><span class="sxs-lookup"><span data-stu-id="72769-261">Congratulations</span></span>
<span data-ttu-id="72769-262">В этом руководстве вы узнали основы пространственных привязок Azure.</span><span class="sxs-lookup"><span data-stu-id="72769-262">In this tutorial, you learned the fundamentals of Azure Spatial Anchors.</span></span> <span data-ttu-id="72769-263">На этом занятии приводятся несколько кнопок, позволяющих изучить различные шаги, необходимые для запуска и завершения сеанса Azure, а также для создания, отправки и скачивания привязок Azure на одном устройстве.</span><span class="sxs-lookup"><span data-stu-id="72769-263">This Lesson provided you with several buttons that let you  explore the various steps required to start and stop an Azure session and create, upload and download azure anchors on a single device.</span></span> <span data-ttu-id="72769-264">На следующем занятии вы узнаете, как сохранить идентификаторы привязки Azure в HoloLens 2 для получения, даже после перезапуска приложения.</span><span class="sxs-lookup"><span data-stu-id="72769-264">In the next lesson, you'll learn how to save Azure anchor IDs to your HoloLens 2 for retrieval, even after the application is restarted.</span></span> <span data-ttu-id="72769-265">В ходе серии вы также узнаете, как передавать идентификаторы привязки между несколькими устройствами, чтобы добиться пространственного выравнивания и узнать о многопользовательских общих сеансах, которые будут включены в руководство по совместному использованию.</span><span class="sxs-lookup"><span data-stu-id="72769-265">During the series, you will also learn how to transfer anchor IDs between multiple devices to achieve spatial alignment and learn about multi-user shared sessions, forthcoming as part of the Sharing tutorial.</span></span>

[<span data-ttu-id="72769-266">Следующее занятие: 2. сохранение, получение и совместное использование пространственных привязок Azure</span><span class="sxs-lookup"><span data-stu-id="72769-266">Next Lesson: 2. Saving, retrieving and sharing Azure Spatial Anchors</span></span>](mrlearning-asa-ch2.md)

