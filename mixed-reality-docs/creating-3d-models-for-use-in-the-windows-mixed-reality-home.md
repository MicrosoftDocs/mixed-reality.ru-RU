---
title: Создание трехмерных моделей для использования в домашней
description: Требования к активам и руководство по созданию трехмерных моделей для использования в домашней сети Windows Mixed Reality на гарнитурах HoloLens и иммерсивного (VR).
author: thmignon
ms.author: thmignon
ms.date: 03/21/2018
ms.topic: article
keywords: 3D, моделирование, руководство по моделированию, требования к ресурсам, руководства по разработке, средство запуска, трехмерное средство запуска, текстура, материалы, сложность, треугольники, сетка, многоугольники, предельные значения, ограничения
ms.openlocfilehash: 73af40cf2915742cab612625c8243a36ee74d748
ms.sourcegitcommit: f20beea6a539d04e1d1fc98116f7601137eebebe
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/05/2019
ms.locfileid: "66692284"
---
# <a name="create-3d-models-for-use-in-the-home"></a><span data-ttu-id="102c0-104">Создание трехмерных моделей для использования в домашней</span><span class="sxs-lookup"><span data-stu-id="102c0-104">Create 3D models for use in the home</span></span>

<span data-ttu-id="102c0-105">[Главная страница Windows Mixed Reality](navigating-the-windows-mixed-reality-home.md) — это отправная точка, в которой пользователи начинают работу перед запуском приложений.</span><span class="sxs-lookup"><span data-stu-id="102c0-105">The [Windows Mixed Reality home](navigating-the-windows-mixed-reality-home.md) is the starting point where users land before launching applications.</span></span> <span data-ttu-id="102c0-106">Вы можете спроектировать приложение для гарнитур Windows Mixed Reality, чтобы использовать трехмерную [модель в качестве средства запуска приложений](implementing-3d-app-launchers.md) , а также разрешить передачу [трехмерных ссылок в домашнюю страницу Windows Mixed Reality](implementing-3d-app-launchers.md#3d-deep-links-secondarytiles) из вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="102c0-106">You can design your application for Windows Mixed Reality headsets to leverage a [3D model as an app launcher](implementing-3d-app-launchers.md) and to allow [3D deep links to be placed into the Windows Mixed Reality home](implementing-3d-app-launchers.md#3d-deep-links-secondarytiles) from within your app.</span></span> <span data-ttu-id="102c0-107">В этой статье описаны рекомендации по созданию трехмерных моделей, совместимых с домашней средой Windows Mixed Reality.</span><span class="sxs-lookup"><span data-stu-id="102c0-107">This article outlines the guidelines for creating 3D models compatible with the Windows Mixed Reality home.</span></span>

## <a name="asset-requirements-overview"></a><span data-ttu-id="102c0-108">Обзор требований к ресурсам</span><span class="sxs-lookup"><span data-stu-id="102c0-108">Asset requirements overview</span></span>
<span data-ttu-id="102c0-109">При создании трехмерных моделей для Windows Mixed Reality существуют некоторые требования, которым должны соответствовать все активы:</span><span class="sxs-lookup"><span data-stu-id="102c0-109">When creating 3D models for Windows Mixed Reality there are some requirements that all assets must meet:</span></span> 
1. <span data-ttu-id="102c0-110">[Экспорт](#exporting-models) -активы должны доставляться в формате файла GLBA (двоичный глтф)</span><span class="sxs-lookup"><span data-stu-id="102c0-110">[Exporting](#exporting-models) - Assets must be delivered in the .glb file format (binary glTF)</span></span>
2. <span data-ttu-id="102c0-111">[Моделирование](#modeling-guidelines) — активы должны быть менее 10 000 треугольников, содержать не более 64 узлов и 32 подсетей на Лод</span><span class="sxs-lookup"><span data-stu-id="102c0-111">[Modeling](#modeling-guidelines) - Assets must be less than 10k triangles, have no more than 64 nodes and 32 submeshes per LOD</span></span>
3. <span data-ttu-id="102c0-112">[Материалы](#material-guidelines) — текстуры не могут быть больше 4096 x 4096, а наименьшая mipная схема должна быть не больше 4 в любом измерении.</span><span class="sxs-lookup"><span data-stu-id="102c0-112">[Materials](#material-guidelines) - Textures cannot be larger than 4096 x 4096 and the smallest mip map should be no larger than 4 on either dimension</span></span>
4. <span data-ttu-id="102c0-113">[Анимация](#animation-guidelines) -анимация не может быть длиннее 20 минут с частотой 30 кадров/с (36 000 опорных кадров) и должна содержать < = 8192 целевые вершины.</span><span class="sxs-lookup"><span data-stu-id="102c0-113">[Animation](#animation-guidelines) - Animations cannot be longer than 20 minutes at 30 FPS (36,000 keyframes) and must contain <= 8192 morph target vertices</span></span>
5. <span data-ttu-id="102c0-114">[Оптимизация](#optimizations) — активы следует оптимизировать с помощью [виндовсмрассетконвертер](https://github.com/Microsoft/glTF-Toolkit/releases).</span><span class="sxs-lookup"><span data-stu-id="102c0-114">[Optimizing](#optimizations) - Assets should be optimized using the [WindowsMRAssetConverter](https://github.com/Microsoft/glTF-Toolkit/releases).</span></span> <span data-ttu-id="102c0-115">Это **необходимо в ОС Windows версий < = 1709** и рекомендуется в версиях ос Windows > = 1803</span><span class="sxs-lookup"><span data-stu-id="102c0-115">This is **required on Windows OS Versions <= 1709** and recommended on Windows OS versions >= 1803</span></span>

<span data-ttu-id="102c0-116">Оставшаяся часть этой статьи содержит подробный обзор этих требований, а также дополнительные рекомендации по обеспечению правильности работы моделей с домашней средой Windows Mixed Reality.</span><span class="sxs-lookup"><span data-stu-id="102c0-116">The rest of this article includes a detailed overview of these requirements as well as additional guidelines to ensure your models work well with the Windows Mixed Reality home.</span></span> 

## <a name="detailed-guidance"></a><span data-ttu-id="102c0-117">Подробное руководство</span><span class="sxs-lookup"><span data-stu-id="102c0-117">Detailed guidance</span></span>

### <a name="exporting-models"></a><span data-ttu-id="102c0-118">Экспорт моделей</span><span class="sxs-lookup"><span data-stu-id="102c0-118">Exporting models</span></span>

<span data-ttu-id="102c0-119">Домашняя страница Windows Mixed Reality, как и в случае с внедренными изображениями и двоичными данными, должна доставлять трехмерные ресурсы с использованием формата GLBA-файла.</span><span class="sxs-lookup"><span data-stu-id="102c0-119">The Windows Mixed Reality home expects 3D assets to be delivered using the .glb file format with embedded images and binary data.</span></span> <span data-ttu-id="102c0-120">GLBA — это двоичная версия формата Глтф, который является прямым свободным открытым стандартом для доставки трехмерных ресурсов, поддерживаемой группой Кхронос.</span><span class="sxs-lookup"><span data-stu-id="102c0-120">Glb is the binary version of the glTF format which is a royalty free open standard for 3D asset delivery maintained by the Khronos group.</span></span> <span data-ttu-id="102c0-121">Так как Глтф развивается как промышленный стандарт для взаимодействия с трехмерным содержимым, корпорация Майкрософт будет поддерживать формат для приложений и интерфейсов Windows.</span><span class="sxs-lookup"><span data-stu-id="102c0-121">As glTF evolves as an industry standard for interoperable 3D content so will Microsoft’s support for the format across Windows apps and experiences.</span></span> <span data-ttu-id="102c0-122">Если вы еще не создавали ресурс-контейнер Глтф, вы сможете найти [список поддерживаемых средств экспорта и конвертеров](https://github.com/KhronosGroup/glTF/blob/master/README.md#converters-and-exporters) на странице глтф Рабочей группы GitHub.</span><span class="sxs-lookup"><span data-stu-id="102c0-122">If you haven't created a glTF asset before you can find a [list of supported exporters and converters](https://github.com/KhronosGroup/glTF/blob/master/README.md#converters-and-exporters) on the glTF working group github page.</span></span>  

### <a name="modeling-guidelines"></a><span data-ttu-id="102c0-123">Рекомендации по моделированию</span><span class="sxs-lookup"><span data-stu-id="102c0-123">Modeling guidelines</span></span>

<span data-ttu-id="102c0-124">Для обеспечения совместимости с домашним интерфейсом в смешанной реальности Windows планирует создание ресурсов с использованием следующих руководств по моделированию.</span><span class="sxs-lookup"><span data-stu-id="102c0-124">Windows expects assets to be generated using the following modeling guidelines to ensure compatibility with the Mixed Reality home experience.</span></span> <span data-ttu-id="102c0-125">При моделировании в вашей программе по своему усмотрению учитывайте следующие рекомендации и ограничения.</span><span class="sxs-lookup"><span data-stu-id="102c0-125">When modeling in your program of your choice keep in mind the following recommendations and limitations:</span></span>
1. <span data-ttu-id="102c0-126">Для оси up должно быть задано значение "Y".</span><span class="sxs-lookup"><span data-stu-id="102c0-126">The Up axis should be set to “Y”.</span></span>
2. <span data-ttu-id="102c0-127">Ресурс должен иметь значение "Forward", направленное на положительную ось Z.</span><span class="sxs-lookup"><span data-stu-id="102c0-127">The asset should face “forward” towards the positive Z axis.</span></span>
3. <span data-ttu-id="102c0-128">Все активы должны быть построены на плоскости основания в источнике сцены (0, 0, 0).</span><span class="sxs-lookup"><span data-stu-id="102c0-128">All assets should be built on the ground plane at the scene origin (0,0,0)</span></span>
4. <span data-ttu-id="102c0-129">Рабочие единицы должны иметь значение "измерительы и активы", чтобы ресурсы можно было создавать в масштабе мира.</span><span class="sxs-lookup"><span data-stu-id="102c0-129">Working Units should be set to meters and assets so that assets can be authored at world scale</span></span>
5. <span data-ttu-id="102c0-130">Все сетки не нужно объединять, но рекомендуется при использовании устройств с ограниченными ресурсами</span><span class="sxs-lookup"><span data-stu-id="102c0-130">All meshes do not need to be combined but it is recommended if you are targeting resource constrained devices</span></span>
6. <span data-ttu-id="102c0-131">Все сетки должны совместно использовать 1 материал, только 1 набор текстур, используемый для всего ресурса.</span><span class="sxs-lookup"><span data-stu-id="102c0-131">All meshes should share 1 material, with only 1 texture set being used for the whole asset</span></span>
7. <span data-ttu-id="102c0-132">UVs должны быть размещены в квадратном расположении в 0-1.</span><span class="sxs-lookup"><span data-stu-id="102c0-132">UVs must be laid out in a square arrangement in the 0-1 space.</span></span> <span data-ttu-id="102c0-133">Старайтесь не использовать текстуры мозаичного заполнения, хотя это и разрешено.</span><span class="sxs-lookup"><span data-stu-id="102c0-133">Avoid tiling textures although they are permitted.</span></span>
8. <span data-ttu-id="102c0-134">Multi-UVs не поддерживается</span><span class="sxs-lookup"><span data-stu-id="102c0-134">Multi-UVs are not supported</span></span>
9. <span data-ttu-id="102c0-135">Двусторонние материалы не поддерживаются</span><span class="sxs-lookup"><span data-stu-id="102c0-135">Double sided materials are not supported</span></span>

### <a name="triangle-counts-and-levels-of-detail-lods"></a><span data-ttu-id="102c0-136">Количество треугольников и уровни детализации (Лодс)</span><span class="sxs-lookup"><span data-stu-id="102c0-136">Triangle counts and levels of detail (LODs)</span></span>

<span data-ttu-id="102c0-137">Домашняя страница Windows Mixed Reality не поддерживает модели с более чем 10 000 треугольниками.</span><span class="sxs-lookup"><span data-stu-id="102c0-137">The Windows Mixed Reality home does not support models with more than 10,000 triangles.</span></span> <span data-ttu-id="102c0-138">Перед экспортом рекомендуется выполнить триангуляцию сеток, чтобы убедиться, что они не превышают этот счетчик.</span><span class="sxs-lookup"><span data-stu-id="102c0-138">It’s recommended that you triangulate your meshes before exporting to ensure that they do not exceed this count.</span></span> <span data-ttu-id="102c0-139">Windows MR также поддерживает дополнительные геометрические уровни детализации (Лодс), чтобы обеспечить работоспособность и высокое качество работы.</span><span class="sxs-lookup"><span data-stu-id="102c0-139">Windows MR also supports optional geometry levels of detail (LODs) to ensure a performant and high-quality experience.</span></span> <span data-ttu-id="102c0-140">[Виндовсмрассетконвертер](https://github.com/Microsoft/glTF-Toolkit/releases) поможет объединить 3 версии модели в одну модель. GLBA.</span><span class="sxs-lookup"><span data-stu-id="102c0-140">[The WindowsMRAssetConverter](https://github.com/Microsoft/glTF-Toolkit/releases) will help you combine 3 versions of your model into a single .glb model.</span></span> <span data-ttu-id="102c0-141">Windows определяет, какие Лод должны отображаться в зависимости от объема экрана, который занимает модель.</span><span class="sxs-lookup"><span data-stu-id="102c0-141">Windows determines which LOD to display based on the amount of screen real estate the model is taking up.</span></span> <span data-ttu-id="102c0-142">Поддерживаются только три уровня Лод со следующими рекомендуемыми числами треугольников:</span><span class="sxs-lookup"><span data-stu-id="102c0-142">Only 3 LOD levels are supported with the following recommended triangle counts:</span></span>
<br>

|  <span data-ttu-id="102c0-143">Уровень Лод</span><span class="sxs-lookup"><span data-stu-id="102c0-143">LOD Level</span></span>  |  <span data-ttu-id="102c0-144">Рекомендуемое число треугольников</span><span class="sxs-lookup"><span data-stu-id="102c0-144">Recommended Triangle Count</span></span>  |  <span data-ttu-id="102c0-145">Максимальное число треугольников</span><span class="sxs-lookup"><span data-stu-id="102c0-145">Max Triangle Count</span></span> | 
|------|------|------|
|  <span data-ttu-id="102c0-146">ЛОД 0</span><span class="sxs-lookup"><span data-stu-id="102c0-146">LOD 0</span></span> |  <span data-ttu-id="102c0-147">10 000</span><span class="sxs-lookup"><span data-stu-id="102c0-147">10,000</span></span> |  <span data-ttu-id="102c0-148">10 000</span><span class="sxs-lookup"><span data-stu-id="102c0-148">10,000</span></span> | 
|  <span data-ttu-id="102c0-149">ЛОД 1</span><span class="sxs-lookup"><span data-stu-id="102c0-149">LOD 1</span></span> |  <span data-ttu-id="102c0-150">5 000</span><span class="sxs-lookup"><span data-stu-id="102c0-150">5,000</span></span>  |  <span data-ttu-id="102c0-151">10 000</span><span class="sxs-lookup"><span data-stu-id="102c0-151">10,000</span></span> | 
|  <span data-ttu-id="102c0-152">ЛОД 2</span><span class="sxs-lookup"><span data-stu-id="102c0-152">LOD 2</span></span> |  <span data-ttu-id="102c0-153">2 500</span><span class="sxs-lookup"><span data-stu-id="102c0-153">2,500</span></span>  |  <span data-ttu-id="102c0-154">10 000</span><span class="sxs-lookup"><span data-stu-id="102c0-154">10,000</span></span> | 

### <a name="node-counts-and-submesh-limits"></a><span data-ttu-id="102c0-155">Ограничения количества узлов и подсети</span><span class="sxs-lookup"><span data-stu-id="102c0-155">Node counts and submesh limits</span></span>
<span data-ttu-id="102c0-156">Домашняя страница Windows Mixed Reality не поддерживает модели с более чем 64 узлами или подсетями 32 на Лод.</span><span class="sxs-lookup"><span data-stu-id="102c0-156">The Windows Mixed Reality home does not support models with more than 64 nodes or 32 submeshes per LOD.</span></span> <span data-ttu-id="102c0-157">Узлы являются концепцией в [спецификации глтф](https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy) , определяющей объекты в сцене.</span><span class="sxs-lookup"><span data-stu-id="102c0-157">Nodes are a concept in the [glTF specification](https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy) that define the objects in the scene.</span></span> <span data-ttu-id="102c0-158">Подсети определяются в массиве [примитивов](https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#meshes) сетки в объекте.</span><span class="sxs-lookup"><span data-stu-id="102c0-158">Submeshes are defined in the array of [primitives](https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#meshes) on the mesh in the object.</span></span> 

|  <span data-ttu-id="102c0-159">Компонент</span><span class="sxs-lookup"><span data-stu-id="102c0-159">Feature</span></span> |  <span data-ttu-id="102c0-160">Описание</span><span class="sxs-lookup"><span data-stu-id="102c0-160">Description</span></span>  |  <span data-ttu-id="102c0-161">Максимальное поддерживаемое</span><span class="sxs-lookup"><span data-stu-id="102c0-161">Max Supported</span></span> | <span data-ttu-id="102c0-162">Документация</span><span class="sxs-lookup"><span data-stu-id="102c0-162">Documentation</span></span> |
|------|------|------|------|
|  <span data-ttu-id="102c0-163">Узлы</span><span class="sxs-lookup"><span data-stu-id="102c0-163">Nodes</span></span> |  <span data-ttu-id="102c0-164">Объекты в сцене Глтф</span><span class="sxs-lookup"><span data-stu-id="102c0-164">Objects in the glTF Scene</span></span> |  <span data-ttu-id="102c0-165">64 на Лод</span><span class="sxs-lookup"><span data-stu-id="102c0-165">64 per LOD</span></span> | [<span data-ttu-id="102c0-166">Здесь</span><span class="sxs-lookup"><span data-stu-id="102c0-166">Here</span></span>](https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy)|
|  <span data-ttu-id="102c0-167">Подсети</span><span class="sxs-lookup"><span data-stu-id="102c0-167">Submeshes</span></span> |  <span data-ttu-id="102c0-168">Сумма примитивов во всех сетках</span><span class="sxs-lookup"><span data-stu-id="102c0-168">Sum of primitives on all meshes</span></span> |  <span data-ttu-id="102c0-169">32 на Лод</span><span class="sxs-lookup"><span data-stu-id="102c0-169">32 per LOD</span></span> | [<span data-ttu-id="102c0-170">Здесь</span><span class="sxs-lookup"><span data-stu-id="102c0-170">Here</span></span>](https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#meshes)|

## <a name="material-guidelines"></a><span data-ttu-id="102c0-171">Руководства по материалам</span><span class="sxs-lookup"><span data-stu-id="102c0-171">Material guidelines</span></span>

<span data-ttu-id="102c0-172">Текстуры должны быть подготовлены с помощью рабочего процесса грубого использования PBR.</span><span class="sxs-lookup"><span data-stu-id="102c0-172">Textures should be prepared using a PBR metal roughness workflow.</span></span> <span data-ttu-id="102c0-173">Начнем с создания полного набора текстур, включая Албедо, обычная, перекрытия, металл и грубое значение.</span><span class="sxs-lookup"><span data-stu-id="102c0-173">Begin by creating a full set of textures including Albedo, Normal, Occlusion, Metallic, and Roughness.</span></span> <span data-ttu-id="102c0-174">Windows Mixed Reality поддерживает текстуры с разрешением до 4096x4096, но рекомендуется создавать на 512 x 512.</span><span class="sxs-lookup"><span data-stu-id="102c0-174">Windows Mixed Reality supports textures with resolutions up to 4096x4096 but its recommended that you author at 512x512.</span></span> <span data-ttu-id="102c0-175">Кроме того, текстуры должны создаваться с разрешением, кратным 4, так как это требуется для формата сжатия, применяемого к текстурам в шагах экспорта, описанных ниже.</span><span class="sxs-lookup"><span data-stu-id="102c0-175">Additionally textures should be authored at resolutions in multiples of 4 as this is a requirement for the compression format applied to textures in the exporting steps outlined below.</span></span> <span data-ttu-id="102c0-176">Наконец, при сопоставлении жератинг MIP или текстуры наименьший MIP должен быть не более 4x4.</span><span class="sxs-lookup"><span data-stu-id="102c0-176">Finally, when gerating mip maps or a texture the lowest mip must be a maximum of 4x4.</span></span>
<br>

|  <span data-ttu-id="102c0-177">Рекомендуемый размер текстуры</span><span class="sxs-lookup"><span data-stu-id="102c0-177">Recommended Texture Size</span></span>  |  <span data-ttu-id="102c0-178">Максимальный размер текстуры</span><span class="sxs-lookup"><span data-stu-id="102c0-178">Max Texture Size</span></span> | <span data-ttu-id="102c0-179">Наименьший MIP</span><span class="sxs-lookup"><span data-stu-id="102c0-179">Lowest Mip</span></span>
|----|----|----|
|  <span data-ttu-id="102c0-180">512 x 512</span><span class="sxs-lookup"><span data-stu-id="102c0-180">512x512</span></span>  |  <span data-ttu-id="102c0-181">4096x4096</span><span class="sxs-lookup"><span data-stu-id="102c0-181">4096x4096</span></span> | <span data-ttu-id="102c0-182">Максимальное число 4x4</span><span class="sxs-lookup"><span data-stu-id="102c0-182">max 4x4</span></span>|

### <a name="albedo-base-color-map"></a><span data-ttu-id="102c0-183">Схема албедо (базовый цвет)</span><span class="sxs-lookup"><span data-stu-id="102c0-183">Albedo (base color) map</span></span>

<span data-ttu-id="102c0-184">Необработанный цвет без сведений о освещении.</span><span class="sxs-lookup"><span data-stu-id="102c0-184">Raw color with no lighting information.</span></span> <span data-ttu-id="102c0-185">Эта схема также содержит сведения о отражении и диффузии для металлического (белого на карте металла) и изолированного (черного на карте металлические) поверхностей.</span><span class="sxs-lookup"><span data-stu-id="102c0-185">This map also contains the reflectance and diffuse information for metal (white in the metallic map) and insulator (black in the metallic map) surfaces respectively.</span></span>

### <a name="normal"></a><span data-ttu-id="102c0-186">Обычный</span><span class="sxs-lookup"><span data-stu-id="102c0-186">Normal</span></span>

<span data-ttu-id="102c0-187">Нормальная схема пространства тангенса</span><span class="sxs-lookup"><span data-stu-id="102c0-187">Tangent Space Normal map</span></span>

### <a name="roughness-map"></a><span data-ttu-id="102c0-188">Схема неровностей</span><span class="sxs-lookup"><span data-stu-id="102c0-188">Roughness map</span></span>

<span data-ttu-id="102c0-189">Описывает микроповерхность объекта.</span><span class="sxs-lookup"><span data-stu-id="102c0-189">Describes the microsurface of the object.</span></span> <span data-ttu-id="102c0-190">Белый 1,0 — грубое черно-то 0,0 — Гладкий.</span><span class="sxs-lookup"><span data-stu-id="102c0-190">White 1.0 is rough Black 0.0 is smooth.</span></span> <span data-ttu-id="102c0-191">Эта карта предоставляет средства, которые наиболее символ как по-настоящему описывает области например חאכמזטע, отпечатки пальцев, стекле, grime и т.д.</span><span class="sxs-lookup"><span data-stu-id="102c0-191">This map gives the asset the most character as it truly describes the surface e.g. scratches, fingerprints, smudges, grime etc.</span></span>

### <a name="ambient-occlusion-map"></a><span data-ttu-id="102c0-192">Внешняя схема перекрытия</span><span class="sxs-lookup"><span data-stu-id="102c0-192">Ambient occlusion map</span></span>

<span data-ttu-id="102c0-193">Масштабирование значений, описывающее области перекрыто Light, которые блокируют отражения</span><span class="sxs-lookup"><span data-stu-id="102c0-193">Value scale map depicting areas of occluded light which blocks reflections</span></span>

### <a name="metallic-map"></a><span data-ttu-id="102c0-194">Металлический карте</span><span class="sxs-lookup"><span data-stu-id="102c0-194">Metallic map</span></span>

<span data-ttu-id="102c0-195">Сообщает шейдеру, если что-то произошло.</span><span class="sxs-lookup"><span data-stu-id="102c0-195">Tells the shader if something is metal or not.</span></span> <span data-ttu-id="102c0-196">Необработанный металл = 1,0 белый без металла = 0,0 черный.</span><span class="sxs-lookup"><span data-stu-id="102c0-196">Raw Metal = 1.0 white Non metal = 0.0 black.</span></span> <span data-ttu-id="102c0-197">Могут быть серые значения, указывающие на то, что что-то покрывает необработанный металл, например мотокросса, но в целом эта схема должна быть только черно-белой.</span><span class="sxs-lookup"><span data-stu-id="102c0-197">There can be transitional gray values that indicate something covering the raw metal such as dirt, but in general this map should be black and white only.</span></span>

## <a name="optimizations"></a><span data-ttu-id="102c0-198">Оптимизации</span><span class="sxs-lookup"><span data-stu-id="102c0-198">Optimizations</span></span>

<span data-ttu-id="102c0-199">Домашняя страница Windows Mixed Reality предлагает серию оптимизаций на основе базовой спецификации Глтф, определенной с помощью пользовательских расширений.</span><span class="sxs-lookup"><span data-stu-id="102c0-199">Windows Mixed Reality home offers a series of optimizations on top of the core glTF spec defined using custom extensions.</span></span> <span data-ttu-id="102c0-200">Эти оптимизации необходимы в версиях Windows < = 1709 и рекомендуются в более новых версиях Windows.</span><span class="sxs-lookup"><span data-stu-id="102c0-200">These optimizations are required on Windows versions <= 1709 and recommended on newer versions of Windows.</span></span> <span data-ttu-id="102c0-201">Вы можете легко оптимизировать любую модель Глтф 2,0 с помощью [конвертера активов Windows Mixed Reality, доступного на GitHub](https://github.com/Microsoft/glTF-Toolkit/releases).</span><span class="sxs-lookup"><span data-stu-id="102c0-201">You can easily optimize any glTF 2.0 model using the [Windows Mixed Reality Asset Converter available on GitHub](https://github.com/Microsoft/glTF-Toolkit/releases).</span></span> <span data-ttu-id="102c0-202">Это средство будет выполнять правильную упаковку и оптимизацию текстуры, как указано ниже.</span><span class="sxs-lookup"><span data-stu-id="102c0-202">This tool will perform the correct texture packing and optimizations as specified below.</span></span> <span data-ttu-id="102c0-203">Для общего использования мы рекомендуем использовать Виндовсмрассетконвертер, но если вам нужен больший контроль над опытом и хотите создать собственный конвейер оптимизации, вы можете обратиться к подробной спецификации ниже.</span><span class="sxs-lookup"><span data-stu-id="102c0-203">For general usage we recommend using the WindowsMRAssetConverter, but if you need more control over the experience and would like to build your own optmization pipeline then you can refer to the detailed specification below.</span></span>  

### <a name="materials"></a><span data-ttu-id="102c0-204">Описан</span><span class="sxs-lookup"><span data-stu-id="102c0-204">Materials</span></span>

<span data-ttu-id="102c0-205">Чтобы улучшить время загрузки актива в средах смешанной реальности, Windows MR поддерживает визуализацию сжатых текстур DDS, упакованных в соответствии со схемой упаковки, определенной в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="102c0-205">To improve asset loading time in Mixed Reality environments Windows MR supports rendering compressed DDS textures packed according to the texture packing scheme defined in this section.</span></span> <span data-ttu-id="102c0-206">Для ссылок на текстуры DDS используется [расширение MSFT_texture_dds](https://github.com/sbtron/glTF/tree/MSFT_lod/extensions/Vendor/MSFT_texture_dds).</span><span class="sxs-lookup"><span data-stu-id="102c0-206">DDS textures are referenced using the [MSFT_texture_dds extension](https://github.com/sbtron/glTF/tree/MSFT_lod/extensions/Vendor/MSFT_texture_dds).</span></span> <span data-ttu-id="102c0-207">Настоятельно рекомендуется сжимать текстуры.</span><span class="sxs-lookup"><span data-stu-id="102c0-207">Compressing textures is highly recommended.</span></span> 

#### <a name="hololens"></a><span data-ttu-id="102c0-208">HoloLens</span><span class="sxs-lookup"><span data-stu-id="102c0-208">HoloLens</span></span>

<span data-ttu-id="102c0-209">В работе смешанной реальности на основе HoloLens требуется упаковка текстур с помощью 2-текстурной установки с использованием следующей спецификации упаковки:</span><span class="sxs-lookup"><span data-stu-id="102c0-209">HoloLens-based mixed reality experiences expect textures to be packed using a 2-texture setup using the following packing specification:</span></span>
<br>

|  <span data-ttu-id="102c0-210">Глтф, свойство</span><span class="sxs-lookup"><span data-stu-id="102c0-210">glTF Property</span></span>  |  <span data-ttu-id="102c0-211">Поддержки</span><span class="sxs-lookup"><span data-stu-id="102c0-211">Texture</span></span>  |  <span data-ttu-id="102c0-212">Схема упаковки</span><span class="sxs-lookup"><span data-stu-id="102c0-212">Packing Scheme</span></span> | 
|----------|----------|----------|
|  <span data-ttu-id="102c0-213">пбрметалликраугхнесс</span><span class="sxs-lookup"><span data-stu-id="102c0-213">pbrMetallicRoughness</span></span>  |  <span data-ttu-id="102c0-214">басеколортекстуре</span><span class="sxs-lookup"><span data-stu-id="102c0-214">baseColorTexture</span></span>  |  <span data-ttu-id="102c0-215">Красный (R), зеленый (G), синий (B)</span><span class="sxs-lookup"><span data-stu-id="102c0-215">Red (R), Green (G), Blue (B)</span></span> | 
|  [<span data-ttu-id="102c0-216">MSFT_packing_normalRoughnessMetallic</span><span class="sxs-lookup"><span data-stu-id="102c0-216">MSFT_packing_normalRoughnessMetallic</span></span>](https://github.com/KhronosGroup/glTF/blob/master/extensions/2.0/Vendor/MSFT_packing_normalRoughnessMetallic/README.md)  |  <span data-ttu-id="102c0-217">нормалраугхнессметалликтекстуре</span><span class="sxs-lookup"><span data-stu-id="102c0-217">normalRoughnessMetallicTexture</span></span>  |  <span data-ttu-id="102c0-218">Обычная (RG), грубая (B), металлическая (A)</span><span class="sxs-lookup"><span data-stu-id="102c0-218">Normal (RG), Roughness (B), Metallic (A)</span></span> | 


<span data-ttu-id="102c0-219">При сжатии текстур DDS на каждой карте ожидается следующее сжатие:</span><span class="sxs-lookup"><span data-stu-id="102c0-219">When compressing the DDS textures the following compression is expected on each map:</span></span>
<br>

|  <span data-ttu-id="102c0-220">Поддержки</span><span class="sxs-lookup"><span data-stu-id="102c0-220">Texture</span></span>  |  <span data-ttu-id="102c0-221">Ожидаемое сжатие</span><span class="sxs-lookup"><span data-stu-id="102c0-221">Expected Compression</span></span> | 
|------|------|
|  <span data-ttu-id="102c0-222">Басеколортекстуре, Нормалраугхнессметалликтекстуре</span><span class="sxs-lookup"><span data-stu-id="102c0-222">baseColorTexture, normalRoughnessMetallicTexture</span></span> |  <span data-ttu-id="102c0-223">BC7</span><span class="sxs-lookup"><span data-stu-id="102c0-223">BC7</span></span> | 

#### <a name="immersive-vr-headsets"></a><span data-ttu-id="102c0-224">Головные гарнитуры (VR)</span><span class="sxs-lookup"><span data-stu-id="102c0-224">Immersive (VR) headsets</span></span>

<span data-ttu-id="102c0-225">Возможности Windows Mixed Reality для наушников (VR) на базе ПК предполагают упаковку текстур с помощью 3-текстурной установки с использованием следующей спецификации упаковки:</span><span class="sxs-lookup"><span data-stu-id="102c0-225">PC-based Windows Mixed Reality experiences for immersive (VR) headsets expect textures to be packed using a 3-texture setup using the following packing specification:</span></span>

##### <a name="windows-os--1803"></a><span data-ttu-id="102c0-226">ОС Windows > = 1803</span><span class="sxs-lookup"><span data-stu-id="102c0-226">Windows OS >= 1803</span></span>

<br>

|  <span data-ttu-id="102c0-227">Глтф, свойство</span><span class="sxs-lookup"><span data-stu-id="102c0-227">glTF Property</span></span>  |  <span data-ttu-id="102c0-228">Поддержки</span><span class="sxs-lookup"><span data-stu-id="102c0-228">Texture</span></span>  |  <span data-ttu-id="102c0-229">Схема упаковки</span><span class="sxs-lookup"><span data-stu-id="102c0-229">Packing Scheme</span></span> | 
|----------|----------|----------|
|  <span data-ttu-id="102c0-230">пбрметалликраугхнесс</span><span class="sxs-lookup"><span data-stu-id="102c0-230">pbrMetallicRoughness</span></span>  |  <span data-ttu-id="102c0-231">басеколортекстуре</span><span class="sxs-lookup"><span data-stu-id="102c0-231">baseColorTexture</span></span>  |  <span data-ttu-id="102c0-232">Красный (R), зеленый (G), синий (B)</span><span class="sxs-lookup"><span data-stu-id="102c0-232">Red (R), Green (G), Blue (B)</span></span> | 
|  [<span data-ttu-id="102c0-233">MSFT_packing_occlusionRoughnessMetallic</span><span class="sxs-lookup"><span data-stu-id="102c0-233">MSFT_packing_occlusionRoughnessMetallic</span></span>](https://github.com/KhronosGroup/glTF/blob/master/extensions/2.0/Vendor/MSFT_packing_occlusionRoughnessMetallic/README.md)  |  <span data-ttu-id="102c0-234">окклусионраугхнессметалликтекстуре</span><span class="sxs-lookup"><span data-stu-id="102c0-234">occlusionRoughnessMetallicTexture</span></span>  |  <span data-ttu-id="102c0-235">Перекрытия (R), грубая (G), металлическая (B)</span><span class="sxs-lookup"><span data-stu-id="102c0-235">Occlusion (R), Roughness (G), Metallic (B)</span></span> | 
|  [<span data-ttu-id="102c0-236">MSFT_packing_occlusionRoughnessMetallic</span><span class="sxs-lookup"><span data-stu-id="102c0-236">MSFT_packing_occlusionRoughnessMetallic</span></span>](https://github.com/KhronosGroup/glTF/blob/master/extensions/2.0/Vendor/MSFT_packing_occlusionRoughnessMetallic/README.md)  |  <span data-ttu-id="102c0-237">нормалтекстуре</span><span class="sxs-lookup"><span data-stu-id="102c0-237">normalTexture</span></span>  |  <span data-ttu-id="102c0-238">Обычная (RG)</span><span class="sxs-lookup"><span data-stu-id="102c0-238">Normal (RG)</span></span> | 

<span data-ttu-id="102c0-239">При сжатии текстур DDS на каждой карте ожидается следующее сжатие:</span><span class="sxs-lookup"><span data-stu-id="102c0-239">When compressing the DDS textures the following compression is expected on each map:</span></span>
<br>

|  <span data-ttu-id="102c0-240">Поддержки</span><span class="sxs-lookup"><span data-stu-id="102c0-240">Texture</span></span>  |  <span data-ttu-id="102c0-241">Ожидаемое сжатие</span><span class="sxs-lookup"><span data-stu-id="102c0-241">Expected Compression</span></span> | 
|------|------|
|  <span data-ttu-id="102c0-242">нормалтекстуре</span><span class="sxs-lookup"><span data-stu-id="102c0-242">normalTexture</span></span>  |  <span data-ttu-id="102c0-243">BC5</span><span class="sxs-lookup"><span data-stu-id="102c0-243">BC5</span></span> | 
|  <span data-ttu-id="102c0-244">Басеколортекстуре, Окклусионраугхнессметалликтекстуре</span><span class="sxs-lookup"><span data-stu-id="102c0-244">baseColorTexture, occlusionRoughnessMetallicTexture</span></span>  |  <span data-ttu-id="102c0-245">BC7</span><span class="sxs-lookup"><span data-stu-id="102c0-245">BC7</span></span> | 

##### <a name="windows-os--1709"></a><span data-ttu-id="102c0-246">ОС Windows < = 1709</span><span class="sxs-lookup"><span data-stu-id="102c0-246">Windows OS <= 1709</span></span>
<br>

|  <span data-ttu-id="102c0-247">Глтф, свойство</span><span class="sxs-lookup"><span data-stu-id="102c0-247">glTF Property</span></span>  |  <span data-ttu-id="102c0-248">Поддержки</span><span class="sxs-lookup"><span data-stu-id="102c0-248">Texture</span></span>  |  <span data-ttu-id="102c0-249">Схема упаковки</span><span class="sxs-lookup"><span data-stu-id="102c0-249">Packing Scheme</span></span> | 
|----------|----------|----------|
|  <span data-ttu-id="102c0-250">пбрметалликраугхнесс</span><span class="sxs-lookup"><span data-stu-id="102c0-250">pbrMetallicRoughness</span></span>  |  <span data-ttu-id="102c0-251">басеколортекстуре</span><span class="sxs-lookup"><span data-stu-id="102c0-251">baseColorTexture</span></span>  |  <span data-ttu-id="102c0-252">Красный (R), зеленый (G), синий (B)</span><span class="sxs-lookup"><span data-stu-id="102c0-252">Red (R), Green (G), Blue (B)</span></span> | 
|  [<span data-ttu-id="102c0-253">MSFT_packing_occlusionRoughnessMetallic</span><span class="sxs-lookup"><span data-stu-id="102c0-253">MSFT_packing_occlusionRoughnessMetallic</span></span>](https://github.com/KhronosGroup/glTF/blob/master/extensions/2.0/Vendor/MSFT_packing_occlusionRoughnessMetallic/README.md)  |  <span data-ttu-id="102c0-254">раугхнессметалликокклусионтекстуре</span><span class="sxs-lookup"><span data-stu-id="102c0-254">roughnessMetallicOcclusionTexture</span></span>  |  <span data-ttu-id="102c0-255">Приблизительная (R), металлическая (G), перекрытия (B)</span><span class="sxs-lookup"><span data-stu-id="102c0-255">Roughness (R), Metallic (G), Occlusion (B)</span></span> | 
|  [<span data-ttu-id="102c0-256">MSFT_packing_occlusionRoughnessMetallic</span><span class="sxs-lookup"><span data-stu-id="102c0-256">MSFT_packing_occlusionRoughnessMetallic</span></span>](https://github.com/KhronosGroup/glTF/blob/master/extensions/2.0/Vendor/MSFT_packing_occlusionRoughnessMetallic/README.md)  |  <span data-ttu-id="102c0-257">нормалтекстуре</span><span class="sxs-lookup"><span data-stu-id="102c0-257">normalTexture</span></span>  |  <span data-ttu-id="102c0-258">Обычная (RG)</span><span class="sxs-lookup"><span data-stu-id="102c0-258">Normal (RG)</span></span> | 

<span data-ttu-id="102c0-259">При сжатии текстур DDS на каждой карте ожидается следующее сжатие:</span><span class="sxs-lookup"><span data-stu-id="102c0-259">When compressing the DDS textures the following compression is expected on each map:</span></span>
<br>

|  <span data-ttu-id="102c0-260">Поддержки</span><span class="sxs-lookup"><span data-stu-id="102c0-260">Texture</span></span>  |  <span data-ttu-id="102c0-261">Ожидаемое сжатие</span><span class="sxs-lookup"><span data-stu-id="102c0-261">Expected Compression</span></span> | 
|------|------|
|  <span data-ttu-id="102c0-262">нормалтекстуре</span><span class="sxs-lookup"><span data-stu-id="102c0-262">normalTexture</span></span>  |  <span data-ttu-id="102c0-263">BC5</span><span class="sxs-lookup"><span data-stu-id="102c0-263">BC5</span></span> | 
|  <span data-ttu-id="102c0-264">Басеколортекстуре, Раугхнессметалликокклусионтекстуре</span><span class="sxs-lookup"><span data-stu-id="102c0-264">baseColorTexture, roughnessMetallicOcclusionTexture</span></span> | <span data-ttu-id="102c0-265">BC7</span><span class="sxs-lookup"><span data-stu-id="102c0-265">BC7</span></span> |

### <a name="adding-mesh-lods"></a><span data-ttu-id="102c0-266">Добавление сетки Лодс</span><span class="sxs-lookup"><span data-stu-id="102c0-266">Adding mesh LODs</span></span>

<span data-ttu-id="102c0-267">Windows MR использует геометрический узел Лодс для отрисовки трехмерных моделей на различных уровнях детализации в зависимости от покрытия экрана.</span><span class="sxs-lookup"><span data-stu-id="102c0-267">Windows MR uses geometry node LODs to render 3D models in different levels of detail depending on screen coverage.</span></span> <span data-ttu-id="102c0-268">Хотя эта функция технически не является обязательной, настоятельно рекомендуется для всех ресурсов.</span><span class="sxs-lookup"><span data-stu-id="102c0-268">While this feature is technically not required, it's strongly recommended for all assets.</span></span> <span data-ttu-id="102c0-269">В настоящее время Windows поддерживает три уровня детализации.</span><span class="sxs-lookup"><span data-stu-id="102c0-269">Currently Windows supports 3 levels of detail.</span></span> <span data-ttu-id="102c0-270">По умолчанию Лод имеет значение 0, что соответствует наивысшему качеству.</span><span class="sxs-lookup"><span data-stu-id="102c0-270">The default LOD is 0, which represents the highest quality.</span></span> <span data-ttu-id="102c0-271">Другие Лодс пронумерованы последовательно, например 1, 2 и получают более низкий уровень качества.</span><span class="sxs-lookup"><span data-stu-id="102c0-271">Other LODs are numbered sequentially, e.g. 1, 2 and get progressively lower in quality.</span></span> <span data-ttu-id="102c0-272">[Преобразователь ресурсов Windows Mixed Reality](https://github.com/Microsoft/glTF-Toolkit/releases) поддерживает создание ресурсов, соответствующих этой спецификации Лод, принимая несколько моделей глтф и объединяя их в один актив с допустимыми уровнями Лод.</span><span class="sxs-lookup"><span data-stu-id="102c0-272">The [Windows Mixed Reality Asset Converter](https://github.com/Microsoft/glTF-Toolkit/releases) supports generating assets that meet this LOD specification by accepting multiple glTF models and merging them into a single asset with valid LOD levels.</span></span> <span data-ttu-id="102c0-273">В следующей таблице приведены ожидаемые Лод упорядочивания и цели треугольника.</span><span class="sxs-lookup"><span data-stu-id="102c0-273">The following table outlines the expected LOD ordering and triangle targets:</span></span>
<br>

|  <span data-ttu-id="102c0-274">Уровень Лод</span><span class="sxs-lookup"><span data-stu-id="102c0-274">LOD Level</span></span>  |  <span data-ttu-id="102c0-275">Рекомендуемое число треугольников</span><span class="sxs-lookup"><span data-stu-id="102c0-275">Recommended Triangle Count</span></span>  |  <span data-ttu-id="102c0-276">Максимальное число треугольников</span><span class="sxs-lookup"><span data-stu-id="102c0-276">Max Triangle Count</span></span> | 
|-------|-------|-------|
|  <span data-ttu-id="102c0-277">ЛОД 0</span><span class="sxs-lookup"><span data-stu-id="102c0-277">LOD 0</span></span> |  <span data-ttu-id="102c0-278">10 000</span><span class="sxs-lookup"><span data-stu-id="102c0-278">10,000</span></span> |  <span data-ttu-id="102c0-279">10 000</span><span class="sxs-lookup"><span data-stu-id="102c0-279">10,000</span></span> | 
|  <span data-ttu-id="102c0-280">ЛОД 1</span><span class="sxs-lookup"><span data-stu-id="102c0-280">LOD 1</span></span> |  <span data-ttu-id="102c0-281">5 000</span><span class="sxs-lookup"><span data-stu-id="102c0-281">5,000</span></span>  |  <span data-ttu-id="102c0-282">10 000</span><span class="sxs-lookup"><span data-stu-id="102c0-282">10,000</span></span> | 
|  <span data-ttu-id="102c0-283">ЛОД 2</span><span class="sxs-lookup"><span data-stu-id="102c0-283">LOD 2</span></span> |  <span data-ttu-id="102c0-284">2 500</span><span class="sxs-lookup"><span data-stu-id="102c0-284">2,500</span></span>  |  <span data-ttu-id="102c0-285">10 000</span><span class="sxs-lookup"><span data-stu-id="102c0-285">10,000</span></span> | 

<span data-ttu-id="102c0-286">При использовании Лодс всегда указывайте 3 уровня Лод.</span><span class="sxs-lookup"><span data-stu-id="102c0-286">When using LODs always specify 3 LOD levels.</span></span> <span data-ttu-id="102c0-287">Отсутствие Лодс приведет к непредвиденному отображению модели, так как система Лод переключается на уровень отсутствующих Лод.</span><span class="sxs-lookup"><span data-stu-id="102c0-287">Missing LODs will cause the model to not render unexpectedly as the LOD system switches to the missing LOD level.</span></span> <span data-ttu-id="102c0-288">Глтф 2,0 в настоящее время не поддерживает Лодс в составе основной спецификации. Поэтому Лодс должен быть определен с помощью [расширения MSFT_LOD](https://github.com/sbtron/glTF/tree/MSFT_lod/extensions/Vendor/MSFT_lod).</span><span class="sxs-lookup"><span data-stu-id="102c0-288">glTF 2.0 does not currently support LODs as part of the core spec. LODs should therefore be defined using the [MSFT_LOD extension](https://github.com/sbtron/glTF/tree/MSFT_lod/extensions/Vendor/MSFT_lod).</span></span>

### <a name="screen-coverage"></a><span data-ttu-id="102c0-289">Покрытие экрана</span><span class="sxs-lookup"><span data-stu-id="102c0-289">Screen coverage</span></span>

<span data-ttu-id="102c0-290">Лодс отображаются в Windows Mixed Reality на основе системы, которая определяется значением покрытия экрана, заданным для каждого Лод.</span><span class="sxs-lookup"><span data-stu-id="102c0-290">LODs are displayed in Windows Mixed Reality based on a system driven by the screen coverage value set on each LOD.</span></span> <span data-ttu-id="102c0-291">Объекты, в настоящее время использующие большую часть пространства экрана, отображаются на более высоком уровне Лод.</span><span class="sxs-lookup"><span data-stu-id="102c0-291">Objects that are currently consuming a larger portion of the screen space are displayed at a higher LOD level.</span></span> <span data-ttu-id="102c0-292">Покрытие экрана не входит в основную спецификацию Глтф 2,0 и должно быть указано с помощью MSFT_ScreenCoverage в разделе "дополнения" [расширения MSFT_lod](https://github.com/sbtron/glTF/tree/MSFT_lod/extensions/Vendor/MSFT_lod).</span><span class="sxs-lookup"><span data-stu-id="102c0-292">Screen coverage is not a part of the core glTF 2.0 spec and must be specified using MSFT_ScreenCoverage in the “extras” section of the [MSFT_lod extension](https://github.com/sbtron/glTF/tree/MSFT_lod/extensions/Vendor/MSFT_lod).</span></span>
<br>

|  <span data-ttu-id="102c0-293">Уровень Лод</span><span class="sxs-lookup"><span data-stu-id="102c0-293">LOD Level</span></span>  |  <span data-ttu-id="102c0-294">Рекомендуемый диапазон</span><span class="sxs-lookup"><span data-stu-id="102c0-294">Recommended Range</span></span>  |  <span data-ttu-id="102c0-295">Диапазон по умолчанию</span><span class="sxs-lookup"><span data-stu-id="102c0-295">Default Range</span></span> | 
|-------|-------|-------|
|  <span data-ttu-id="102c0-296">ЛОД 0</span><span class="sxs-lookup"><span data-stu-id="102c0-296">LOD 0</span></span>  |  <span data-ttu-id="102c0-297">100%-50%</span><span class="sxs-lookup"><span data-stu-id="102c0-297">100% - 50%</span></span> |  <span data-ttu-id="102c0-298">0,5</span><span class="sxs-lookup"><span data-stu-id="102c0-298">.5</span></span> | 
|  <span data-ttu-id="102c0-299">ЛОД 1</span><span class="sxs-lookup"><span data-stu-id="102c0-299">LOD 1</span></span> |  <span data-ttu-id="102c0-300">В 50%-20%</span><span class="sxs-lookup"><span data-stu-id="102c0-300">Under 50% - 20%</span></span>  |  <span data-ttu-id="102c0-301">2</span><span class="sxs-lookup"><span data-stu-id="102c0-301">.2</span></span> | 
|  <span data-ttu-id="102c0-302">ЛОД 2</span><span class="sxs-lookup"><span data-stu-id="102c0-302">LOD 2</span></span> |  <span data-ttu-id="102c0-303">Менее 20%-1%</span><span class="sxs-lookup"><span data-stu-id="102c0-303">Under 20% - 1%</span></span>  |  <span data-ttu-id="102c0-304">.01</span><span class="sxs-lookup"><span data-stu-id="102c0-304">.01</span></span> | 
|  <span data-ttu-id="102c0-305">ЛОД 4</span><span class="sxs-lookup"><span data-stu-id="102c0-305">LOD 4</span></span>  |  <span data-ttu-id="102c0-306">С 1%</span><span class="sxs-lookup"><span data-stu-id="102c0-306">Under 1%</span></span>  |  - | 

## <a name="animation-guidelines"></a><span data-ttu-id="102c0-307">Рекомендации по анимации</span><span class="sxs-lookup"><span data-stu-id="102c0-307">Animation guidelines</span></span>

> [!NOTE]
> <span data-ttu-id="102c0-308">Эта функция была добавлена как часть [обновления Windows 10 апреля 2018 г](release-notes-april-2018.md).</span><span class="sxs-lookup"><span data-stu-id="102c0-308">This feature was added as part of [Windows 10 April 2018 Update](release-notes-april-2018.md).</span></span> <span data-ttu-id="102c0-309">В более старых версиях Windows эти анимации не воспроизводятся, однако они по-прежнему будут загружаться при разработке в соответствии с инструкциями в этой статье.</span><span class="sxs-lookup"><span data-stu-id="102c0-309">On older versions of Windows these animations will not play back, however, they will still load if authored according to the guidance in this article.</span></span>  

<span data-ttu-id="102c0-310">Домашняя страница Mixed Reality поддерживает анимированные объекты Глтф на гарнитурах HoloLens и иммерсивного (VR).</span><span class="sxs-lookup"><span data-stu-id="102c0-310">The mixed reality home supports animated glTF objects on HoloLens and immersive (VR) headsets.</span></span> <span data-ttu-id="102c0-311">Если вы хотите активировать анимацию для модели, необходимо использовать расширение "Схема анимации" в формате Глтф.</span><span class="sxs-lookup"><span data-stu-id="102c0-311">If you wish to trigger animations on your model, you'll need to use the Animation Map extension on the glTF format.</span></span> <span data-ttu-id="102c0-312">Это расширение позволяет запускать анимацию в модели Глтф на основе присутствия пользователей в мире, например запускать анимацию, когда пользователь близко к объекту или когда он смотрит на него.</span><span class="sxs-lookup"><span data-stu-id="102c0-312">This extension lets you trigger animations in the glTF model based on the users presence in the world, for example trigger an animation when the user is close to the object or while they are looking at it.</span></span> <span data-ttu-id="102c0-313">Если объект Глтф имеет анимацию, но не определяет триггеры, анимация не будет воспроизводиться.</span><span class="sxs-lookup"><span data-stu-id="102c0-313">If you glTF object has animations, but doesn't define triggers the animations will not be played back.</span></span> <span data-ttu-id="102c0-314">В разделе ниже описывается один рабочий процесс для добавления этих триггеров в любой анимированный объект Глтф.</span><span class="sxs-lookup"><span data-stu-id="102c0-314">The section below describes one workflow for adding these triggers to any animated glTF object.</span></span>

### <a name="tools"></a><span data-ttu-id="102c0-315">Инструменты</span><span class="sxs-lookup"><span data-stu-id="102c0-315">Tools</span></span>
<span data-ttu-id="102c0-316">Сначала скачайте следующие средства, если они еще не установлены.</span><span class="sxs-lookup"><span data-stu-id="102c0-316">First, download the following tools if you don't have them already.</span></span> <span data-ttu-id="102c0-317">Эти средства позволяют легко открыть любую модель Глтф, просмотреть ее, внести изменения и сохранить обратно как Глтф или. GLBA:</span><span class="sxs-lookup"><span data-stu-id="102c0-317">These tools will make it easy to open any glTF model, preview it, make changes and save back out as glTF or .glb:</span></span>
1. [<span data-ttu-id="102c0-318">Visual Studio Code</span><span class="sxs-lookup"><span data-stu-id="102c0-318">Visual Studio Code</span></span>](https://code.visualstudio.com/)
2. [<span data-ttu-id="102c0-319">Средства Глтф для Visual Studio Code</span><span class="sxs-lookup"><span data-stu-id="102c0-319">glTF Tools for Visual Studio Code</span></span>](https://marketplace.visualstudio.com/items?itemName=cesium.gltf-vscode)


### <a name="opening-and-previewing-the-model"></a><span data-ttu-id="102c0-320">Открытие и предварительный просмотр модели</span><span class="sxs-lookup"><span data-stu-id="102c0-320">Opening and previewing the model</span></span>
<span data-ttu-id="102c0-321">Для начала откройте модель Глтф в VSCode, перетащив файл Глтф в окно редактора.</span><span class="sxs-lookup"><span data-stu-id="102c0-321">Start by opening up the glTF model in VSCode by dragging the .glTF file into the editor window.</span></span> <span data-ttu-id="102c0-322">Обратите внимание, что при наличии. GLBA вместо Глтф-файла его можно импортировать в VSCode с помощью скачанной надстройки Глтф Tools.</span><span class="sxs-lookup"><span data-stu-id="102c0-322">Note that if you have a .glb instead of a .glTF file you can import it into VSCode using the glTF Tools addin that you downloaded.</span></span> <span data-ttu-id="102c0-323">Перейдите в раздел "Вид-> палитра команд" и начните вводить "Глтф" в палитре команд и выберите "Глтф: Импорт из GLBA ", который будет отображать средство выбора файлов для импорта GLBA с.</span><span class="sxs-lookup"><span data-stu-id="102c0-323">Go to "View -> Command Palette" and then begin typing "glTF" in the command palette and select "glTF: Import from glb" which will pop up a file picker for you to import a .glb with.</span></span> 

<span data-ttu-id="102c0-324">После открытия модели Глтф вы увидите JSON в окне редактора.</span><span class="sxs-lookup"><span data-stu-id="102c0-324">Once you've opened your glTF model you should see the JSON in the editor window.</span></span> <span data-ttu-id="102c0-325">Обратите внимание, что можно также просмотреть модель в динамическом средстве просмотра 3D-файлов с помощью команды, щелкнув правой кнопкой мыши имя файла и выбрав "Глтф: Предварительная версия трехмерной модели "ярлык команды" в меню справа.</span><span class="sxs-lookup"><span data-stu-id="102c0-325">Note that you can also preview the model in a live 3D viewer using the by right clicking the file name and selecting the "glTF: Preview 3D Model" command shortcut from the right click menu.</span></span> 

### <a name="adding-the-triggers"></a><span data-ttu-id="102c0-326">Добавление триггеров</span><span class="sxs-lookup"><span data-stu-id="102c0-326">Adding the triggers</span></span>
<span data-ttu-id="102c0-327">Триггеры анимации добавляются в модель Глтф в JSON с помощью расширения "Схема анимации".</span><span class="sxs-lookup"><span data-stu-id="102c0-327">Animation triggers are added to glTF model JSON using the Animation Map extension.</span></span> <span data-ttu-id="102c0-328">Расширение "Схема анимации" общедоступно [в документации на GitHub](https://github.com/msfeldstein/glTF/blob/04f7005206257cf97b215df5e3f469d7838c1fee/extensions/Vendor/FB_animation_map/README.md) (Примечание. ЭТО ЧЕРНОВОЕ РАСШИРЕНИЕ).</span><span class="sxs-lookup"><span data-stu-id="102c0-328">The animation map extension is publicly documented [here on GitHub](https://github.com/msfeldstein/glTF/blob/04f7005206257cf97b215df5e3f469d7838c1fee/extensions/Vendor/FB_animation_map/README.md) (NOTE: THIS IS A DRAFT EXTENSION).</span></span> <span data-ttu-id="102c0-329">Чтобы добавить расширение в модель, просто прокрутите файл Глтф в редакторе и добавьте блок "Екстенсионсусед" и "Extensions" в файл, если они еще не существуют.</span><span class="sxs-lookup"><span data-stu-id="102c0-329">To add the extension to your model just scroll to the end of the glTF file in the editor and add the "extensionsUsed" and "extensions" block to your file if they don't already exist.</span></span> <span data-ttu-id="102c0-330">В разделе "Екстенсионсусед" вы добавите ссылку на расширение "EXT_animation_map" и в блок "Extensions" вы добавите сопоставления в анимацию в модели.</span><span class="sxs-lookup"><span data-stu-id="102c0-330">In the "extensionsUsed" section you'll add a reference to the "EXT_animation_map" extension and in the "extensions" block you'll add your mappings to the animations in the model.</span></span>

<span data-ttu-id="102c0-331">Как отмечалось [в спецификации](https://github.com/msfeldstein/glTF/blob/04f7005206257cf97b215df5e3f469d7838c1fee/extensions/Vendor/FB_animation_map/README.md) , вы определяете, что запускает анимацию с помощью "семантической" строки в списке "анимации", который является массивом индексов анимации.</span><span class="sxs-lookup"><span data-stu-id="102c0-331">As noted [in the spec](https://github.com/msfeldstein/glTF/blob/04f7005206257cf97b215df5e3f469d7838c1fee/extensions/Vendor/FB_animation_map/README.md) you define what triggers the animation using the "semantic" string on a list of "animations" which is an array of animation indices.</span></span> <span data-ttu-id="102c0-332">В примере ниже мы указали анимацию для воспроизведения, когда пользователь облаками на объект:</span><span class="sxs-lookup"><span data-stu-id="102c0-332">In the example below we've specified the animation to play while the user is gazing at the object:</span></span>

```json
  "extensionsUsed": [
    "EXT_animation_map"
  ],
  "extensions" : {
      "EXT_animation_map" : {
            "bindings": [
                {
                    "semantic": "GAZE",
                    "animations": [0]
                }
            ]
      }
  }
```
<span data-ttu-id="102c0-333">Следующая семантика триггеров анимации поддерживается домашней средой Windows Mixed Reality.</span><span class="sxs-lookup"><span data-stu-id="102c0-333">The following animation triggers semantics are supported by the Windows Mixed Reality home.</span></span>  
* <span data-ttu-id="102c0-334">"ВСЕГДА": Непрерывный цикл анимации</span><span class="sxs-lookup"><span data-stu-id="102c0-334">"ALWAYS": Constantly loop an animation</span></span>
* <span data-ttu-id="102c0-335">"УДЕРЖИВАЕМЫЕ": Циклический перебор в течение всей длительности, когда объект был извлечен.</span><span class="sxs-lookup"><span data-stu-id="102c0-335">"HELD": Looped during the entire duration an object is grabbed.</span></span>
* <span data-ttu-id="102c0-336">"ВЗГЛЯНИТЕ": Циклический перебор, пока выполняется поиск объекта</span><span class="sxs-lookup"><span data-stu-id="102c0-336">"GAZE": Looped  while an object is being looked at</span></span>
* <span data-ttu-id="102c0-337">"БЛИЗОСТЬ": Циклический перебор, пока средство просмотра находится рядом с объектом</span><span class="sxs-lookup"><span data-stu-id="102c0-337">"PROXIMITY": Looped while a viewer is near to an object</span></span>
* <span data-ttu-id="102c0-338">"УКАЗАТЕЛЬ": Циклический перебор, когда пользователь указывает на объект</span><span class="sxs-lookup"><span data-stu-id="102c0-338">"POINTING": Looped while a user is pointing at an object</span></span>

### <a name="saving-and-exporting"></a><span data-ttu-id="102c0-339">Сохранение и экспорт</span><span class="sxs-lookup"><span data-stu-id="102c0-339">Saving and exporting</span></span>
<span data-ttu-id="102c0-340">После внесения изменений в модель Глтф можно сохранить ее непосредственно в виде Глтф или щелкнуть правой кнопкой мыши имя файла в редакторе и выбрать "Глтф: Экспортируйте в GLBA (двоичный файл) ", чтобы вместо этого экспортировать a. GLBA.</span><span class="sxs-lookup"><span data-stu-id="102c0-340">Once you've made the changes to your glTF model you can save it directly as glTF or you can right click the name of the file in the editor and select "glTF: Export to GLB (binary file)" to instead export a .glb.</span></span> 

### <a name="restrictions"></a><span data-ttu-id="102c0-341">Ограничения</span><span class="sxs-lookup"><span data-stu-id="102c0-341">Restrictions</span></span>
<span data-ttu-id="102c0-342">Анимация не может быть длиннее 20 минут и не может содержать более 36 000 опорных кадров (20 минут с частотой 30 кадров/с).</span><span class="sxs-lookup"><span data-stu-id="102c0-342">Animations cannot be longer than 20 minutes and cannot contain more than 36,000 keyframes (20 mins at 30 FPS).</span></span> <span data-ttu-id="102c0-343">Кроме того, при использовании анимации на основе целевого объекта трансформация не превышает 8192 целевых вершин или меньше.</span><span class="sxs-lookup"><span data-stu-id="102c0-343">Additionally when using morph target based animations do not exceed 8192 morph target vertices or less.</span></span> <span data-ttu-id="102c0-344">При превышении этих счетчиков куасеный ресурс не будет поддерживаться на домашней странице Windows Mixed Reality.</span><span class="sxs-lookup"><span data-stu-id="102c0-344">Exceeding these count will cuase the animated asset to be unsupported in the Windows Mixed Reality home.</span></span> 

|<span data-ttu-id="102c0-345">Компонент</span><span class="sxs-lookup"><span data-stu-id="102c0-345">Feature</span></span>|<span data-ttu-id="102c0-346">Максимум</span><span class="sxs-lookup"><span data-stu-id="102c0-346">Maximum</span></span>|
|-----|-----|
|<span data-ttu-id="102c0-347">Продолжительность</span><span class="sxs-lookup"><span data-stu-id="102c0-347">Duration</span></span>|<span data-ttu-id="102c0-348">20 минут</span><span class="sxs-lookup"><span data-stu-id="102c0-348">20 minutes</span></span>|
|<span data-ttu-id="102c0-349">Опорные кадры</span><span class="sxs-lookup"><span data-stu-id="102c0-349">Keyframes</span></span>|<span data-ttu-id="102c0-350">36 000</span><span class="sxs-lookup"><span data-stu-id="102c0-350">36,000</span></span>| 
|<span data-ttu-id="102c0-351">Целевые вершины трансформации</span><span class="sxs-lookup"><span data-stu-id="102c0-351">Morph Target Vertices</span></span>|<span data-ttu-id="102c0-352">8192</span><span class="sxs-lookup"><span data-stu-id="102c0-352">8192</span></span>|

## <a name="gltf-implementation-notes"></a><span data-ttu-id="102c0-353">Заметки о реализации Глтф</span><span class="sxs-lookup"><span data-stu-id="102c0-353">glTF Implementation notes</span></span>
<span data-ttu-id="102c0-354">Windows MR не поддерживает зеркальное отображение геометрических объектов с использованием отрицательных масштабов.</span><span class="sxs-lookup"><span data-stu-id="102c0-354">Windows MR does not support flipping geometry using negative scales.</span></span> <span data-ttu-id="102c0-355">Геометрический объект с отрицательными масштабами, скорее всего, приведет к визуальным артефактам.</span><span class="sxs-lookup"><span data-stu-id="102c0-355">Geometry with negative scales will likely result in visual artifacts.</span></span>

<span data-ttu-id="102c0-356">Ресурс Глтф должен указывать на сцену по умолчанию, используя атрибут сцены для отображения в Windows MR.</span><span class="sxs-lookup"><span data-stu-id="102c0-356">The glTF asset MUST point to the default scene using the scene attribute to be rendered by Windows MR.</span></span> <span data-ttu-id="102c0-357">Кроме того, загрузчик Windows Глтф до [обновления Windows 10 от апреля 2018](release-notes-april-2018.md) **требует наличия** методов доступа:</span><span class="sxs-lookup"><span data-stu-id="102c0-357">Additionally the Windows MR glTF loader prior to the [Windows 10 April 2018 update](release-notes-april-2018.md) **requires** accessors:</span></span>
* <span data-ttu-id="102c0-358">Должны иметь значения min и Max.</span><span class="sxs-lookup"><span data-stu-id="102c0-358">Must have min and max values.</span></span>
* <span data-ttu-id="102c0-359">Тип SCALAR должен быть параметра ComponentType UNSIGNED_SHORT (5123) или UNSIGNED_INT (5125).</span><span class="sxs-lookup"><span data-stu-id="102c0-359">Type SCALAR must be componentType UNSIGNED_SHORT (5123) or UNSIGNED_INT (5125).</span></span>
* <span data-ttu-id="102c0-360">Типы VEC2 и VEC3 должны быть параметра ComponentType FLOAT (5126).</span><span class="sxs-lookup"><span data-stu-id="102c0-360">Type VEC2 and VEC3 must be componentType FLOAT (5126).</span></span>

<span data-ttu-id="102c0-361">Следующие свойства материала используются из основной спецификации Глтф 2,0, но не требуются.</span><span class="sxs-lookup"><span data-stu-id="102c0-361">The following material properties are used from core glTF 2.0 spec but not required:</span></span>
* <span data-ttu-id="102c0-362">Басеколорфактор, Металликфактор, Раугхнессфактор</span><span class="sxs-lookup"><span data-stu-id="102c0-362">baseColorFactor, metallicFactor, roughnessFactor</span></span>
* <span data-ttu-id="102c0-363">Басеколортекстуре: Должен указывать на текстуру, хранящуюся в DDS.</span><span class="sxs-lookup"><span data-stu-id="102c0-363">baseColorTexture: Must point to a texture stored in dds.</span></span>
* <span data-ttu-id="102c0-364">Емиссиветекстуре: Должен указывать на текстуру, хранящуюся в DDS.</span><span class="sxs-lookup"><span data-stu-id="102c0-364">emissiveTexture: Must point to a texture stored in dds.</span></span>
* <span data-ttu-id="102c0-365">емиссивефактор</span><span class="sxs-lookup"><span data-stu-id="102c0-365">emissiveFactor</span></span>
* <span data-ttu-id="102c0-366">алфамоде</span><span class="sxs-lookup"><span data-stu-id="102c0-366">alphaMode</span></span>

<span data-ttu-id="102c0-367">Следующие свойства материала не учитываются из основной спецификации:</span><span class="sxs-lookup"><span data-stu-id="102c0-367">The following material properties are ignored from core spec:</span></span>
* <span data-ttu-id="102c0-368">Все UVs</span><span class="sxs-lookup"><span data-stu-id="102c0-368">All Multi-UVs</span></span>
* <span data-ttu-id="102c0-369">Металраугхнесстекстуре: Вместо этого следует использовать оптимизированную для оптимизации упаковку текстуры Майкрософт</span><span class="sxs-lookup"><span data-stu-id="102c0-369">metalRoughnessTexture: Must instead use Microsoft optimized texture packing defined below</span></span>
* <span data-ttu-id="102c0-370">Нормалтекстуре: Вместо этого следует использовать оптимизированную для оптимизации упаковку текстуры Майкрософт</span><span class="sxs-lookup"><span data-stu-id="102c0-370">normalTexture: Must instead use Microsoft optimized texture packing defined below</span></span>
* <span data-ttu-id="102c0-371">нормалскале</span><span class="sxs-lookup"><span data-stu-id="102c0-371">normalScale</span></span>
* <span data-ttu-id="102c0-372">Окклусионтекстуре: Вместо этого следует использовать оптимизированную для оптимизации упаковку текстуры Майкрософт</span><span class="sxs-lookup"><span data-stu-id="102c0-372">occlusionTexture: Must instead use Microsoft optimized texture packing defined below</span></span>
* <span data-ttu-id="102c0-373">окклусионстренгс</span><span class="sxs-lookup"><span data-stu-id="102c0-373">occlusionStrength</span></span>

<span data-ttu-id="102c0-374">Windows MR не поддерживает линии и точки в примитивном режиме.</span><span class="sxs-lookup"><span data-stu-id="102c0-374">Windows MR does not support primitive mode lines and points.</span></span> 

<span data-ttu-id="102c0-375">Поддерживается только один атрибут UV-вершины.</span><span class="sxs-lookup"><span data-stu-id="102c0-375">Only a single UV vertex attribute is supported.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="102c0-376">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="102c0-376">Additional resources</span></span>
* [<span data-ttu-id="102c0-377">программы экспорта и конвертеры Глтф</span><span class="sxs-lookup"><span data-stu-id="102c0-377">glTF Exporters and Converters</span></span>](https://github.com/KhronosGroup/glTF#converters-and-exporters)
* [<span data-ttu-id="102c0-378">Набор средств Глтф</span><span class="sxs-lookup"><span data-stu-id="102c0-378">glTF Toolkit</span></span>](https://github.com/Microsoft/glTF-Toolkit)
* [<span data-ttu-id="102c0-379">Спецификация Глтф 2,0</span><span class="sxs-lookup"><span data-stu-id="102c0-379">glTF 2.0 Specification</span></span>](https://github.com/KhronosGroup/glTF/blob/master/README.md)
* [<span data-ttu-id="102c0-380">Спецификация расширения Microsoft Глтф Лод</span><span class="sxs-lookup"><span data-stu-id="102c0-380">Microsoft glTF LOD Extension Specification</span></span>](https://github.com/KhronosGroup/glTF/blob/master/extensions/2.0/Vendor/MSFT_lod/README.md)
* [<span data-ttu-id="102c0-381">Спецификация расширений упаковки для текстуры смешанной реальности PC</span><span class="sxs-lookup"><span data-stu-id="102c0-381">PC Mixed Reality Texture Packing Extensions Specification</span></span>](https://github.com/KhronosGroup/glTF/blob/master/extensions/2.0/Vendor/MSFT_packing_occlusionRoughnessMetallic/README.md)
* [<span data-ttu-id="102c0-382">Спецификация для расширений упаковки для текстуры смешанной реальности HoloLens</span><span class="sxs-lookup"><span data-stu-id="102c0-382">HoloLens Mixed Reality Texture Packing Extensions Specification</span></span>](https://github.com/KhronosGroup/glTF/blob/master/extensions/2.0/Vendor/MSFT_packing_normalRoughnessMetallic/README.md)
* [<span data-ttu-id="102c0-383">Спецификация Глтф расширений текстур Microsoft DDS</span><span class="sxs-lookup"><span data-stu-id="102c0-383">Microsoft DDS Textures glTF extensions specification</span></span>](https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/MSFT_texture_dds)

## <a name="see-also"></a><span data-ttu-id="102c0-384">См. также</span><span class="sxs-lookup"><span data-stu-id="102c0-384">See also</span></span>

* [<span data-ttu-id="102c0-385">Реализация средств запуска трехмерных приложений (приложения UWP)</span><span class="sxs-lookup"><span data-stu-id="102c0-385">Implement 3D app launchers (UWP apps)</span></span>](implementing-3d-app-launchers.md)
* [<span data-ttu-id="102c0-386">Реализация средств запуска трехмерных приложений (приложения Win32)</span><span class="sxs-lookup"><span data-stu-id="102c0-386">Implement 3D app launchers (Win32 apps)</span></span>](implementing-3d-app-launchers-win32.md)
* [<span data-ttu-id="102c0-387">Навигация по дому с технологией Windows Mixed Reality</span><span class="sxs-lookup"><span data-stu-id="102c0-387">Navigating the Windows Mixed Reality home</span></span>](navigating-the-windows-mixed-reality-home.md)
