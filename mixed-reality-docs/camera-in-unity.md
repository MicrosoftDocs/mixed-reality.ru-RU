---
title: Камера в Unity
description: Использование основной камеры Unity для разработки Windows Mixed Reality для работы с holographic
author: keveleigh
ms.author: kurtie
ms.date: 03/21/2018
ms.topic: article
keywords: холотулкит, микседреалититулкит, микседреалититулкит-Unity, holographic,, holographic, иммерсивное, фокусная точка, буфер глубины, только ориентация, Позиционированный, непрозрачный, прозрачный, зажим
ms.openlocfilehash: 3a9846242dd1709bcaf927d8ffae33862e96ecc8
ms.sourcegitcommit: 915d3cc63a5571ba22ac4608589f3eca8da1bc81
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/24/2019
ms.locfileid: "63522373"
---
# <a name="camera-in-unity"></a>Камера в Unity

При износе гарнитуры смешанной реальности он станет центром в holographic-мире. Компонент [камеры](http://docs.unity3d.com/Manual/class-Camera.html) Unity будет автоматически обрабатывать стереоскопик отрисовку и будет следовать за сдвигом и поворотом, если в проекте для него выбрано "Виртуальная реальность", а в качестве устройства — "Windows Mixed Reality" (в других параметрах). в разделе Параметры проигрывателя магазина Windows). В более ранних версиях Unity это может быть "Windows holographic".

Однако, чтобы полностью оптимизировать качество визуальных элементов и [стабильность](hologram-stability.md), необходимо задать параметры камеры, описанные ниже.

>[!NOTE]
>Эти параметры должны применяться к камере в каждой сцене приложения.
>
>По умолчанию при создании новой сцены в Unity она будет содержать главную GameObject камеры в иерархии, которая включает компонент камеры, но не имеет правильно примененных параметров.

## <a name="automatic-scene-and-camera-setup-with-mixed-reality-toolkit-v2"></a>Автоматическая настройка сцены и камеры с помощью набора средств Mixed Reality версии 2. 

Следуйте пошаговому [руководству,](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/GettingStartedWithTheMRTK.html) чтобы добавить набор средств Mixed Reality версии 2 в проект Unity, и он автоматически настроит проект.

Можно также вручную настроить проект, не МРТК с руководством в разделе ниже. 

## <a name="holographic-vs-immersive-headsets"></a>Более holographic и впечатляющие гарнитуры

Параметры по умолчанию для компонента камеры Unity предназначены для традиционных трехмерных приложений, которым требуется скибокс фон, так как у них нет реального мира.
* При работе на **[иммерсивного гарнитуре](immersive-headset-hardware-details.md)** отображается все, что видит пользователь, и, скорее всего, потребуется скибокс.
* Однако при работе на гарнитуре **holographic** , такой как [HoloLens](hololens-hardware-details.md), реальный мир должен отображаться позади всей визуализации камеры. Для этого установите прозрачный фон камеры (в HoloLens, черный отображается как прозрачный) вместо текстуры Скибокс:
    1. Выбор основной камеры на панели Иерархия
    2. На панели инспектора найдите компонент Камера и измените раскрывающийся список нечетких флагов с Скибокс на сплошной цвет.
    3. Выберите средство выбора цвета фона и измените значения RGBA на (0, 0, 0, 0).

Вы можете использовать код скрипта, чтобы определить во время выполнения, является ли гарнитура увлекательной или holographic, проверив [холографиксеттингс. исдисплайопакуе](https://docs.unity3d.com/ScriptReference/XR.WSA.HolographicSettings.IsDisplayOpaque.html).


## <a name="positioning-the-camera"></a>Размещение камеры

Если вы представиме начальную точку пользователя как (X: 0, Y: 0, Z: 0). Так как основная камера отслеживает перемещение заголовка пользователя, начальное расположение пользователя можно задать, установив начальную точку основной камеры.
1. На панели Иерархия выберите Главная камера.
2. На панели инспектора найдите компонент преобразование и измените значение в поле (X: 0, Y: 1, Z:-10) в (X: 0, Y: 0, Z: 0,0

   ![Камера на панели инспектора в Unity](images/maincamera-350px.png)<br>
   *Камера на панели инспектора в Unity*

## <a name="clip-planes"></a>Резкие плоскости

Визуализация содержимого слишком близко к пользователю может быть неудобно в смешанной реальности. В компоненте камеры можно настроить [близкие и более далекое плоскости](hologram-stability.md#hologram-render-distances) .
1. Выбор основной камеры на панели Иерархия
2. На панели инспектора найдите компонент камеры обтравочные плоскости и измените значение поля NEAR TextBox с 0,3 на 85. Содержимое, отображаемое еще ближе, может привести к дискомфорт пользователя, и его следует избегать в соответствии с рекомендациями по расстоянию при [визуализации](hologram-stability.md#hologram-render-distances).

## <a name="multiple-cameras"></a>Несколько камер

Если в сцене имеется несколько компонентов камеры, Unity знает, какая камера будет использоваться для стереоскопик отрисовки и отслеживания головок путем проверки наличия тега Маинкамера в GameObject.

## <a name="recentering-a-seated-experience"></a>Перецентрирование опыта работы

Если вы создаете [опыт](coordinate-systems.md)в области, вы можете изменить центр по всему миру в текущей позиции головного пользователя, вызвав **[XR. Метод Инпуттраккинг. recenter](https://docs.unity3d.com/ScriptReference/XR.InputTracking.Recenter.html)** .

## <a name="reprojection-modes"></a>Режимы РЕПРОЕКЦИИ

Как HoloLens, так и иммерсивное гарнитуры будут перестраивать каждый кадр, отображаемый приложением, для коррекции неверного предсказания фактического расположения пользователя при выдаче фотоны.

По умолчанию:

* В **захватывающих головных гарнитурах** будет выполняться позиционированное переработка, что настраивает голограммы для неверного предсказания как на месте, так и на ориентации, если приложение предоставляет буфер глубины для данного кадра.  Если буфер глубины не указан, система будет исправлять только неверное предсказания по ориентации.
* С помощью таких **головных телефонов** , как HoloLens, выполняется позиционированное перестановка, независимо от того, предоставляет ли приложение буфер глубины.  Позиционированное перестановка возможно без буферов глубины в HoloLens, так как отрисовка часто является разреженной с стабильным фоном, обеспечиваемым реальным миром.

Если известно, что вы создаете [интерфейс только для ориентации](coordinate-systems-in-unity.md#building-an-orientation-only-or-seated-scale-experience) с содержимым, заблокированным телом (например, видео с 360-градусами), можно явно задать режим РЕПРОЕКЦИИ только для ориентации, задав [ Холографиксеттингс. Репрожектионмоде](https://docs.unity3d.com/ScriptReference/XR.WSA.HolographicSettings.ReprojectionMode.html) — [Холографикрепрожектионмоде. ориентатиононли](https://docs.unity3d.com/ScriptReference/XR.WSA.HolographicSettings.HolographicReprojectionMode.html).

## <a name="sharing-your-depth-buffers-with-windows"></a>Совместное использование буферов глубины с Windows

Предоставление общего доступа к буферу глубины приложения в Windows. Каждый кадр обеспечит ваше приложение одним из двух усовершенствований в голограммах, в зависимости от типа гарнитуры, для которой выполняется подготовка.
* При наличии буфера глубины **иммерсивное** подгарнитуры могут выполнять позиционированное изменение, настраивая голограммы для неверного предсказания как на месте, так и на ориентации.
* В **holographic** -наушниках, таких как HoloLens, автоматически выбирается [точка фокусировки](focus-point-in-unity.md) , когда предоставляется буфер глубины, что позволяет оптимизировать стабильность на плоскости, которая пересекает наибольшее содержимое.

Чтобы задать, будет ли приложение Unity предоставлять буфер глубины для Windows:
1. Выберите **изменить** > **Параметры**проектапроигрыватель > **универсальная платформа Windows**параметры табуляцииXR > . > 
2. Разверните элемент **пакет SDK для Windows Mixed Reality** .
3. Установите или снимите флажок **включить общий доступ к буферу глубины** .  Это значение будет проверяться по умолчанию в новых проектах, созданных, так как эта функция была добавлена в Unity и будет снята по умолчанию для старых проектов, которые были обновлены.

Предоставление буфера глубины для Windows может улучшить качество визуального элемента до тех пор, пока Windows может точно сопоставлять нормализованные значения глубины в буфере глубины с расстояниями в метрах с помощью ближайших и дальнеих плоскостей, заданных в Unity на основной камере.  Если отрисовка передает значения глубины обычным способом, то, как правило, следует полагаться на этот случай, хотя прозрачная прорисовка передает данные в буфер глубины, а затем с помощью существующих цветовых пикселов может привести к путанице при перепроецировании.  Если известно, что в ходе отрисовки будут выходить большое количество пикселов с неточной глубиной, скорее всего, вы получите лучшее визуальное качество, отменив флажок "включить совместное использование буфера глубины".


## <a name="see-also"></a>См. также
* [Стабильность голограммы](hologram-stability.md)
* [Микседреалититулкит Главная камера. prefab](https://github.com/Microsoft/MixedRealityToolkit-Unity/tree/htk_release/Assets/HoloToolkit/Input/Prefabs)
