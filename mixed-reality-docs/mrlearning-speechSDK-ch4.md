---
title: Учебники по службам речи Azure — 4. Настройка намерения и естественного понимания языка
description: Пройдите этот курс, чтобы узнать, как реализовать пакет SDK для службы распознавания речи Azure в приложении смешанной реальности.
author: jessemcculloch
ms.author: jemccull
ms.date: 02/26/2019
ms.topic: article
keywords: mixed reality, unity, tutorial, hololens
ms.openlocfilehash: 8805fa6410e882bce2f0fe8da780dfd5f794cc74
ms.sourcegitcommit: bd536f4f99c71418b55c121b7ba19ecbaf6336bb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/21/2020
ms.locfileid: "77554008"
---
# <a name="4-setting-up-intent-and-natural-language-understanding"></a>4. Настройка намерения и естественного понимания языка

На этом занятии будет рассмотрена функция службы "речь" в Azure. Функция с намерением позволяет создавать свои приложения с помощью голосовых команд на основе искусственного интеллекта, где пользователи могут говорить о неспецифических голосовых командах и по-прежнему иметь смысл, понятный системе. На этом занятии мы создадим портал Azure LUIS Portal, настроили наши намерения, сущности и фразы продолжительностью, публикуем наш ресурс, подключим приложение Unity к нашему намеренному ресурсу и сделаем наш первый вызов API.

## <a name="objectives"></a>Задачи

- Узнайте, как настроить намерение и естественное понимание языка в нашем приложении.
- Узнайте, как настроить портал LUIS для Azure.
- Узнайте, как настроить намерения, сущности и фразы продолжительностью в Azure.

## <a name="instructions"></a>Инструкция

1. Разрешить компьютеру Включить диктовку. Для этого перейдите в раздел "Параметры Windows", выберите "Конфиденциальность", "речь", а затем "Ввод рукописного ввода &" и включите речевые службы и введите рекомендации.

    ![Module4Chapter4step1aim](images/module4chapter4step1aim.PNG)

    ![Module4Chapter4step1bim](images/module4chapter4step1bim.PNG)

    ![Module4Chapter4step1cim](images/module4chapter4step1cim.PNG)

2. Войдите на [портал Azure](https://portal.azure.com/). Войдя в систему, щелкните Создать ресурс, выполните поиск по запросу "Language Understanding" и нажмите клавишу ВВОД.

    ![mrlearning-Speech-CH4-1-step2. png](images/mrlearning-speech-ch4-1-step2.png)

3. Нажмите кнопку **создать** , чтобы создать экземпляр этой службы.

    ![mrlearning-Speech-CH4-1-step3a. png](images/mrlearning-speech-ch4-1-step3a.png)

    Присвойте ресурсу **имя**, например " *речь-SDK-Learning-module*". В качестве **подписки**выберите вариант *Оплата по мере* использования или *бесплатный* , если у вас есть пробная учетная запись. Затем создайте новую **группу ресурсов** , щелкнув ссылку **создать** , введите имя, например *HoloLens-2-Tutorial-Resource-Group*и нажмите кнопку **ОК** .

    ![mrlearning-Speech-CH4-1-step3b. png](images/mrlearning-speech-ch4-1-step3b.png)

4. Выберите **расположение для разработки** и **расположение среды выполнения**. Для целей этого учебника используйте *(US) Западная часть США*, а затем выберите *F0 (5 вызовов в секунду, 10000 вызовов в месяц)* для ценовой категории " **Разработка** " и **ценовой категории времени выполнения**. Наконец, нажмите кнопку **создать** , чтобы создать ресурс, а также новую группу ресурсов.

    ![mrlearning-Speech-CH4-1-step4. png](images/mrlearning-speech-ch4-1-step4.png)

    >[!NOTE]
    >После нажатия кнопки Создать необходимо подождать, пока не будет создана служба, что может занять несколько минут.

5. После завершения создания ресурса вы увидите сообщение о том, что **Развертывание завершено**.

    ![mrlearning-Speech-CH4-1-step5. png](images/mrlearning-speech-ch4-1-step5.png)

6. Используя ту же учетную запись пользователя, войдите на портал [Language Understanding Intelligent Service (Luis)](https://www.luis.ai/) , выберите свою страну и примите условия использования.

    >[!NOTE]
    >При достижении Language Understanding портала вам может потребоваться войти в систему, если вы еще не сделали это с теми же учетными данными, что и у портал Azure. Если вы впервые используете LUIS, необходимо прокрутить вниз до нижней части страницы приветствия, чтобы найти и нажать кнопку "создать LUIS" приложения.

7. После входа в систему щелкните Мои приложения (если вы еще не находясь в этом разделе). Затем можно щелкнуть создать новое приложение. Назовите новое приложение "модуль Learning SDK для речевых приложений". Добавьте также "модуль обучения речевого SDK" в поле описания. Затем нажмите кнопку "Готово".

    ![Module4Chapter4step8aim](images/module4chapter4step8aim.PNG)

    ![Module4Chapter4step8bim](images/module4chapter4step8bim.PNG)

    >[!NOTE]
    >Если ваше приложение должно понимать язык, отличающийся от английского, следует изменить язык и региональные параметры на соответствующий.

8. Щелкните "сборка", расположенную в правом верхнем углу.

9. В разделе "активы приложения" слева выберите "цели", затем щелкните "создать цель" и назовите его "Прессбуттон".

    ![Module4Chapter4step10im](images/module4chapter4step10im.PNG)

    >[!NOTE]
    >Важно использовать имена целей и сущностей, используемых в этом руководстве, так как приложение Лунарком будет ссылаться на них по имени.

    >[!NOTE]
    >Теперь у вас должно быть два варианта: "Прессбуттон" и "нет".

10. В разделе активы приложения слева выберите "сущности", щелкните "создать новую сущность", присвойте ей имя "Action" и укажите для типа сущности "Simple".

    ![Module4Chapter4step11im](images/module4chapter4step11im.PNG)

11. Снова нажмите кнопку "создать сущность" и назовите ее "цель". Для типа сущности также следует использовать "простой".

    ![Module4Chapter4step12im](images/module4chapter4step12im.PNG)

12. В разделе активы приложения слева выберите "цели", а затем нажмите кнопку "Прессбуттон", созданную на шаге 10.

    ![Module4Chapter4step13im](images/module4chapter4step13im.PNG)

13. Щелкните раскрывающийся список "Просмотр параметров" справа и выберите "Показать значения сущностей".

    ![Module4Chapter4step14aim](images/module4chapter4step14aim.PNG)

    Щелкните "введите пример...". . Затем введите следующую фразы продолжительностью:

    ![Module4Chapter4step14bim](images/module4chapter4step14bim.PNG)

14. Щелкните раскрывающийся список "Просмотр параметров" справа и выберите "Показать имена сущностей".

    ![Module4Chapter4step15im](images/module4chapter4step15im.PNG)

15. Убедитесь, что каждый из 10 фразы продолжительностью имеет следующие метки сущностей в следующих местах на 1.) Если щелкнуть слова, которые помечены как неподписанные, и во всплывающем окне выбрать пункт "удалить метку" и 2.) Щелкните слова, которые должны быть помечены, и во всплывающем окне выберите соответствующую метку.

    ![Module4Chapter4step16im](images/module4chapter4step16im.PNG)

16. Теперь, чтобы опубликовать модель, щелкните "обучение" в правом верхнем углу. После завершения обработки нажмите кнопку "тест" в правом верхнем углу.

    ![Module4Chapter4step17im](images/module4chapter4step17im.PNG)

17. Введите в текстовом поле "нажмите кнопку запуска".

    >[!NOTE]
    >Мы не добавили "Select" в качестве действия в любой из наших фразы продолжительностью, но если щелкнуть "проверить", модель распознала "Select" как сущность действия.
    >
    > ![Module4Chapter4noteim](images/module4chapter4noteim.PNG)

18. Щелкните Publish (опубликовать) в правом верхнем углу. Убедитесь, что в раскрывающемся списке указано «Production», и щелкните «Publish» (опубликовать) в всплывающем окне.

    ![Module4Chapter4step19im](images/module4chapter4step19im.PNG)

19. После публикации в верхней части страницы должен появиться зеленый отрезок. Щелкните зеленую панель, чтобы просмотреть страницу "Управление".

    ![Module4Chapter4step20im](images/module4chapter4step20im.PNG)

20. Щелкните "ключи и конечные точки" в разделе "Параметры приложения" слева. Затем установите в раскрывающемся списке "опубликовать в" значение "Рабочая". Укажите, что часовой пояс должен соответствовать вашим данным, и установите флажок, чтобы включить все оценки предполагаемого намерения. Наконец, щелкните "назначить ресурс".

    ![Module4Chapter4step21im](images/module4chapter4step21im.PNG)

21. Выберите клиент в первом раскрывающемся списке и в раскрывающемся списке имя подписки выберите "Оплата по мере использования". В разделе Имя ресурса LUIS выберите ресурс, созданный ранее в шагах 1-5. Затем щелкните "назначить ресурс".

    ![Module4Chapter4step22im](images/module4chapter4step22im.PNG)

    >[!NOTE]
    >Обязательно скопируйте и сохраните URL-адрес конечной точки, связанный с назначенным ресурсом, чтобы он был легко доступен для следующего раздела.

    >[!NOTE]
    >В качестве имени клиента добавьте свою организацию или профиль, созданный для этого приложения.

22. Теперь откройте новое приложение в Unity и выберите объект Lunarcom_Base в иерархии. Щелкните "добавить компонент" на панели инспектора и найдите и выберите "Лунаркоминтентрекогнизер".

    ![Module4Chapter4step23im](images/module4chapter4step23im.PNG)

23. В поле Конечная точка Luis в "Лунаркоминтентрекогнизер" на панели инспектора введите URL-адрес конечной точки, сохраненной на шаге 21.

    ![Module4Chapter4step24im](images/module4chapter4step24im.PNG)

    >[!NOTE]
    >В компоненте "Лунаркомоффлинерекогнизер" на панели инспектора убедитесь, что для "Симулатеоффлинемоде" выбрано значение "отключить", а проверка программы не будет работать.

24. В окне проекта перейдите к ресурсам > МРТК. Учебник. GettingStarted > Prefabs > Роккетлаунчер папку, перетащите RocketLauncher_Complete prefab в окно иерархии и поместите его перед объектом Lunarcom_Base.

    ![Module4Chapter4step24im](images/module4chapter4step24im-missing01.png)

25. В окне Иерархия выберите объект Lunarcom_Base и найдите компонент распознавателя Лунарком намерение (script), а затем разверните объект кнопки RocketLauncher_Complete > и назначьте каждому объекту кнопки соответствующие кнопки запуска в лунном подокне. полями.

    ![Module4Chapter4step24im](images/module4chapter4step24im-missing02.png)

26. Нажмите кнопку Воспроизведение в редакторе Unity и нажмите кнопку Rocket, чтобы начать распознавание намерения. Полное фразу "нажмите кнопку запуска Rocket".

    >[!NOTE]
    >Приложение распознал нужную функцию и активировало кнопку Rocket.
    >
    >![Module4Chapter4step24im](images/module4chapter4note2im.PNG)

## <a name="congratulations"></a>Поздравляем!

На этом занятии вы узнали, как добавлять голосовые команды на основе AI. Теперь ваша программа может распознать намерение пользователей, даже если они не полное точные команды Voice.
