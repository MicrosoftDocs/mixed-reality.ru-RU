---
title: Начало работы с Опенкср
description: Начните использовать портативный Стандарт API Опенкср на гарнитурах Windows Mixed Reality и HoloLens 2.
author: thetuvix
ms.author: alexturn
ms.date: 2/28/2020
ms.topic: article
keywords: Опенкср, Кхронос, Басикксрапп, Windows Mixed Reality Опенкср Средства для разработчиков, DirectX, машинный код, собственное приложение, настраиваемое подсистема, промежуточное по, начало работы, 101, расширения для предварительного просмотра, версия среды выполнения Опенкср, состояние системы
ms.openlocfilehash: b4cf91c7a7b5bd203a4fef43c7a988d3ff1e9b16
ms.sourcegitcommit: 6d9d01d53137435c787f247f095d5255581695fc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/12/2020
ms.locfileid: "83228065"
---
# <a name="getting-started-with-openxr"></a>Начало работы с Опенкср

Вы можете разрабатывать приложения с помощью Опенкср на виртуальной головной гарнитуре HoloLens 2 или Windows Mixed Reality на рабочем столе.  Если у вас нет доступа к гарнитуре, можно использовать эмулятор HoloLens 2 или симулятор Windows Mixed Reality.

## <a name="getting-started-with-openxr-for-hololens-2"></a>Начало работы с Опенкср для HoloLens 2

Чтобы приступить к разработке приложений Опенкср для HoloLens 2:

1. Настройте HoloLens 2 или следуйте инструкциям по [установке последней версии эмулятора hololens 2](using-the-hololens-emulator.md).  Если на устройстве недавно обновлялась ОС или вы используете последний образ эмулятора, у вас уже есть Опенкср 1,0, готовых к работе.
1. Чтобы убедиться, что у вас установлена последняя версия среды выполнения Опенкср с любыми [расширениями](openxr.md#roadmap) , запустите приложение **магазина** из устройства или эмулятора, откройте меню в правом верхнем углу, щелкните **загрузки и обновления** и щелкните **получить обновления**.  Это гарантирует актуальность среды выполнения Опенкср на HoloLens.  Обратите внимание, что если вы используете эмулятор, образ эмулятора будет сброшен при каждом запуске, поэтому лучше всего убедиться, что у вас установлена [Последняя версия образа эмулятора HoloLens 2](using-the-hololens-emulator.md).

## <a name="getting-started-with-openxr-for-windows-mixed-reality-headsets"></a>Начало работы с Опенкср для головных телефонов Windows Mixed Reality

Чтобы приступить к разработке приложений Опенкср для впечатляющих головных телефонов Windows Mixed Reality:

1. Убедитесь, что вы используете по крайней мере Windows 10 с обновлением 2019 (1903), что является минимальным требованием для конечных пользователей Windows Mixed Reality запускать приложения Опенкср.  Если вы используете более раннюю версию Windows 10, то можете выполнить обновление с помощью <a href="https://www.microsoft.com/software-download/windows10" target="_blank">помощника по обновлению Windows 10</a>.
2. Настройте гарнитуру Windows Mixed Reality или следуйте инструкциям по [включению симулятора Windows Mixed Reality](using-the-windows-mixed-reality-simulator.md).  При настройке Windows Mixed Reality портал смешанной реальности автоматически установит среду выполнения Опенкср Windows Mixed Reality.  Microsoft Store будет синхронизировать среду выполнения в актуальном состоянии.
3. Чтобы активировать среду выполнения Опенкср в Windows Mixed Reality, запустите портал Mixed Reality из меню "Пуск", щелкнув... в левом нижнем углу и выбрав "настроить Опенкср".<br>
![Настройка Опенкср на портале Mixed Reality](images/mixed-reality-portal-set-up-openxr.png)

Если вам когда-либо потребуется снова активировать среду выполнения Опенкср в Windows Mixed Reality, повторите шаг 3.

> [!NOTE]
> Среда выполнения Опенкср в Windows Mixed Reality вскоре будет активна автоматически для всех конечных пользователей Windows Mixed Reality.

## <a name="getting-the-windows-mixed-reality-openxr-developer-tools"></a>Получение Средства для разработчиков Windows Mixed Reality Опенкср

Чтобы испытать среду выполнения Опенкср в Windows Mixed Reality, можно установить <a href="https://www.microsoft.com/store/productId/9n5cvvl23qbt" target="_blank">приложение средства для разработчиков Опенкср смешанной реальности</a>.  Это приложение содержит демонстрационную сцену, в которой реализованы различные функции Опенкср, а также страница состояния системы, которая содержит основные сведения об активной среде выполнения и текущей гарнитуре.

При использовании эмулятора проще всего установить Опенкср Средства для разработчиков с помощью [портала устройств Windows](using-the-windows-device-portal.md), перейдя на страницу "опенкср" и нажав кнопку "установить" в разделе "компоненты разработчика". (это также работает на физическом устройстве HoloLens 2.)

![Приложение Средства для разработчиков смешанной реальности Опенкср](images/mixed-reality-openxr-developer-tools.png)

## <a name="building-a-sample-openxr-app"></a>Создание примера приложения Опенкср

Не забудьте [установить средства](install-the-tools.md) , необходимые для разработки опенкср, если это еще не сделано.

Проект <a href="https://github.com/microsoft/OpenXR-MixedReality/tree/master/samples/BasicXrApp" target="_blank">басикксрапп</a> демонстрирует простой пример опенкср с двумя файлами проекта Visual Studio: один для классического приложения Win32 и один для приложения UWP HoloLens 2.  Так как решение содержит проект HoloLens UWP, для его полного открытия вам потребуется [Рабочая нагрузка "разработка универсальная платформа Windows](install-the-tools.md#installation-checklist) ", установленная в Visual Studio.

Обратите внимание, что хотя файлы проекта Win32 и UWP являются отдельными из-за различий в упаковке и развертывании, код приложения внутри каждого проекта составляет 100%.

После создания рабочего стола Win32 Опенкср. EXE, вы можете использовать его с головной гарнитурой VR на любой платформе Desktop VR, которая поддерживает Опенкср, будь то гарнитура Windows Mixed Reality или любая другая гарнитура.

После создания пакета приложения UWP Опенкср можно [развернуть этот пакет](using-visual-studio.md) на устройстве hololens 2 или в эмуляторе hololens 2.

## <a name="integrate-the-openxr-loader-into-a-project"></a>Интеграция загрузчика Опенкср в проект

Чтобы приступить к работе с Опенкср в существующем проекте, необходимо включить загрузчик Опенкср.  Загрузчик обнаруживает активную среду выполнения Опенкср на устройстве и предоставляет доступ к основным функциям и функциям расширения, которые она реализует.

Вы можете либо [ссылаться на официальный пакет NuGet опенкср](#reference-official-openxr-nuget-package) из проекта Visual Studio, либо [включить официальный источник опенкср Loader](#include-official-openxr-loader-source) из репозитория кхронос GitHub.  Любой из этих подходов предоставит вам доступ к основным функциям Опенкср 1,0, а также опубликованным `KHR` `EXT` и `MSFT` расширениям.

Если вы хотите поэкспериментировать с `MSFT_preview` расширениями, вы можете [скопировать их в опенкср Preview](#using-preview-extensions) из репозитория GitHub смешанной реальности.

### <a name="reference-official-openxr-nuget-package"></a>Ссылка на официальный пакет NuGet Опенкср

<a href="https://www.nuget.org/packages/OpenXR.Loader/" target="_blank">Пакет NuGet **Опенкср. Loader** </a> — это самый простой способ ссылки на предварительно созданный загрузчик опенкср. DLL в решении Visual Studio C++.  Это обеспечит доступ к основным функциям Опенкср 1,0, а также опубликованным `KHR` `EXT` и `MSFT` расширениям.

Чтобы добавить ссылку на пакет NuGet Опенкср. Loader в решение Visual Studio C++, сделайте следующее:
1. В **Обозреватель решений**щелкните правой кнопкой мыши проект, который будет использовать опенкср, и выберите пункт **Управление пакетами NuGet...**.
1. Перейдите на вкладку **Обзор** и выполните поиск **опенкср. Loader**.
1. Выберите пакет **опенкср. Loader** и щелкните установить в области сведений справа.
1. Нажмите кнопку ОК, чтобы принять изменения в проекте.
1. Добавьте `#include <openxr/openxr.h>` в исходный файл, чтобы начать использовать API опенкср.

Чтобы увидеть пример API Опенкср в действии, ознакомьтесь с примером приложения <a href="https://github.com/microsoft/OpenXR-MixedReality/tree/master/samples/BasicXrApp" target="_blank">басикксрапп</a> .

### <a name="include-official-openxr-loader-source"></a>Включить официальный источник загрузчика Опенкср

Значение, если необходимо самостоятельно создать загрузчик, например, чтобы избежать дополнительного загрузчика. DLL, вы можете извлечь официальные источники загрузчика Кхронос Опенкср в проект.  Это обеспечит доступ к основным функциям Опенкср 1,0, а также опубликованным `KHR` `EXT` и `MSFT` расширениям.

Чтобы начать работу, следуйте инструкциям в <a href="https://github.com/KhronosGroup/OpenXR-SDK" target="_blank">репозитории Кхронос опенкср-SDK на сайте GitHub</a>.  Проект настроен для сборки с помощью CMak. Если вы используете MSBuild, необходимо скопировать код в свой проект.

## <a name="using-preview-extensions"></a>Использование расширений для предварительного просмотра

`MSFT_preview`Расширения, перечисленные в схеме [расширения](openxr.md#roadmap) , являются экспериментальными расширениями поставщиков, которые можно просмотреть для сбора отзывов.  Эти расширения предназначены только для устройств разработчика и будут удалены при поставке настоящего расширения.

Если вы заинтересованы в ознакомлении с доступными `MSFT_preview` расширениями, выполните следующие действия, чтобы обновить проект:
1. Выполните любой из описанных выше подходов, чтобы интегрировать загрузчик Опенкср в проект.
1. Замените стандартные заголовки Опенкср в проекте на <a href="https://github.com/microsoft/OpenXR-MixedReality/tree/master/openxr_preview/include/openxr" target="_blank">заголовки предварительной версии из репозитория Опенкср смешанной реальности на сайте GitHub</a>.

Чтобы активировать поддержку расширенной версии на целевом компьютере HoloLens 2 или Desktop, выполните следующие действия.
  1. Чтобы убедиться, что у вас установлена последняя версия среды выполнения Опенкср с любыми [расширениями](openxr.md#roadmap) , запустите приложение **магазина** на целевом устройстве или в эмуляторе, откройте меню в правом верхнем углу, щелкните **загрузки и обновления** и щелкните **получить обновления**.
  1. Включите портал устройств Windows на целевом устройстве:
     * Если целевое устройство является устройством HoloLens 2, [следуйте этим инструкциям](using-the-windows-device-portal.md) на целевом устройстве.  Обратите внимание, что для этого требуется физическая гарнитура, так как известная проблема в эмуляторе HoloLens 2 не помешает пользовательскому интерфейсу на следующем шаге появлялся в эмуляторе.
     * Если целевое устройство является настольным компьютером с подключенным головным периферийным устройством, <a href="https://docs.microsoft.com/windows/uwp/debug-test-perf/device-portal-desktop#set-up-device-portal-on-windows-desktop" target="_blank">следуйте этим инструкциям</a> на целевом настольном компьютере.
  1. Перейдите на вкладку **опенкср** в левой области и включите **последнюю версию среды выполнения предварительной версии опенкср**.  Это позволит среде выполнения предварительной версии на устройстве с активированными расширениями предварительного просмотра.
  1. Убедитесь, что **версия среды выполнения** , отображаемая на вкладке **состояние системы** в [Windows Mixed Reality опенкср средства для разработчиков](openxr-getting-started.md#getting-the-windows-mixed-reality-openxr-developer-tools) теперь соответствует требуемой версии расширений предварительного просмотра, которую вы планируете использовать.  Если это так, вы увидите расширение в списке **расширений** .  Обратите внимание, что после того, как стабильное расширение станет доступным, его предварительное расширение будет удалено.<br />
     ![Опенкср "смешанная реальность" Средства для разработчиков вкладка "состояние системы приложений"](images/mixed-reality-openxr-developer-tools-status.png)

Документацию по этим расширениям и примеры использования этих расширений см. в <a href="https://github.com/microsoft/OpenXR-MixedReality#openxr-preview-extensions" target="_blank">репозитории Опенкср смешанной реальности</a> .

## <a name="troubleshooting"></a>Устранение неполадок

Если у вас возникли проблемы с Опенксрной разработкой, ознакомьтесь с [советами по устранению неполадок](openxr-troubleshooting.md).