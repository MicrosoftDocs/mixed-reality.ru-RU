---
title: Руководства по портированию приложений
description: Шаг за шагом Пошаговое руководство, описывающее, как перенести существующее приложение в Windows Mixed Reality иммерсивных.
author: ChimeraScorn
ms.author: cwhite
ms.date: 10/02/2018
ms.topic: article
keywords: порт, перенос, unity, по промежуточного слоя, механизм, универсальной платформы Windows
ms.openlocfilehash: a4a8c78f1c45fd8e3b85a767d139bae9f67540e0
ms.sourcegitcommit: 384b0087899cd835a3a965f75c6f6c607c9edd1b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/12/2019
ms.locfileid: "59602179"
---
# <a name="porting-guides"></a><span data-ttu-id="d6e87-104">Руководства по портированию приложений</span><span class="sxs-lookup"><span data-stu-id="d6e87-104">Porting guides</span></span>

> [!NOTE]
> <span data-ttu-id="d6e87-105">Дополнительные рекомендации, относящиеся к HoloLens 2 [ожидается в ближайшее время](index.md#news-and-notes).</span><span class="sxs-lookup"><span data-stu-id="d6e87-105">More guidance specific to HoloLens 2 [coming soon](index.md#news-and-notes).</span></span>

<span data-ttu-id="d6e87-106">Windows 10 включает поддержку для иммерсивных и holographic гарнитуры напрямую.</span><span class="sxs-lookup"><span data-stu-id="d6e87-106">Windows 10 includes support for immersive and holographic headsets directly.</span></span> <span data-ttu-id="d6e87-107">Если вы создавали содержимое для другого устройства, например Oculus Rift или HTC Vive, они имеют зависимости от библиотек, которые существуют выше API платформы операционной системы.</span><span class="sxs-lookup"><span data-stu-id="d6e87-107">If you have built content for another device such as the Oculus Rift or HTC Vive, these have dependencies on libraries that exist above the operating system's platform API.</span></span> <span data-ttu-id="d6e87-108">Переносить существующее содержимое в Windows Mixed Reality включает в себя целевой платформы для использования этих других пакетов SDK для API-интерфейсов Windows.</span><span class="sxs-lookup"><span data-stu-id="d6e87-108">Bringing existing content over to Windows Mixed Reality involves retargeting usage of these other SDKs to the Windows APIs.</span></span> <span data-ttu-id="d6e87-109">[API платформы Windows для смешанной реальности](https://docs.microsoft.com/uwp/api/Windows.Perception) работают только в модели приложения универсальной платформы Windows (UWP).</span><span class="sxs-lookup"><span data-stu-id="d6e87-109">The [Windows platform APIs for mixed reality](https://docs.microsoft.com/uwp/api/Windows.Perception) only work in the Universal Windows Platform (UWP) app model.</span></span> <span data-ttu-id="d6e87-110">Поэтому если приложение еще не создана для универсальной платформы Windows, перенос кода в UWP будет частью процесс переноса.</span><span class="sxs-lookup"><span data-stu-id="d6e87-110">So if your app is not already built for UWP, porting to UWP will be part of the porting experience.</span></span>

## <a name="porting-overview"></a><span data-ttu-id="d6e87-111">Общие сведения о переносе</span><span class="sxs-lookup"><span data-stu-id="d6e87-111">Porting overview</span></span>

<span data-ttu-id="d6e87-112">На высоком уровне ниже приведены шаги по переносу существующего содержимого.</span><span class="sxs-lookup"><span data-stu-id="d6e87-112">At a high-level, these are the steps involved in porting existing content:</span></span>
1. <span data-ttu-id="d6e87-113">**Убедитесь, что ваш компьютер работает под управлением Windows 10 Fall Creators Update (16299).**</span><span class="sxs-lookup"><span data-stu-id="d6e87-113">**Make sure your PC is running the Windows 10 Fall Creators Update (16299).**</span></span> <span data-ttu-id="d6e87-114">Больше не рекомендуется получение предварительной версии сборки из кольца Insider Skip вперед, так как эти сборки не будет наиболее стабильной для смешанной реальности разработки.</span><span class="sxs-lookup"><span data-stu-id="d6e87-114">We no longer recommend receiving preview builds from the Insider Skip Ahead ring, as those builds won't be the most stable for mixed reality development.</span></span>
2. <span data-ttu-id="d6e87-115">**Обновление до последней версии картинки или игровое ядро.**</span><span class="sxs-lookup"><span data-stu-id="d6e87-115">**Upgrade to the latest version of your graphics or game engine.**</span></span> <span data-ttu-id="d6e87-116">Игровых движков, необходимых для работы на пакет SDK для Windows 10 версией 10.0.15063.0 (выпущенной в апреле 2017 г.) или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="d6e87-116">Game engines will need to support the Windows 10 SDK version 10.0.15063.0 (released in April 2017) or higher.</span></span>
3. <span data-ttu-id="d6e87-117">**Обновите все по промежуточного слоя, подключаемые модули или компонентов.**</span><span class="sxs-lookup"><span data-stu-id="d6e87-117">**Upgrade any middleware, plug-ins or components.**</span></span> <span data-ttu-id="d6e87-118">Если приложение содержит компоненты, рекомендуется выполнить обновление до последней версии.</span><span class="sxs-lookup"><span data-stu-id="d6e87-118">If your app contains any components, it's a good idea to upgrade to the latest version.</span></span> <span data-ttu-id="d6e87-119">Более новые версии наиболее распространенные модули имеют поддержку универсальной платформы Windows.</span><span class="sxs-lookup"><span data-stu-id="d6e87-119">Newer versions of most common plug-ins have support for UWP.</span></span>
4. <span data-ttu-id="d6e87-120">**Удаление зависимостей от повторяющихся пакетов SDK**.</span><span class="sxs-lookup"><span data-stu-id="d6e87-120">**Remove dependencies on duplicate SDKs**.</span></span> <span data-ttu-id="d6e87-121">В зависимости от содержимого целевое устройство, необходимо удалить или условной компиляции, что данный пакет SDK (например SteamVR) вместо позволяет разрабатывать API-интерфейсов Windows.</span><span class="sxs-lookup"><span data-stu-id="d6e87-121">Depending on which device your content was targeting, you'll need to remove or conditionally compile out that SDK (e.g. SteamVR) so you can target the Windows APIs instead.</span></span>
5. <span data-ttu-id="d6e87-122">**Проработать проблем сборки.**</span><span class="sxs-lookup"><span data-stu-id="d6e87-122">**Work through build issues.**</span></span> <span data-ttu-id="d6e87-123">На этом этапе переноса упражнения относится только к ваше приложение, модуль и зависимости компонентов, к которым у вас есть.</span><span class="sxs-lookup"><span data-stu-id="d6e87-123">At this point, the porting exercise is specific to your app, your engine, and the component dependencies you have.</span></span>

## <a name="common-porting-steps"></a><span data-ttu-id="d6e87-124">Общие шаги по переносу</span><span class="sxs-lookup"><span data-stu-id="d6e87-124">Common porting steps</span></span>

### <a name="common-step-1-make-sure-you-have-the-right-development-hardware"></a><span data-ttu-id="d6e87-125">Общий шаг 1. Убедитесь, что у вас есть разработки оборудования</span><span class="sxs-lookup"><span data-stu-id="d6e87-125">Common step 1: Make sure you have the right development hardware</span></span>

<span data-ttu-id="d6e87-126">[Установить средства](install-the-tools.md#for-immersive-vr-headset-development) странице перечислены рекомендуемые разработки оборудования.</span><span class="sxs-lookup"><span data-stu-id="d6e87-126">The [install the tools](install-the-tools.md#for-immersive-vr-headset-development) page lists the recommended development hardware.</span></span>

### <a name="common-step-2-upgrade-to-the-latest-flight-of-windows-10"></a><span data-ttu-id="d6e87-127">Общий шаг 2. Обновление до последней полета Windows 10</span><span class="sxs-lookup"><span data-stu-id="d6e87-127">Common step 2: Upgrade to the latest flight of Windows 10</span></span>

<span data-ttu-id="d6e87-128">Платформа Windows Mixed Reality является по-прежнему активно разрабатывается и для наибольшей эффективности, рекомендуется во время полета «Windows Insider Fast».</span><span class="sxs-lookup"><span data-stu-id="d6e87-128">The Windows Mixed Reality platform is still under active development, and to be most effective, we recommend being on the "Windows Insider Fast" flight.</span></span> <span data-ttu-id="d6e87-129">Чтобы получить доступ к windows рейсов, необходимо будет [присоединиться к программе предварительной оценки Windows](https://insider.windows.com/).</span><span class="sxs-lookup"><span data-stu-id="d6e87-129">In order to have access to windows flights, you will need to [join the Windows Insider Program](https://insider.windows.com/).</span></span>
1. <span data-ttu-id="d6e87-130">Установка [Windows 10 Creators Update](https://www.microsoft.com/software-download/windows10)</span><span class="sxs-lookup"><span data-stu-id="d6e87-130">Install the [Windows 10 Creators Update](https://www.microsoft.com/software-download/windows10)</span></span>
2. <span data-ttu-id="d6e87-131">[Присоединяйтесь к](https://insider.windows.com/) программе предварительной оценки Windows.</span><span class="sxs-lookup"><span data-stu-id="d6e87-131">[Join](https://insider.windows.com/) the Windows Insider Program.</span></span>
3. <span data-ttu-id="d6e87-132">Включить [режим разработчика.](https://docs.microsoft.com/windows/uwp/get-started/enable-your-device-for-development)</span><span class="sxs-lookup"><span data-stu-id="d6e87-132">Enable [Developer Mode](https://docs.microsoft.com/windows/uwp/get-started/enable-your-device-for-development)</span></span>
4. <span data-ttu-id="d6e87-133">Переключиться в режим [Windows Insider Fast рейсы](https://blogs.technet.microsoft.com/uktechnet/2016/07/01/joining-insider-preview) через параметры--> обновление & раздел безопасности</span><span class="sxs-lookup"><span data-stu-id="d6e87-133">Switch to the [Windows Insider Fast flights](https://blogs.technet.microsoft.com/uktechnet/2016/07/01/joining-insider-preview) through Settings --> Update & Security Section</span></span>

### <a name="common-step-3-upgrade-to-the-most-recent-build-of-visual-studio"></a><span data-ttu-id="d6e87-134">Общий шаг 3. Обновление до последней сборки Visual Studio</span><span class="sxs-lookup"><span data-stu-id="d6e87-134">Common step 3: Upgrade to the most recent build of Visual Studio</span></span>
* <span data-ttu-id="d6e87-135">См. в разделе [установить средства](install-the-tools.md#installation-checklist) страницы в Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="d6e87-135">Please see [Install the tools](install-the-tools.md#installation-checklist) page under Visual Studio 2017</span></span>

### <a name="common-step-4-be-ready-for-the-store"></a><span data-ttu-id="d6e87-136">Общий шаг 4. Готовность к Store</span><span class="sxs-lookup"><span data-stu-id="d6e87-136">Common step 4: Be Ready for The Store</span></span>
* <span data-ttu-id="d6e87-137">Используйте [комплект сертификации приложений для Windows](https://developer.microsoft.com/windows/develop/app-certification-kit) (также называемые WACK) часто и заранее!</span><span class="sxs-lookup"><span data-stu-id="d6e87-137">Use [Windows App Certification Kit](https://developer.microsoft.com/windows/develop/app-certification-kit) (aka WACK) early and often!</span></span>
* <span data-ttu-id="d6e87-138">Используйте [анализатор переносимости](https://docs.microsoft.com/dotnet/standard/portability-analyzer) ([загрузить](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer))</span><span class="sxs-lookup"><span data-stu-id="d6e87-138">Use [Portability Analyzer](https://docs.microsoft.com/dotnet/standard/portability-analyzer) ([Download](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer))</span></span>

### <a name="common-step-5-choose-the-correct-adapter"></a><span data-ttu-id="d6e87-139">Общий шаг 5. Выберите правильный адаптер</span><span class="sxs-lookup"><span data-stu-id="d6e87-139">Common step 5: Choose the correct Adapter</span></span>
* <span data-ttu-id="d6e87-140">В системах, таких как записные книжки с двумя GPU [предназначенных для соответствующего адаптера](rendering-in-directx.md#hybrid-graphics-pcs-and-mixed-reality-applications).</span><span class="sxs-lookup"><span data-stu-id="d6e87-140">In systems like notebooks with two GPUs, [target the correct adapter](rendering-in-directx.md#hybrid-graphics-pcs-and-mixed-reality-applications).</span></span> <span data-ttu-id="d6e87-141">Это относится к приложения Unity, в дополнение к собственным приложениям DirectX, в которой создается ID3D11Device, явно или неявно (Media Foundation) для своих функций.</span><span class="sxs-lookup"><span data-stu-id="d6e87-141">This applies to Unity apps, in addition to native DirectX apps, where a ID3D11Device is created, either explicitly or implicitly (Media Foundation), for its functionality.</span></span>

## <a name="unity-porting-guidance"></a><span data-ttu-id="d6e87-142">Руководством по переносу Unity</span><span class="sxs-lookup"><span data-stu-id="d6e87-142">Unity porting guidance</span></span>

### <a name="unity-step-1-follow-the-common-porting-steps"></a><span data-ttu-id="d6e87-143">Unity шаг 1. Выполните эти шаги переноса</span><span class="sxs-lookup"><span data-stu-id="d6e87-143">Unity step 1: Follow the common porting steps</span></span>

<span data-ttu-id="d6e87-144">Ответьте на все эти шаги.</span><span class="sxs-lookup"><span data-stu-id="d6e87-144">Follow all of the common steps.</span></span> <span data-ttu-id="d6e87-145">В шаге #3 выберите **Разработка игр на платформе Unity** рабочей нагрузки.</span><span class="sxs-lookup"><span data-stu-id="d6e87-145">When in step #3, select the **Game Development with Unity** workload.</span></span> <span data-ttu-id="d6e87-146">Может отменить выбор дополнительный компонент редактора Unity, так как вы будете производить установку более новой версии Unity приведенные ниже инструкции.</span><span class="sxs-lookup"><span data-stu-id="d6e87-146">You may deselect the Unity Editor optional component since you'll be installing a newer version of Unity from the instructions below.</span></span>

### <a name="unity-step-2-upgrade-to-the-latest-public-build-of-unity-with-windows-mr-support"></a><span data-ttu-id="d6e87-147">Unity шаг 2. Обновление до последней общедоступной сборки Unity с поддержкой Windows MR</span><span class="sxs-lookup"><span data-stu-id="d6e87-147">Unity step 2: Upgrade to the latest public build of Unity with Windows MR Support</span></span>
1. <span data-ttu-id="d6e87-148">Загрузите последнюю версию [рекомендуется публичное построение Unity,](install-the-tools.md) со смешанной реальности поддержки.</span><span class="sxs-lookup"><span data-stu-id="d6e87-148">Download the latest [recommended public build of Unity](install-the-tools.md) with mixed reality support.</span></span>
2. <span data-ttu-id="d6e87-149">Сохранить копию проекта перед началом работы</span><span class="sxs-lookup"><span data-stu-id="d6e87-149">Save a copy of your project before you get started</span></span>
3. <span data-ttu-id="d6e87-150">Просмотрите [документации](https://docs.unity3d.com/Manual/UpgradeGuides.html) доступны из Unity на перенос.</span><span class="sxs-lookup"><span data-stu-id="d6e87-150">Review the [documentation](https://docs.unity3d.com/Manual/UpgradeGuides.html) available from Unity on porting.</span></span>
4. <span data-ttu-id="d6e87-151">Выполните [инструкции](https://docs.unity3d.com/Manual/APIUpdater.html) на сайте Unity для использования их автоматического обновления API</span><span class="sxs-lookup"><span data-stu-id="d6e87-151">Follow the [instructions](https://docs.unity3d.com/Manual/APIUpdater.html) on Unity's site for using their automatic API updater</span></span>
5. <span data-ttu-id="d6e87-152">Проверьте, есть ли дополнительные изменения, которые необходимо учитывать, чтобы получить проекта, запущенного и работать через все остальные ошибки и предупреждения.</span><span class="sxs-lookup"><span data-stu-id="d6e87-152">Check and see if there are additional changes that you need to make to get your project running, and work through any remaining errors and warnings.</span></span> <span data-ttu-id="d6e87-153">Примечание. При наличии по промежуточного слоя, зависит, может потребоваться обновление этого по промежуточного слоя, чтобы приступить к работе (Дополнительные сведения на шаге 3 ниже).</span><span class="sxs-lookup"><span data-stu-id="d6e87-153">Note: If you have middleware that you depend on, you may need to update that middleware to get going (more details in step 3 below).</span></span>

### <a name="unity-step-3-upgrade-your-middleware-to-the-latest-versions"></a><span data-ttu-id="d6e87-154">Unity шаг 3. Обновление до последней версии, по промежуточного слоя</span><span class="sxs-lookup"><span data-stu-id="d6e87-154">Unity step 3: Upgrade your middleware to the latest versions</span></span>

<span data-ttu-id="d6e87-155">С никакие обновления Unity есть шанс, что вам нужно обновить один или несколько пакетов по промежуточного слоя, от которых зависит игры или приложения.</span><span class="sxs-lookup"><span data-stu-id="d6e87-155">With any Unity update, there is a good chance that you need to update one or more middleware packages that your game or application depends on.</span></span> <span data-ttu-id="d6e87-156">Кроме того что при последней версии всех по промежуточного слоя увеличит ваш вероятности успеха в дальнейшем в процессе переноса.</span><span class="sxs-lookup"><span data-stu-id="d6e87-156">Additionally, being on the latest version of all of your middleware will increase your likelihood of success throughout the rest of the porting process.</span></span> <span data-ttu-id="d6e87-157">Многие пакеты по промежуточного слоя недавно добавили поддержку для универсальной платформы Windows (UWP) и обновление до последних версий можно использовать эту работу.</span><span class="sxs-lookup"><span data-stu-id="d6e87-157">Many middleware packages have recently added support for Universal Windows Platform (UWP), and upgrading to the most recent versions will let you leverage that work.</span></span>

### <a name="unity-step-4-target-your-application-to-run-on-universal-windows-platform-uwp"></a><span data-ttu-id="d6e87-158">Unity шаг 4. Целевые приложения для запуска на универсальную платформу Windows (UWP)</span><span class="sxs-lookup"><span data-stu-id="d6e87-158">Unity step 4: Target your application to run on Universal Windows Platform (UWP)</span></span>

<span data-ttu-id="d6e87-159">После установки этих средств, необходимо получить приложение работает как приложение универсальной Windows.</span><span class="sxs-lookup"><span data-stu-id="d6e87-159">After installing the tools, you need to get your app running as a Universal Windows app.</span></span>
* <span data-ttu-id="d6e87-160">Выполните [подробные шаг за шагом пройти](https://unity3d.com/partners/microsoft/porting-guides) предоставляемым Unity.</span><span class="sxs-lookup"><span data-stu-id="d6e87-160">Follow the [detailed step by step walk through](https://unity3d.com/partners/microsoft/porting-guides) provided by Unity.</span></span> <span data-ttu-id="d6e87-161">Обратите внимание на то, что вы должны оставаться на последний выпуск LTS (любой выпуск 20xx.4) для Windows MR.</span><span class="sxs-lookup"><span data-stu-id="d6e87-161">Please note that you should stay on the latest LTS release (any 20xx.4 release) for Windows MR.</span></span>
* <span data-ttu-id="d6e87-162">Дополнительные ресурсы для разработки UWP, взгляните на [руководство по разработке игр для Windows 10](https://docs.microsoft.com/windows/uwp/gaming/e2e).</span><span class="sxs-lookup"><span data-stu-id="d6e87-162">For more UWP development resources, take a look at the [Windows 10 game development guide](https://docs.microsoft.com/windows/uwp/gaming/e2e).</span></span>
* <span data-ttu-id="d6e87-163">Обратите внимание, что Unity продолжает совершенствовать IL2CPP поддержки; IL2CPP делает некоторые UWP порты значительно проще.</span><span class="sxs-lookup"><span data-stu-id="d6e87-163">Please note that Unity continues to improve IL2CPP support; IL2CPP makes some UWP ports significantly easier.</span></span> <span data-ttu-id="d6e87-164">Если вы используете в настоящее время сценариев серверной части .net, следует подумать о преобразовании вместо этого использовать IL2CPP серверной части.</span><span class="sxs-lookup"><span data-stu-id="d6e87-164">If you are currently targeting the .Net scripting backend, you should consider converting to leverage the IL2CPP backend instead.</span></span>

<span data-ttu-id="d6e87-165">Примечание. Если приложение не зависит от определенных служб устройств, например совпадение, в результате отправки ими поток данных, необходимо отключить их в этом шаге.</span><span class="sxs-lookup"><span data-stu-id="d6e87-165">Note: If your application has any dependencies on device specific services, such as match making from Steam, you will need to disable them at this step.</span></span> <span data-ttu-id="d6e87-166">В дальнейшем вы можете подключать к эквивалентное службам, предоставляемым Windows.</span><span class="sxs-lookup"><span data-stu-id="d6e87-166">At a later time, you can hook up to the equivalent services that Windows provides.</span></span>

### <a name="unity-step-5-deprecated"></a><span data-ttu-id="d6e87-167">Unity шаг 5. (Устарело)</span><span class="sxs-lookup"><span data-stu-id="d6e87-167">Unity step 5: (Deprecated)</span></span>

<span data-ttu-id="d6e87-168">Шаг 5 больше не требуется.</span><span class="sxs-lookup"><span data-stu-id="d6e87-168">Step 5 is no longer required.</span></span> <span data-ttu-id="d6e87-169">Мы оставив его здесь, чтобы индексирование действия остается неизменным.</span><span class="sxs-lookup"><span data-stu-id="d6e87-169">We are leaving it here so that the indexing of steps remains the same.</span></span>

### <a name="unity-step-6-get-your-windows-mixed-reality-hardware-set-up"></a><span data-ttu-id="d6e87-170">Unity шаг 6. Получить настройки оборудования Windows Mixed Reality</span><span class="sxs-lookup"><span data-stu-id="d6e87-170">Unity step 6: Get your Windows Mixed Reality hardware set up</span></span>
1. <span data-ttu-id="d6e87-171">Просмотрите шаги [Иммерсивных гарнитура установки](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/before-you-start
)</span><span class="sxs-lookup"><span data-stu-id="d6e87-171">Review steps in [Immersive headset setup](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/before-you-start
)</span></span>
2. <span data-ttu-id="d6e87-172">Дополнительные сведения о [использования симулятора Windows Mixed Reality](using-the-windows-mixed-reality-simulator.md) и [перемещение Домашняя страница Windows Mixed Reality](navigating-the-windows-mixed-reality-home.md)</span><span class="sxs-lookup"><span data-stu-id="d6e87-172">Learn about [Using the Windows Mixed Reality simulator](using-the-windows-mixed-reality-simulator.md) and [Navigating the Windows Mixed Reality home](navigating-the-windows-mixed-reality-home.md)</span></span>

### <a name="unity-step-7-target-your-application-to-run-on-windows-mixed-reality"></a><span data-ttu-id="d6e87-173">Unity шаг 7. Целевые приложения под управлением Windows Mixed Reality</span><span class="sxs-lookup"><span data-stu-id="d6e87-173">Unity step 7: Target your application to run on Windows Mixed Reality</span></span>
1. <span data-ttu-id="d6e87-174">Во-первых необходимо удалить или любые другие библиотеки поддержки относящиеся к конкретному VR пакета SDK для условной компиляции.</span><span class="sxs-lookup"><span data-stu-id="d6e87-174">First, you must remove or conditionally compile out any other library support specific to a particular VR SDK.</span></span> <span data-ttu-id="d6e87-175">Эти ресурсы часто меняться, параметров и свойств в проекте одним из способов, которые несовместимы с другими пакетами SDK виртуальной Реальности, таких как Windows Mixed Reality.</span><span class="sxs-lookup"><span data-stu-id="d6e87-175">Those assets frequently change settings and properties on your project in ways that are incompatible with other VR SDKs, such as Windows Mixed Reality.</span></span>
    * <span data-ttu-id="d6e87-176">Например если проект ссылается на пакет SDK SteamVR, необходимо будет обновить проект, чтобы исключить эти prefabs и вызовы API из сценариев, при экспорте для целевого объекта сборки Windows Store.</span><span class="sxs-lookup"><span data-stu-id="d6e87-176">For example, if your project references the SteamVR SDK, you will need to update your project to exclude those prefabs and script API calls when exporting for the Windows Store build target.</span></span>
    * <span data-ttu-id="d6e87-177">Конкретные действия по условию, за исключением других пакетов SDK VR ожидается в ближайшее время.</span><span class="sxs-lookup"><span data-stu-id="d6e87-177">Specific steps for conditionally excluding other VR SDKs is coming soon.</span></span>
2. <span data-ttu-id="d6e87-178">В проекте Unity [целевой пакет SDK для Windows 10](holograms-100.md#target-windows-10-sdk)</span><span class="sxs-lookup"><span data-stu-id="d6e87-178">In your Unity project, [target the Windows 10 SDK](holograms-100.md#target-windows-10-sdk)</span></span>
3. <span data-ttu-id="d6e87-179">Для каждой сцены [Настройка камеры](holograms-100.md#chapter-2---setup-the-camera)</span><span class="sxs-lookup"><span data-stu-id="d6e87-179">For each scene, [setup the camera](holograms-100.md#chapter-2---setup-the-camera)</span></span>

### <a name="unity-step-8-use-the-stage-to-place-content-on-the-floor"></a><span data-ttu-id="d6e87-180">Unity шаг 8. Использование рабочей области для размещения содержимого на ближайшее снизу целое</span><span class="sxs-lookup"><span data-stu-id="d6e87-180">Unity step 8: Use the stage to place content on the floor</span></span>

<span data-ttu-id="d6e87-181">Вы можете разрабатывать интерфейсы смешанной реальности для широкий спектр [возникнуть шкал](coordinate-systems.md).</span><span class="sxs-lookup"><span data-stu-id="d6e87-181">You can build Mixed Reality experiences across a wide range of [experience scales](coordinate-systems.md).</span></span>

<span data-ttu-id="d6e87-182">Если вы переносите **сидели высококлассные возможности**, необходимо убедиться, присваивается Unity **стационарные** отслеживания тип пространства:</span><span class="sxs-lookup"><span data-stu-id="d6e87-182">If you're porting a **seated-scale experience**, you must ensure Unity is set to the **Stationary** tracking space type:</span></span>

```cs
XRDevice.SetTrackingSpaceType(TrackingSpaceType.Stationary);
```

<span data-ttu-id="d6e87-183">Этот параметр задает Unity мировая система координат для отслеживания [стационарной системой отсчета координат](coordinate-systems.md#spatial-coordinate-systems).</span><span class="sxs-lookup"><span data-stu-id="d6e87-183">This sets Unity's world coordinate system to track the [stationary frame of reference](coordinate-systems.md#spatial-coordinate-systems).</span></span> <span data-ttu-id="d6e87-184">В режиме отслеживания неподвижным, содержимое помещено в редакторе перед камерой расположение по умолчанию (вперед -Z) будет отображаться перед пользователем, при запуске приложения.</span><span class="sxs-lookup"><span data-stu-id="d6e87-184">In the Stationary tracking mode, content placed in the editor just in front of the camera's default location (forward is -Z) will appear in front of the user when the app launches.</span></span> <span data-ttu-id="d6e87-185">Для центровку пользователь сидели origin, вы можете вызвать Unity [XR. InputTracking.Recenter](https://docs.unity3d.com/ScriptReference/XR.InputTracking.Recenter.html) метод.</span><span class="sxs-lookup"><span data-stu-id="d6e87-185">To recenter the user's seated origin, you can call Unity's [XR.InputTracking.Recenter](https://docs.unity3d.com/ScriptReference/XR.InputTracking.Recenter.html) method.</span></span>

<span data-ttu-id="d6e87-186">Если вы переносите **положение высококлассные возможности** или **комнаты высококлассные возможности**, размещено содержимое относительно ближайшее снизу целое.</span><span class="sxs-lookup"><span data-stu-id="d6e87-186">If you're porting a **standing-scale experience** or **room-scale experience**, you'll be placing content relative to the floor.</span></span> <span data-ttu-id="d6e87-187">Обсуждения пользователя floor с помощью  **[пространственных этап](coordinate-systems.md#spatial-coordinate-systems)**, который представляет пользователя определенные полу источника и границ необязательно комнаты, заданный во время первого запуска.</span><span class="sxs-lookup"><span data-stu-id="d6e87-187">You reason about the user's floor using the **[spatial stage](coordinate-systems.md#spatial-coordinate-systems)**, which represents the user's defined floor-level origin and optional room boundary, set up during first run.</span></span> <span data-ttu-id="d6e87-188">Эти возможности, необходимо обеспечить Unity присваивается **RoomScale** отслеживания тип пространства.</span><span class="sxs-lookup"><span data-stu-id="d6e87-188">For these experiences, you must ensure Unity is set to the **RoomScale** tracking space type.</span></span> <span data-ttu-id="d6e87-189">Несмотря на то значение по умолчанию RoomScale, необходимо явно задать и убедитесь, что вы получаете обратно значение равно true, для перехвата ситуациях, где пользователь переместил свои компьютеры от места их калибровки:</span><span class="sxs-lookup"><span data-stu-id="d6e87-189">While RoomScale is the default, you'll want to set it explicitly and ensure you get back true, to catch situations where the user has moved their computer away from the room they calibrated:</span></span>

```cs
if (XRDevice.SetTrackingSpaceType(TrackingSpaceType.RoomScale))
{
    // RoomScale mode was set successfully.  App can now assume that y=0 in Unity world coordinate represents the floor.
}
else
{
    // RoomScale mode was not set successfully.  App cannot make assumptions about where the floor plane is.
}
```

<span data-ttu-id="d6e87-190">После приложения успешно задает RoomScale, отслеживания тип пространства, содержимого уделено y = 0, плоскость появятся в ближайшее снизу целое.</span><span class="sxs-lookup"><span data-stu-id="d6e87-190">Once your app successfully sets the RoomScale tracking space type, content placed on the y=0 plane will appear on the floor.</span></span> <span data-ttu-id="d6e87-191">Исходный объект на (0, 0, 0) будет определенное место в процессе установки, где пользователь стояли во время установки комнате с -Z, представляющая вперед, которые они были с выходом во время установки.</span><span class="sxs-lookup"><span data-stu-id="d6e87-191">The origin at (0, 0, 0) will be the specific place on the floor where the user stood during room setup, with -Z representing the forward direction they were facing during setup.</span></span>

<span data-ttu-id="d6e87-192">В коде скрипта можно вызов метода TryGetGeometry на вы будете типа UnityEngine.Experimental.XR.Boundary многоугольника границ, задание типа TrackedArea границ.</span><span class="sxs-lookup"><span data-stu-id="d6e87-192">In script code, you can then call the TryGetGeometry method on your the UnityEngine.Experimental.XR.Boundary type to get a boundary polygon, specifying a boundary type of TrackedArea.</span></span> <span data-ttu-id="d6e87-193">Если определяемый пользователем границе (можно вернуть список вершин), вы знаете, безопасно доставлять **комнаты высококлассные возможности** для пользователя, где они могут помочь вокруг сцены создать.</span><span class="sxs-lookup"><span data-stu-id="d6e87-193">If the user defined a boundary (you get back a list of vertices), you know it is safe to deliver a **room-scale experience** to the user, where they can walk around the scene you create.</span></span>

<span data-ttu-id="d6e87-194">Обратите внимание на то, система автоматически будет отображать границу пользователя приближается к его.</span><span class="sxs-lookup"><span data-stu-id="d6e87-194">Note that the system will automatically render the boundary when the user approaches it.</span></span> <span data-ttu-id="d6e87-195">Приложения не нужно использовать для подготовки к просмотру самой границе этого многоугольника.</span><span class="sxs-lookup"><span data-stu-id="d6e87-195">Your app does not need to use this polygon to render the boundary itself.</span></span>

<span data-ttu-id="d6e87-196">Дополнительные сведения см. в разделе [системами координат в Unity](coordinate-systems-in-unity.md) страницы.</span><span class="sxs-lookup"><span data-stu-id="d6e87-196">For more details, see the [Coordinate systems in Unity](coordinate-systems-in-unity.md) page.</span></span>

<span data-ttu-id="d6e87-197">Некоторые приложения используют прямоугольник, чтобы ограничить их взаимодействие.</span><span class="sxs-lookup"><span data-stu-id="d6e87-197">Some applications use a rectangle to constrain their interaction.</span></span> <span data-ttu-id="d6e87-198">Извлечение вписанным самый большой прямоугольник не поддерживается напрямую в API универсальной платформы Windows или Unity.</span><span class="sxs-lookup"><span data-stu-id="d6e87-198">Retrieving the largest inscribed rectangle is not directly supported in the UWP API or Unity.</span></span> <span data-ttu-id="d6e87-199">В примере кода связана с ниже показаны способы поиска прямоугольник в пределах границ трассировки.</span><span class="sxs-lookup"><span data-stu-id="d6e87-199">The example code linked to below shows how to find a rectangle within the traced bounds.</span></span> <span data-ttu-id="d6e87-200">Эвристический алгоритм на основе, поэтому не может найти оптимальное решение, однако результаты, обычно соответствуют ожиданиям.</span><span class="sxs-lookup"><span data-stu-id="d6e87-200">It is heuristic based so may not find the optimal solution, however, results are generally consistent with expectations.</span></span> <span data-ttu-id="d6e87-201">Чтобы найти более точные результаты за счет время обработки, можно оптимизировать параметров в алгоритме.</span><span class="sxs-lookup"><span data-stu-id="d6e87-201">Parameters in the algorithm can be tuned to find more precise results at the cost of processing time.</span></span> <span data-ttu-id="d6e87-202">Алгоритм — в вилке, использующий MRTP версии Unity 5.6 предварительной версии набора средств смешанной реальности.</span><span class="sxs-lookup"><span data-stu-id="d6e87-202">The algorithm is in a fork of the Mixed Reality Toolkit that uses the 5.6 preview MRTP version of Unity.</span></span> <span data-ttu-id="d6e87-203">Это не является общедоступным.</span><span class="sxs-lookup"><span data-stu-id="d6e87-203">This is not publically available.</span></span> <span data-ttu-id="d6e87-204">Код должен быть напрямую использовать в версиях Unity 2017.2 и более поздних версий.</span><span class="sxs-lookup"><span data-stu-id="d6e87-204">The code should be directly usable in 2017.2 and higher versions of Unity.</span></span> <span data-ttu-id="d6e87-205">Код будет перенести в текущем MRTK в ближайшем будущем.</span><span class="sxs-lookup"><span data-stu-id="d6e87-205">The code will be ported to the current MRTK in the near future.</span></span>

<span data-ttu-id="d6e87-206">[ZIP-файл кода на GitHub](https://github.com/KevinKennedy/MixedRealityToolkit-Unity/releases/tag/5.6.MRTP20) важных файлов:</span><span class="sxs-lookup"><span data-stu-id="d6e87-206">[zip file of code on GitHub](https://github.com/KevinKennedy/MixedRealityToolkit-Unity/releases/tag/5.6.MRTP20) Important files:</span></span>
* <span data-ttu-id="d6e87-207">Assets/HoloToolkit/Stage/Scripts/StageManager.cs - пример использования</span><span class="sxs-lookup"><span data-stu-id="d6e87-207">Assets/HoloToolkit/Stage/Scripts/StageManager.cs - example of usage</span></span>
* <span data-ttu-id="d6e87-208">Assets/HoloToolkit/Stage/Scripts/LargestRectangle.cs - реализацию алгоритма</span><span class="sxs-lookup"><span data-stu-id="d6e87-208">Assets/HoloToolkit/Stage/Scripts/LargestRectangle.cs - implementation of the algorithm</span></span>
* <span data-ttu-id="d6e87-209">Assets/HoloToolkit-UnitTests/Editor/Stage/LargestRectangleTest.cs - тривиальные теста алгоритма</span><span class="sxs-lookup"><span data-stu-id="d6e87-209">Assets/HoloToolkit-UnitTests/Editor/Stage/LargestRectangleTest.cs - trivial test of the algorithm</span></span>

<span data-ttu-id="d6e87-210">Пример результатов:</span><span class="sxs-lookup"><span data-stu-id="d6e87-210">Example of results:</span></span>

![Пример результата](images/largestrectangle-400px.jpg)

<span data-ttu-id="d6e87-212">Алгоритм основан на блог по Smilkov Дэниэл: [Самый большой прямоугольник в экземпляре polygon](https://d3plus.org/blog/behind-the-scenes/2014/07/08/largest-rect/)</span><span class="sxs-lookup"><span data-stu-id="d6e87-212">Algorithm is based on a blog by Daniel Smilkov: [Largest rectangle in a polygon](https://d3plus.org/blog/behind-the-scenes/2014/07/08/largest-rect/)</span></span>

### <a name="unity-step-9-work-through-your-input-model"></a><span data-ttu-id="d6e87-213">Unity шаг 9. Изучить представленные в модели входных данных</span><span class="sxs-lookup"><span data-stu-id="d6e87-213">Unity step 9: Work through your input model</span></span>

<span data-ttu-id="d6e87-214">Каждой игры и приложения, предназначенные для существующих HMD будет иметь набор входных данных, которые он обрабатывает, типы входных данных, которые ему необходимы для работы и интерфейсах, которые он вызывает для получения этих входных данных.</span><span class="sxs-lookup"><span data-stu-id="d6e87-214">Each game or application targeting an existing HMD will have a set of inputs that it handles, types of inputs that it needs for the experience, and specific APIs that it calls to get those inputs.</span></span> <span data-ttu-id="d6e87-215">Мы вложили средства в попытке сделать ее как простыми и понятными — это позволит воспользоваться преимуществами входных данных, доступных в Windows Mixed Reality.</span><span class="sxs-lookup"><span data-stu-id="d6e87-215">We have invested in trying to make it as simple and straightforward as possible to take advantage of the inputs available in Windows Mixed Reality.</span></span>
1. <span data-ttu-id="d6e87-216">Прочтите **[ввода, руководство по для Unity переносу](input-porting-guide-for-unity.md)** Дополнительные сведения о Windows Mixed Reality предоставляет входные данные, и рассматривается их сопоставление какие приложения могут сделать уже сегодня.</span><span class="sxs-lookup"><span data-stu-id="d6e87-216">Read through the **[Input porting guide for Unity](input-porting-guide-for-unity.md)** for details of how Windows Mixed Reality exposes input, and how that maps to what your application may do today.</span></span>
2. <span data-ttu-id="d6e87-217">Выберите ли вы собираетесь использовать API ввода кросс VR-SDK Unity или MR конкретного ввода API.</span><span class="sxs-lookup"><span data-stu-id="d6e87-217">Choose whether you are going to leverage Unity's cross-VR-SDK input API, or the MR-specific input API.</span></span> <span data-ttu-id="d6e87-218">Общие API-интерфейсы Input.GetButton/Input.GetAxis используемых приложений виртуальной Реальности в Unity для [ввода Oculus](https://docs.unity3d.com/Manual/OculusControllers.html) и [OpenVR ввода](https://docs.unity3d.com/Manual/OpenVRControllers.html).</span><span class="sxs-lookup"><span data-stu-id="d6e87-218">The general Input.GetButton/Input.GetAxis APIs are used by Unity VR apps today for [Oculus input](https://docs.unity3d.com/Manual/OculusControllers.html) and [OpenVR input](https://docs.unity3d.com/Manual/OpenVRControllers.html).</span></span> <span data-ttu-id="d6e87-219">Если ваши приложения уже используют эти API-интерфейсы для контроллеров движения, это самый простой способ — следует просто необходимо переназначить осей в диспетчере ввода и кнопки.</span><span class="sxs-lookup"><span data-stu-id="d6e87-219">If your apps are already using these APIs for motion controllers, this is the easiest path - you should just need to remap buttons and axes in the Input Manager.</span></span>
    * <span data-ttu-id="d6e87-220">Можно получить доступ к данным контроллера движения в Unity, с помощью либо API UnityEngine.XR.WSA.Input MR конкретных или общих Input.GetButton/Input.GetAxis кросс VR-SDK API-интерфейсы.</span><span class="sxs-lookup"><span data-stu-id="d6e87-220">You can access motion controller data in Unity using either the general cross-VR-SDK Input.GetButton/Input.GetAxis APIs or the MR-specific UnityEngine.XR.WSA.Input APIs.</span></span> <span data-ttu-id="d6e87-221">(ранее в пространстве имен UnityEngine.XR.WSA.Input в Unity 5.6)</span><span class="sxs-lookup"><span data-stu-id="d6e87-221">(previously in the UnityEngine.XR.WSA.Input namespace in Unity 5.6)</span></span>
    * <span data-ttu-id="d6e87-222">См. в разделе [пример в наборе средств](https://github.com/Microsoft/HoloToolkit-Unity/pull/572) , объединяющее контроллеры игровой и перемещения.</span><span class="sxs-lookup"><span data-stu-id="d6e87-222">See the [example in Toolkit](https://github.com/Microsoft/HoloToolkit-Unity/pull/572) that combines gamepad and motion controllers.</span></span>

### <a name="unity-step-10-performance-testing-and-tuning"></a><span data-ttu-id="d6e87-223">Unity шаг 10. Тестирование производительности и настройке</span><span class="sxs-lookup"><span data-stu-id="d6e87-223">Unity step 10: Performance testing and tuning</span></span>

<span data-ttu-id="d6e87-224">Windows Mixed Reality будет использовать их на широкого класса устройств, от высокой завершения игры ПК, вниз, чтобы широкий рынок массовым ПК.</span><span class="sxs-lookup"><span data-stu-id="d6e87-224">Windows Mixed Reality will be available on a broad class of devices, ranging from high end gaming PCs, down to broad market mainstream PCs.</span></span> <span data-ttu-id="d6e87-225">В зависимости от того, какие вы ориентируетесь на рынке имеется значительная разница в доступных вычислительных ресурсов и графики бюджеты для вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="d6e87-225">Depending on what market you are targeting, there is a significant difference in the available compute and graphics budgets for your application.</span></span> <span data-ttu-id="d6e87-226">Во время этого упражнения переноса, скорее всего, используя ПК категории "премиум" и вы значительные бюджеты вычислительных ресурсов и графики доступны в приложение.</span><span class="sxs-lookup"><span data-stu-id="d6e87-226">During this porting exercise, you are likely leveraging a premium PC, and have had significant compute and graphics budgets available to your app.</span></span> <span data-ttu-id="d6e87-227">Если вы хотите сделать приложение доступным для широкой аудитории, следует проверить и профилирования приложения на [репрезентативной оборудования, что вы хотите, чтобы целевой объект](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/windows-mixed-reality-minimum-pc-hardware-compatibility-guidelines).</span><span class="sxs-lookup"><span data-stu-id="d6e87-227">If you wish to make your app available to a broader audience, you should test and profile your app on [the representative hardware that you wish to target](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/windows-mixed-reality-minimum-pc-hardware-compatibility-guidelines).</span></span>

<span data-ttu-id="d6e87-228">Оба [Unity](https://docs.unity3d.com/Manual/Profiler.html) и [Visual Studio](https://docs.microsoft.com/visualstudio/profiling/index) включают в себя средства профилирования производительности и оба [Microsoft](understanding-performance-for-mixed-reality.md) и [Intel](https://software.intel.com/articles/vr-content-developer-guide) публикации рекомендации на Профилирование производительности и оптимизации.</span><span class="sxs-lookup"><span data-stu-id="d6e87-228">Both [Unity](https://docs.unity3d.com/Manual/Profiler.html) and [Visual Studio](https://docs.microsoft.com/visualstudio/profiling/index) include performance profilers, and both [Microsoft](understanding-performance-for-mixed-reality.md) and [Intel](https://software.intel.com/articles/vr-content-developer-guide) publish guidelines on performance profiling and optimization.</span></span> <span data-ttu-id="d6e87-229">Есть обширный о производительности в [основные сведения о производительности для смешанной реальности](understanding-performance-for-mixed-reality.md).</span><span class="sxs-lookup"><span data-stu-id="d6e87-229">There is an extensive discussion of performance available at [Understanding Performance for Mixed Reality](understanding-performance-for-mixed-reality.md).</span></span> <span data-ttu-id="d6e87-230">Кроме того, существуют определенные сведения для Unity в разделе [рекомендации по производительности для Unity](performance-recommendations-for-unity.md).</span><span class="sxs-lookup"><span data-stu-id="d6e87-230">Further, there are specific details for Unity under [Performance Recommendations for Unity](performance-recommendations-for-unity.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="d6e87-231">См. также</span><span class="sxs-lookup"><span data-stu-id="d6e87-231">See also</span></span>
* [<span data-ttu-id="d6e87-232">Руководство по для Unity переносу входных данных</span><span class="sxs-lookup"><span data-stu-id="d6e87-232">Input porting guide for Unity</span></span>](input-porting-guide-for-unity.md)
* [<span data-ttu-id="d6e87-233">Windows Mixed Reality минимальное ПК совместимости рекомендаций по оборудованию</span><span class="sxs-lookup"><span data-stu-id="d6e87-233">Windows Mixed Reality minimum PC hardware compatibility guidelines</span></span>](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/windows-mixed-reality-minimum-pc-hardware-compatibility-guidelines)
* [<span data-ttu-id="d6e87-234">Основные сведения о производительности для смешанной реальности</span><span class="sxs-lookup"><span data-stu-id="d6e87-234">Understanding Performance for Mixed Reality</span></span>](understanding-performance-for-mixed-reality.md)
* [<span data-ttu-id="d6e87-235">Рекомендации по производительности для Unity</span><span class="sxs-lookup"><span data-stu-id="d6e87-235">Performance Recommendations for Unity</span></span>](performance-recommendations-for-unity.md)
* [<span data-ttu-id="d6e87-236">Добавление поддержки Xbox Live в Unity для универсальной платформы Windows</span><span class="sxs-lookup"><span data-stu-id="d6e87-236">Add Xbox Live support to Unity for UWP</span></span>](https://docs.microsoft.com/windows/uwp/xbox-live/get-started-with-partner/partner-add-xbox-live-to-unity-uwp)
