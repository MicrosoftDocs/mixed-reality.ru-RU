---
title: Пример использования - просматривая отверстия в реальности
description: В этом практическом объясняется, как реализовать «магический окно» воздействие на HoloLens, позволяя пользователю см. в статье за стены, в разделе ближайшее снизу целое, а также в виртуальной отверстия в своей среде фактическое.
author: EricRehmeyer
ms.author: ericrehm
ms.date: 03/21/2018
ms.topic: article
keywords: Windows Mixed Reality, HoloLens, magic окна, фокусировки
ms.openlocfilehash: 0c0828a6ebbefdcff7f0a66f48469007c5c532df
ms.sourcegitcommit: 384b0087899cd835a3a965f75c6f6c607c9edd1b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/12/2019
ms.locfileid: "59600749"
---
# <a name="case-study---looking-through-holes-in-your-reality"></a>Пример использования - просматривая отверстия в реальности

При рассмотрении вопроса о смешанной реальности и их возможности с Microsoft HoloLens, они обычно придерживаться вопросы, такие как «Какие объекты, можно ли добавить в Мои места»? или «Что можно я слоя на основе моей сферы?» Хотелось бы выделить еще одна область, можно рассмотреть — по существу ухищрения — с помощью той же технологии для поиска в или с помощью физического объектов вокруг вас.

## <a name="the-tech"></a>Технический

Если мучились пришельцы, как они существенно повышает стен в  **[RoboRaid](https://www.youtube.com/watch?v=Hf9qkURqtbM)**, разблокировать стены в безопасном  **[фрагментов](case-study-creating-an-immersive-experience-in-fragments.md)**, или были найдется Чтобы увидеть hangar UNSC бесконечности в  **[Halo 5 опыт в E3 2015](https://www.youtube.com/watch?v=QDw5QjDtFy8)**, то вам уже знакома, о чем я говорю. В зависимости от свое воображение этот прием visual можно поместить временные отверстия в вашей внутренних или скрыть миров под свободные floorboard.

![RoboRaid добавляет трехмерного каналы и другие структуры стен отображается только с помощью бреши в системе, как решать вредоносных программ.](images/roboraid-640px.png)

RoboRaid добавляет трехмерного каналы и другие структуры стен отображается только с помощью бреши в системе, как решать вредоносных программ.

С помощью одного из этих уникальных голограммы на HoloLens, приложение может создать иллюзию содержимого за стен или через ваш floor таким же образом, реальность проявляет себя через окна. Переместить самостоятельно слева, и вы увидите, все, что находится справа от оператора. Ближе, и вы увидите чуть подробнее всего содержимого. Основное отличие — это что реальные отверстия позволяют, то время как вашей floor параллельных не позволяют переходить через этого магического holographic содержимого. (Я добавлю задачу в невыполненную работу.)

## <a name="behind-the-scenes"></a>Как это делается

Этот прием состоит из двух результатов. Во-первых, holographic содержимое закрепляется на мира с помощью «пространственных привязки». Использование привязки для того, что содержимое «world заблокирован» означает, что вы просматриваете не переместятся визуально от физических объектов, рядом с ней, даже при перемещении или базовой системы пространственное сопоставление обновляет его трехмерной модели комнате.

Во-вторых это holographic содержимое ограничено визуально очень определенное пространство, видела только через отверстия в реальности. Что перекрытия нерационально требовать просматривая логических брешь в системе, окно или двери, которая занимается продажей фокус. Без чего-либо блокировки большую часть представления взломан в пространстве с измерением секретный древнейшие может просто выглядеть плохо помещено динозавров.

![Это не фактический снимок экрана, но иллюстрация того, как выглядит секретный underworld из 101 основы MR на HoloLens. Черный корпус не отображается, но вы увидите содержимое через виртуальный отверстия. (При просмотре на настоящем устройстве, округление вниз предположительно исчезают еще более, так как глаза сосредоточиться на дальнейшие расстоянии, как, если их там еще нет.)](images/origamiholecomposited-640px.png)

Это не фактический снимок экрана, а также показано, как секретный underworld из [101 основы MR](holograms-101.md) выглядит на HoloLens. Черный корпус не отображается, но вы увидите содержимое через виртуальный отверстия. (При просмотре на настоящем устройстве, округление вниз предположительно исчезают еще более, так как глаза сосредоточиться на дальнейшие расстоянии, как, если их там еще нет.)

### <a name="world-locking-holographic-content"></a>Блокировка World holographic содержимого

В Unity вызывая holographic содержимое, чтобы оставаться в мире заблокирован так же просто, как добавление WorldAnchor компонента:

```
myObject.AddComponent<WorldAnchor>();
```

Компонент WorldAnchor постоянно настроит положения и поворота элемента его GameObject (и таким образом все остальное в этот объект в иерархии) для поддержания стабильной относительно ближайших физические объекты. При создании содержимого, создайте его таким образом, что корневой вращения объекта центрируется в этот виртуальный брешь в системе. (Если pivot объекта глубоко в стену, его незначительные изменения в положения и поворота будут гораздо более наглядными и отверстия может выглядеть очень редко.)

### <a name="occluding-everything-but-the-virtual-hole"></a>Все, кроме виртуального отверстия occluding

Существует ряд способов для выборочного блокирования представлении, чтобы новые скрыт в стенах. Самый простой вариант использует преимущества тот факт, что HoloLens использует изображении аддитивны, это означает, что полностью черным объекты невидимым. Это можно сделать в Unity не выполняя все специальные шейдера или материала рекомендации — просто создайте черный материала и назначьте его на объект, в содержимое. Если вам не очень хочется выполнив 3D-моделирования, просто использовать небольшое число объектов квадрант по умолчанию и перекрывающиеся немного. Есть ряд недостатков этого подхода, но он является самым быстрым способом, то или иное действие работа начало низкой четкости проверки концепции работы отлично подходит, даже если вы подозреваете, что вы можете выполнить его рефакторинг.

Недостатком выше подхода «черного ящика» — что он не нельзя было сфотографировать хорошо. Хотя эффект может выглядеть идеальное через отображение HoloLens, все снимки экрана, которые можно предпринять покажет большого объекта черный вместо останется по часам или floor. Причиной этого является то, что физического оборудования и снимки экрана составного голограммы и реальность по-разному. Давайте использования на некоторое время, в некоторые фиктивные расчеты...

*Предупреждение фальшивые math! Эти номера и формул предназначены для демонстрации точки, не следует каких-либо точные метрики!*

Отображаемые через HoloLens:

```
( Reality * darkening_amount ) + Holograms
```

Как видно снимки экрана и видео:

```
( Reality * ( 1 - hologram_alpha ) ) + Holograms * hologram_alpha
```

На английском языке: Вы видите через HoloLens представляет собой простой сочетание затемненном реальности (например, через очков)) и любым голограммы приложение хочет отобразить. Но когда вы делаете снимок экрана, изображение камеры смешивается с голограммы приложения в соответствии с значением прозрачности каждого пикселя.

Один из способов обойти это является изменение материал «черного ящика», только запись в буфер глубины и сортировать все непрозрачный материалы. Пример этого см. [файл WindowOcclusion.shader в MixedRealityToolkit на GitHub](https://github.com/Microsoft/MixedRealityToolkit-Unity/blob/htk_release/Assets/HoloToolkit/Common/Shaders/WindowOcclusion.shader). Соответствующие строки копируются здесь:

```
"RenderType" = "Opaque"
"Queue" = "Geometry"
ColorMask 0
```

(Обратите внимание, «Offset 50, 100» строки – разобраться со несвязанных проблем, поэтому, возможно, смысл убрать,.)

Подобное реализации невидимым перекрытия материал позволит рисования поля, которое выглядит правильно, в отображении и смешанной реальности на снимках экрана приложения. Для получения премиальных баллов вы можете попытаться улучшить производительность этого ящика еще дальше, clever делаем для рисования еще меньшее количество пикселей невидимым, но, действительно можно получить в weeds и обычно не является необходимым.

![Вот секретный underworld из 101 основы MR Unity рисует его, за исключением внешней части occluding поле. Обратите внимание, что вращения для underworld в центре окна, что помогает поддерживать отверстия максимально относительно вашего фактическое floor стабильным.](images/underworld-occluded-640px.png)

Вот секретное underworld из [101 основы MR](holograms-101.md) как Unity рисует его, за исключением внешней части occluding поле. Обратите внимание, что вращения для underworld в центре окна, что помогает поддерживать отверстия максимально относительно вашего фактическое floor стабильным.

## <a name="do-it-yourself"></a>Сделать это самостоятельно

Есть HoloLens и хотите попробовать эффект самостоятельно? Проще всего, можно сделать (не требует дополнительного программирования) — установите бесплатное приложение средства просмотра 3D, а затем загрузить [the.fbx файл загрузки, я предоставил на сайте GitHub](https://github.com/Microsoft/HolographicAcademy/tree/CaseStudy-MagicWindow/MagicWindow) просматривать модель pot цветка в комнате. Загрузить ее на HoloLens, и вы увидите иллюзию на работе. Когда вы будете перед модели, будут отображаться только в небольших брешь в системе — все остальное остается невидимым. Посмотрите на модели из любой другой стороне, и он полностью исчезнет. Используйте перемещения, поворота и масштабирования элементов управления средства просмотра трехмерной для размещения виртуального брешь в системе с любой вертикальной поверхности, которые можно представить для создания некоторыми идеями!

![Просмотр этой модели в редакторе Unity покажет большой черный прямоугольник вокруг flowerpot. На HoloLens поле не отображается, возможности эффекта magic окно.](images/magicwindowflowerpotineditor.png)

Просмотр этой модели в редакторе Unity покажет большой черный прямоугольник вокруг flowerpot. На HoloLens поле не отображается, возможности эффекта magic окно.

Если вы хотите создать приложение, которое использует эту методику, см. статью [руководстве 101 основы MR](holograms-101.md) в [Academy реальности Mixed](academy.md). Глава 7 заканчивается развертывания в вашей floor, отображающую скрытые underworld (как показано на рисунке выше). Кто сказал, что должны были быть нудным руководства?

Ниже приведены некоторые идеи из где вы можете расширить эту идею далее:
* Решить, как сделать интерактивный содержимое внутри виртуальной брешь в системе. Пользователей может несколько снизить за их пределами может действительно повысить смысле бы поинтересоваться, которую может предоставить этот прием.
* Решить, как см. в разделе через объекты к известной области. Например как вы поместите holographic отверстия в таблице кофе и см. в разделе вашей floor под ним?

## <a name="about-the-author"></a>Об авторе

<table style="border-collapse:collapse">
<tr>
<td style="border-style: none" width="60px"><img alt="Picture of Eric Rehmeyer" width="60" height="60" src="images/genericusertile.jpg"></td>
<td style="border-style: none"><b>Эрик Rehmeyer</b><br>Старший инженер @Microsoft</td>
</tr>
</table>

## <a name="see-also"></a>См. также
* [Общие сведения об MR 101: Полный проект с устройством](holograms-101.md)
* [Системы координат](coordinate-systems.md)
* [Пространственные привязки](spatial-anchors.md)
* [Пространственное сопоставление](spatial-mapping.md)
