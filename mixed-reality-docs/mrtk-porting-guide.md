---
title: Подготовка приложения к HoloLens 2
description: Предназначена для разработчиков, обладающих существующее приложение для HoloLens (1-го поколения) и/или старой MRTK и хотите порт MRTK версии 2 и HoloLens 2.
author: grbury
ms.author: grbury
ms.date: 04/12/19
ms.topic: article
keywords: Windows Mixed Reality, протестировать, MRTK, MRTK версии 2, HoloLens 2
ms.openlocfilehash: 369470326d815ee711e96264939dd2e0487879b6
ms.sourcegitcommit: 90ce9415889e7121dd2fd76a893dc3734672881b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/29/2019
ms.locfileid: "64873914"
---
# <a name="getting-your-existing-app-ready-for-hololens-2"></a><span data-ttu-id="20bb0-104">Подготовка существующего приложения для HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="20bb0-104">Getting your existing app ready for HoloLens 2</span></span>

<span data-ttu-id="20bb0-105">В этом руководстве специально предназначенный для разработчиков, имеющих приложения Unity для HoloLens (1-го поколения) свои приложения для нового устройства HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="20bb0-105">This guide is specifically tailored to help developers who have an existing Unity app for HoloLens (1st gen) to port their application for the new HoloLens 2 device.</span></span> <span data-ttu-id="20bb0-106">Существуют четыре основные действия по переносу HoloLens (1-го поколения) приложения Unity для HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="20bb0-106">There are four key steps to porting a HoloLens (1st gen) Unity app to HoloLens 2.</span></span> <span data-ttu-id="20bb0-107">В следующих разделах подробно сведения для каждого этапа.</span><span class="sxs-lookup"><span data-stu-id="20bb0-107">The sections below will detail information for each stage.</span></span> 

| <span data-ttu-id="20bb0-108">Шаг 1</span><span class="sxs-lookup"><span data-stu-id="20bb0-108">Step 1</span></span> | <span data-ttu-id="20bb0-109">Шаг 2</span><span class="sxs-lookup"><span data-stu-id="20bb0-109">Step 2</span></span> | <span data-ttu-id="20bb0-110">Шаг 3</span><span class="sxs-lookup"><span data-stu-id="20bb0-110">Step 3</span></span> | <span data-ttu-id="20bb0-111">Шаг 4</span><span class="sxs-lookup"><span data-stu-id="20bb0-111">Step 4</span></span> |
|----------|-------------------|-------------------|-------------------|
| ![Логотип Visual Studio](images/visualstudio_logo.png) | ![Значок Unity](images/unity_logo.png)| ![Значок Unity](images/hololens2_icon.jpg) | ![Логотип MRTK](images/MRTKIcon.jpg) |
| <span data-ttu-id="20bb0-116">Скачайте новейшие средства</span><span class="sxs-lookup"><span data-stu-id="20bb0-116">Download latest tools</span></span> | <span data-ttu-id="20bb0-117">Обновление проекта Unity</span><span class="sxs-lookup"><span data-stu-id="20bb0-117">Update Unity Project</span></span> | <span data-ttu-id="20bb0-118">Компилировать для ARM</span><span class="sxs-lookup"><span data-stu-id="20bb0-118">Compile for ARM</span></span> | <span data-ttu-id="20bb0-119">Перенос в MRTK v2</span><span class="sxs-lookup"><span data-stu-id="20bb0-119">Migrate to MRTK v2</span></span>

<span data-ttu-id="20bb0-120">Это **настоятельно рекомендуется** , прежде чем начать процесс переноса, разработчики применяют систему управления версиями, чтобы сохранить моментальный снимок в исходное состояние своих приложений.</span><span class="sxs-lookup"><span data-stu-id="20bb0-120">It is **highly recommended** that, before beginning the porting process, developers utilize source control to save a snapshot of the original state of their app.</span></span> <span data-ttu-id="20bb0-121">Кроме того, мы рекомендуем *Сохранить* состояния контрольных точек в различных точках во время процесса.</span><span class="sxs-lookup"><span data-stu-id="20bb0-121">Additionally, it is recommended to *save* checkpoint states at various points during the process.</span></span> <span data-ttu-id="20bb0-122">Он также может быть очень полезно иметь другой экземпляр Unity исходного приложения, чтобы разрешить для сравнения side-by-side во время процесса порт.</span><span class="sxs-lookup"><span data-stu-id="20bb0-122">It can also be very helpful to have another Unity instance of the original app to allow for side-by-side comparison during the port process.</span></span> 

> [!NOTE]
> <span data-ttu-id="20bb0-123">Перед развертыванием, убедитесь, что установлены последние инструменты для разработки приложений Windows смешанной реальности.</span><span class="sxs-lookup"><span data-stu-id="20bb0-123">Before porting, ensure you have the latest tools installed for Windows Mixed Reality development.</span></span> <span data-ttu-id="20bb0-124">Для большинства разработчиков HoloLens это будет главным образом касаются обновление до последней Visual Studio 2017 и установки соответствующего пакета SDK Windows.</span><span class="sxs-lookup"><span data-stu-id="20bb0-124">For most existing HoloLens developers, this will primarily involve updating to the latest Visual Studio 2017 and installing the appropriate Windows SDK.</span></span> <span data-ttu-id="20bb0-125">Приведенное ниже содержимое углублюсь дальше в различных версий Unity и смешанной реальности набор средств версии 2.</span><span class="sxs-lookup"><span data-stu-id="20bb0-125">The content below will dive further into different Unity versions and the Mixed Reality Toolkit version 2.</span></span>
>
> <span data-ttu-id="20bb0-126">Дополнительные сведения см. в разделе [установить средства](install-the-tools.md).</span><span class="sxs-lookup"><span data-stu-id="20bb0-126">For more information, please see [Install the tools](install-the-tools.md).</span></span>

## <a name="migrate-project-to-latest-version-of-unity"></a><span data-ttu-id="20bb0-127">Перенос проекта до последней версии Unity</span><span class="sxs-lookup"><span data-stu-id="20bb0-127">Migrate project to latest version of Unity</span></span>

<span data-ttu-id="20bb0-128">При использовании MRTK v2, Unity 2018 LTS будет наилучшим долгосрочным пути к файлам поддержки без критических изменений в Unity или MRTK.</span><span class="sxs-lookup"><span data-stu-id="20bb0-128">If using the MRTK v2, then Unity 2018 LTS will be the best long-term support path with no breaking changes in Unity or in MRTK.</span></span>  <span data-ttu-id="20bb0-129">Рекомендуемые сборки Unity, за выше «установить средства» — 2018.3 Unity, которое станет выпуск LTS для Unity 2018 г.</span><span class="sxs-lookup"><span data-stu-id="20bb0-129">The recommended Unity build, per the above "install the tools" is Unity 2018.3, which will become the LTS release for Unity 2018.</span></span>  <span data-ttu-id="20bb0-130">Кроме того, будет всегда гарантирует поддержку для Unity 2018 LTS MRTK v2, но не всегда гарантирует поддержку для каждой итерации Unity 2019.x.</span><span class="sxs-lookup"><span data-stu-id="20bb0-130">Further, the MRTK v2 will always guarantee support for Unity 2018 LTS but not necessarily guarantee support for every iteration of Unity 2019.x.</span></span> 

<span data-ttu-id="20bb0-131">Для уточнения дополнительных различий между Unity 2018.3.x или Unity 2019.1.x ниже описываются компромиссы между этими двумя версиями с основное различие в возможности компиляции для ARM64 в Unity 2019 значимости.</span><span class="sxs-lookup"><span data-stu-id="20bb0-131">To help clarify additional differences between Unity 2018.3.x or Unity 2019.1.x, below outlines the trade-offs between these two versions, with the primary difference of significance being the ability to compile for ARM64 in Unity 2019.</span></span> 

<span data-ttu-id="20bb0-132">Разработчикам следует оценить любой [зависимости подключаемого модуля](https://docs.unity3d.com/Manual/Plugins.html) , в настоящее время существует в проекте и ли эти библиотеки DLL могут быть нацелены на ARM64.</span><span class="sxs-lookup"><span data-stu-id="20bb0-132">Developers should assess any [plugin dependencies](https://docs.unity3d.com/Manual/Plugins.html) that currently exist in their project and whether or not these DLLs can be built for ARM64.</span></span> <span data-ttu-id="20bb0-133">Если подключаемый модуль жесткую зависимость не может быть построен для ARM64, один будет использовать Unity 2018 LTS.</span><span class="sxs-lookup"><span data-stu-id="20bb0-133">If a hard dependency plugin cannot be built for ARM64, then one will have to utilize Unity 2018 LTS.</span></span>


| <span data-ttu-id="20bb0-134">Unity 2018.3.x</span><span class="sxs-lookup"><span data-stu-id="20bb0-134">Unity 2018.3.x</span></span> | <span data-ttu-id="20bb0-135">Unity 2019.1 +</span><span class="sxs-lookup"><span data-stu-id="20bb0-135">Unity 2019.1+</span></span> |
|----------|-------------------|
| <span data-ttu-id="20bb0-136">Поддержка сборки ARM32</span><span class="sxs-lookup"><span data-stu-id="20bb0-136">ARM32 build support</span></span> | <span data-ttu-id="20bb0-137">Поддержка build ARM32 и ARM64</span><span class="sxs-lookup"><span data-stu-id="20bb0-137">ARM32 and ARM64 build support</span></span> |
| <span data-ttu-id="20bb0-138">Стабильные LTS построения выпуска</span><span class="sxs-lookup"><span data-stu-id="20bb0-138">Stable LTS build release</span></span> | <span data-ttu-id="20bb0-139">Стабильность бета-версии</span><span class="sxs-lookup"><span data-stu-id="20bb0-139">Beta stability</span></span> |
| <span data-ttu-id="20bb0-140">[Сценарии .NET серверной части](https://docs.unity3d.com/Manual/windowsstore-dotnet.html) *устарело*</span><span class="sxs-lookup"><span data-stu-id="20bb0-140">[.NET Scripting back-end](https://docs.unity3d.com/Manual/windowsstore-dotnet.html) *deprecated*</span></span> | <span data-ttu-id="20bb0-141">[Сценарии .NET серверной части](https://docs.unity3d.com/Manual/windowsstore-dotnet.html) *удалены*</span><span class="sxs-lookup"><span data-stu-id="20bb0-141">[.NET Scripting back-end](https://docs.unity3d.com/Manual/windowsstore-dotnet.html) *removed*</span></span> |
| <span data-ttu-id="20bb0-142">Сетевые подключения UNET *устарело*</span><span class="sxs-lookup"><span data-stu-id="20bb0-142">UNET Networking *deprecated*</span></span> | <span data-ttu-id="20bb0-143">Сетевые подключения UNET *удалены*</span><span class="sxs-lookup"><span data-stu-id="20bb0-143">UNET Networking *removed*</span></span> |

## <a name="update-sceneproject-settings-in-unity"></a><span data-ttu-id="20bb0-144">Обновление параметров сцены и проектов в Unity</span><span class="sxs-lookup"><span data-stu-id="20bb0-144">Update scene/project settings in Unity</span></span>

<span data-ttu-id="20bb0-145">После обновления до Unity 2018.3.x или Unity 2019 +, рекомендуется обновить определенных параметров в Unity для получения оптимальных результатов на устройстве.</span><span class="sxs-lookup"><span data-stu-id="20bb0-145">After updating to Unity 2018.3.x or Unity 2019+, it is recommended to update particular settings in Unity for optimal results on device.</span></span> <span data-ttu-id="20bb0-146">Эти параметры описаны подробно в разделе  **[рекомендуемые параметры для Unity](Recommended-settings-for-Unity.md)**.</span><span class="sxs-lookup"><span data-stu-id="20bb0-146">These settings are outlined in detail under **[Recommended settings for Unity](Recommended-settings-for-Unity.md)**.</span></span>

<span data-ttu-id="20bb0-147">Он должен быть повторно итерации, [.NET сценариев серверной части](https://docs.unity3d.com/Manual/windowsstore-dotnet.html) устарел в Unity 2018 и *удалены* в Unity 2019 г. и таким образом, разработчики должны серьезно рассматриваться переключение проекта [ IL2CPP](https://docs.unity3d.com/Manual/IL2CPP.html).</span><span class="sxs-lookup"><span data-stu-id="20bb0-147">It should be re-iterated that the [.NET Scripting back-end](https://docs.unity3d.com/Manual/windowsstore-dotnet.html) is being deprecated in Unity 2018 and *removed* in Unity 2019 and thus, developers should strongly consider switching their project over to [IL2CPP](https://docs.unity3d.com/Manual/IL2CPP.html).</span></span> 

> [!NOTE]
> <span data-ttu-id="20bb0-148">IL2CPP сценариев серверной части может привести к увеличению времени сборки из Unity в Visual Studio и таким образом разработчики должны настроить их компьютере разработчика для [Оптимизация времени сборки IL2CPP](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html).</span><span class="sxs-lookup"><span data-stu-id="20bb0-148">IL2CPP scripting back-end can cause longer build times from Unity to Visual Studio and thus developers should setup their developer machine for [optimizing IL2CPP build times](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html).</span></span>

<span data-ttu-id="20bb0-149">После устранения критических изменений после перехода на обновленную версию Unity, разработчикам следует создать и протестировать текущие приложения на HoloLens (1-го поколения).</span><span class="sxs-lookup"><span data-stu-id="20bb0-149">After addressing any breaking changes after moving to the updated Unity version, developers should build and test their current apps on HoloLens (1st gen).</span></span> <span data-ttu-id="20bb0-150">Кроме того это хорошо подходит для создания и сохранения фиксации для системы управления версиями.</span><span class="sxs-lookup"><span data-stu-id="20bb0-150">Further, this is a good point to create and save a commit for source control.</span></span> 

## <a name="compile-dependenciesplugins-for-arm-processor"></a><span data-ttu-id="20bb0-151">Скомпилируйте зависимости и подключаемые модули для процессоров ARM</span><span class="sxs-lookup"><span data-stu-id="20bb0-151">Compile dependencies/plugins for ARM processor</span></span>

<span data-ttu-id="20bb0-152">HoloLens (1-го поколения) выполнения приложений на x86 процессор, новое устройство HoloLens 2 использует процессор ARM.</span><span class="sxs-lookup"><span data-stu-id="20bb0-152">HoloLens (1st gen) executed applications on an x86 processor while the new HoloLens 2 device utilizes an ARM processor.</span></span> <span data-ttu-id="20bb0-153">Таким образом существующие приложения должны переноситься по для поддержки ARM.</span><span class="sxs-lookup"><span data-stu-id="20bb0-153">Thus, existing applications need to be ported over to support ARM.</span></span> <span data-ttu-id="20bb0-154">Как отмечалось ранее, Unity 2018 поддерживает компиляцию для приложения ARM32, хотя Unity 2019 + поддерживает компиляцию для приложения ARM64.</span><span class="sxs-lookup"><span data-stu-id="20bb0-154">As noted earlier, Unity 2018 supports compiling for ARM32 apps while Unity 2019+ supports compiling for ARM64 apps.</span></span> <span data-ttu-id="20bb0-155">Разработка для ARM64 приложений рекомендуется как материала разницы в производительности.</span><span class="sxs-lookup"><span data-stu-id="20bb0-155">Developing for ARM64 applications is generally preferred as there is a material difference in performance.</span></span> <span data-ttu-id="20bb0-156">Тем не менее, это необходимо, чтобы все [зависимости подключаемого модуля](https://docs.unity3d.com/Manual/Plugins.html) также построения для ARM64.</span><span class="sxs-lookup"><span data-stu-id="20bb0-156">However, this requires all [plugin dependencies](https://docs.unity3d.com/Manual/Plugins.html) to also be built for ARM64.</span></span> 

<span data-ttu-id="20bb0-157">Просмотрите все зависимости библиотеки DLL в приложении в настоящее время.</span><span class="sxs-lookup"><span data-stu-id="20bb0-157">Review all DLL dependencies in your application currently.</span></span> <span data-ttu-id="20bb0-158">Если зависимость больше не используется, рекомендуется удалить его из проекта.</span><span class="sxs-lookup"><span data-stu-id="20bb0-158">If a dependency is no longer needed, it is advisable to remove it from your project.</span></span> <span data-ttu-id="20bb0-159">Остальные подключаемые модули, которые необходимы прием соответствующих ARM32 и ARM64 двоичные файлы в проект Unity.</span><span class="sxs-lookup"><span data-stu-id="20bb0-159">For remaining plugins that are required, ingest the respective ARM32 or ARM64 binaries into your Unity project.</span></span> 

<span data-ttu-id="20bb0-160">После приема соответствующей библиотеки DLL, создание решения Visual Studio из Unity и последующей компиляции AppX для ARM в Visual Studio, чтобы проверить, что приложения могут создаваться для процессоров ARM.</span><span class="sxs-lookup"><span data-stu-id="20bb0-160">After ingesting the relevant DLLs, build a Visual Studio solution from Unity and then compile an AppX for ARM in Visual Studio to test that your application can be built for ARM processors.</span></span> <span data-ttu-id="20bb0-161">Это другой точки, где рекомендуется сохранить фиксации в системы управления версиями.</span><span class="sxs-lookup"><span data-stu-id="20bb0-161">This another point where it is advised to save a commit in your source control solution.</span></span> 

## <a name="update-to-mrtk-version-2"></a><span data-ttu-id="20bb0-162">Обновление до MRTK версии 2</span><span class="sxs-lookup"><span data-stu-id="20bb0-162">Update to MRTK version 2</span></span>

<span data-ttu-id="20bb0-163">MRTK версии 2 — новый набор средств на основе Unity, поддержке обеих HoloLens (1-го поколения) и HoloLens 2 и где все новые возможности HoloLens 2 были добавлены, такие как передать взаимодействия и глаз отслеживания.</span><span class="sxs-lookup"><span data-stu-id="20bb0-163">MRTK version 2 is the new toolkit on top of Unity supporting both HoloLens (1st gen) and HoloLens 2, and where all of the new HoloLens 2 capabilities have been added, such as hand interactions and eye tracking.</span></span>

### <a name="prepare-for-the-migration"></a><span data-ttu-id="20bb0-164">Подготовка к миграции</span><span class="sxs-lookup"><span data-stu-id="20bb0-164">Prepare for the migration</span></span>

<span data-ttu-id="20bb0-165">Перед приема нового [\*.unitypackage файлы для версии 2 MRTK](https://github.com/Microsoft/MixedRealityToolkit-Unity/releases), рекомендуется проводить инвентаризацию, **1) любой пользовательский код, который интегрируется с MRTK v1** и **2) любого пользовательского кода для ввода взаимодействия компонентов или компонентов UX**.</span><span class="sxs-lookup"><span data-stu-id="20bb0-165">Before ingesting the new [\*.unitypackage files for MRTK v2](https://github.com/Microsoft/MixedRealityToolkit-Unity/releases), it is recommended to take an inventory of **1) any custom-built code that integrates with MRTK v1** and **2) any custom-built code for input interactions or UX components**.</span></span> <span data-ttu-id="20bb0-166">Наиболее распространенные и преобладающими конфликт для приема новых v2 MRTK разработчик смешанной реальности потребует ввода и взаимодействия.</span><span class="sxs-lookup"><span data-stu-id="20bb0-166">The most common and prevalent conflict for a Mixed Reality developer ingesting the new MRTK v2 will involve input and interactions.</span></span> <span data-ttu-id="20bb0-167">Таким образом, рекомендуется начать чтение и понимание [модель ввода v2 MRTK](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Input/Overview.html).</span><span class="sxs-lookup"><span data-stu-id="20bb0-167">Thus, it is advised to begin reading and understanding the [MRTK v2 input model](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Input/Overview.html).</span></span>

<span data-ttu-id="20bb0-168">И, наконец новые версии 2 MRTK перешло из модели сценариев и объекты в сцене диспетчера конфигурации и архитектура поставщика служб.</span><span class="sxs-lookup"><span data-stu-id="20bb0-168">Finally, the new MRTK v2 has transitioned from a model of scripts and in-scene manager objects to a configuration and services provider architecture.</span></span> <span data-ttu-id="20bb0-169">Это приводит к иерархии и архитектура модели сцены чище, но требует постепенного обучения для понимания того, новые профили конфигурации.</span><span class="sxs-lookup"><span data-stu-id="20bb0-169">This results in a cleaner scene hierarchy and architecture model but requires a learning curve for understanding the new configuration profiles.</span></span> <span data-ttu-id="20bb0-170">Таким образом, см. в статье [руководство по настройке для смешанной реальности Toolkit](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/MixedRealityConfigurationGuide.html) приступить к ознакомлению с важные параметры и профили должны адаптировать для потребностей вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="20bb0-170">Thus, please read the [Mixed Reality Toolkit Configuration Guide](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/MixedRealityConfigurationGuide.html) to start becoming familiar with the important settings and profiles to adjust to the needs of your application.</span></span> 

### <a name="perform-the-migration"></a><span data-ttu-id="20bb0-171">Выполнение миграции</span><span class="sxs-lookup"><span data-stu-id="20bb0-171">Perform the migration</span></span>

<span data-ttu-id="20bb0-172">После импорта MRTK v2, проект Unity скорее всего будет многие ошибки, связанные с компилятором.</span><span class="sxs-lookup"><span data-stu-id="20bb0-172">After importing MRTK v2, your Unity project will likely have many compiler related errors.</span></span> <span data-ttu-id="20bb0-173">Чаще всего это вызвано новую структуру пространства имен и имена новых компонентов.</span><span class="sxs-lookup"><span data-stu-id="20bb0-173">These are most commonly due to the new namespace structure and new component names.</span></span> <span data-ttu-id="20bb0-174">Перейдите к устранить эти ошибки, изменив сценарий так, чтобы новые пространства имен и компоненты.</span><span class="sxs-lookup"><span data-stu-id="20bb0-174">Proceed to resolve these errors by modifying your scripts to the new namespaces and components.</span></span> 

<span data-ttu-id="20bb0-175">Дополнительные сведения о различиях API между HTK/MRTK и MRTK версии 2 см. руководство по переносу на [MRTK версии 2 вики-сайте](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/HTKToMRTKPortingGuide.html).</span><span class="sxs-lookup"><span data-stu-id="20bb0-175">For more information on specific API differences between HTK/MRTK and MRTK version 2, see the porting guide on the [MRTK Version 2 wiki](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/HTKToMRTKPortingGuide.html).</span></span>

### <a name="best-practices"></a><span data-ttu-id="20bb0-176">Рекомендации</span><span class="sxs-lookup"><span data-stu-id="20bb0-176">Best practices</span></span>

- <span data-ttu-id="20bb0-177">Предпочитать использовать стандартный MRTK шейдера</span><span class="sxs-lookup"><span data-stu-id="20bb0-177">Prefer use of the MRTK Standard shader</span></span>
- <span data-ttu-id="20bb0-178">Работа над одно критическое изменение типа за раз (например: IFocusable для IMixedRealityFocusHandler)</span><span class="sxs-lookup"><span data-stu-id="20bb0-178">Work on one breaking change type at a time (ex: IFocusable to IMixedRealityFocusHandler)</span></span>
- <span data-ttu-id="20bb0-179">Проверить после каждого изменения и использовать систему управления версиями</span><span class="sxs-lookup"><span data-stu-id="20bb0-179">Test after every change and utilize source control</span></span>
- <span data-ttu-id="20bb0-180">По умолчанию UX MRTK (кнопок, портативные ПК, и т.д.) Если это возможно</span><span class="sxs-lookup"><span data-stu-id="20bb0-180">Use default MRTK UX (buttons, slates, etc) when possible</span></span>
- <span data-ttu-id="20bb0-181">Попытаться воздержаться от изменения файлов MRTK напрямую, вместо создания программы-оболочки вокруг MRTK компонентов</span><span class="sxs-lookup"><span data-stu-id="20bb0-181">Try to refrain from modifying MRTK files directly, instead create wrappers around MRTK components</span></span>
    - <span data-ttu-id="20bb0-182">Это защитит от будущих ingestions MRTK и обновления</span><span class="sxs-lookup"><span data-stu-id="20bb0-182">This will protect against future MRTK ingestions and updates</span></span>
- <span data-ttu-id="20bb0-183">Просмотрите и изучите пример сцен в MRTK (особенно *HandInteractionExamples.scene*)</span><span class="sxs-lookup"><span data-stu-id="20bb0-183">Review & explore sample scenes provided in MRTK (especially *HandInteractionExamples.scene*)</span></span>
- <span data-ttu-id="20bb0-184">Вместо этого перестроить пользовательского интерфейса на основе холста с четырехугольники, colliders и TextMeshPro текста</span><span class="sxs-lookup"><span data-stu-id="20bb0-184">Rebuild canvas-based UI with quads, colliders and TextMeshPro text instead</span></span>

### <a name="testing-your-application"></a><span data-ttu-id="20bb0-185">Тестирование приложения</span><span class="sxs-lookup"><span data-stu-id="20bb0-185">Testing your application</span></span>

<span data-ttu-id="20bb0-186">Теперь, когда HoloLens 2 компоненты и возможности доступны в MRTK версии 2, начиная с версии [RC1](https://github.com/Microsoft/MixedRealityToolkit-Unity/releases/tag/v2.0.0-RC1), можно имитировать взаимодействия вручную непосредственно в Unity и разработка с использованием новых интерфейсов API для взаимодействия вручную и отслеживания.</span><span class="sxs-lookup"><span data-stu-id="20bb0-186">Now that HoloLens 2 components and capabilities are available in MRTK version 2, as of [RC1](https://github.com/Microsoft/MixedRealityToolkit-Unity/releases/tag/v2.0.0-RC1), you can simulate the hand interactions directly in Unity, and develop against the new APIs for hand interactions and eye tracking.</span></span>  <span data-ttu-id="20bb0-187">Устройство HoloLens 2 необходима для создания удобной, но по крайней мере начать обучение в средства и документацию.</span><span class="sxs-lookup"><span data-stu-id="20bb0-187">The HoloLens 2 device is required to create a great experience, but at least one could start learning in the tools and documentation.</span></span> <span data-ttu-id="20bb0-188">Кроме того, MRTK версии 2 поддерживает разработку в HoloLens (1-го поколения) и таким образом, моделирует традиционных входные данные, такие как select через жест касания можно по-прежнему тестировать на HoloLens (1-го поколения) устройств.</span><span class="sxs-lookup"><span data-stu-id="20bb0-188">Further, MRTK v2 supports development on HoloLens (1st gen) and thus, traditional input models such as select via air-tap can still be tested on HoloLens (1st gen) devices.</span></span> 

## <a name="updating-interaction-model-for-hololens-2"></a><span data-ttu-id="20bb0-189">Обновление модели взаимодействия для HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="20bb0-189">Updating interaction model for HoloLens 2</span></span>

<span data-ttu-id="20bb0-190">Когда приложение перенесена и Подготовив HoloLens 2, вы готовы подумайте над переработкой таких взаимодействия модели и голограмма макеты/размещения.</span><span class="sxs-lookup"><span data-stu-id="20bb0-190">Once you have your app ported and prepped for HoloLens 2, you are ready to consider updating your interaction model and hologram designs/placement.</span></span>
<span data-ttu-id="20bb0-191">Поступающие от HoloLens (1-го поколения), приложение, скорее всего имеет модель взаимодействия взглядом и фиксации с голограммы относительно далеко, чтобы поместиться в поле зрения.</span><span class="sxs-lookup"><span data-stu-id="20bb0-191">Coming from HoloLens (1st gen), your app likely has a gaze and commit interaction model, with holograms relatively far away to fit into the field of view.</span></span>

<span data-ttu-id="20bb0-192">Действия, чтобы обновить проект приложения, чтобы наилучшим образом подходит для HoloLens 2:</span><span class="sxs-lookup"><span data-stu-id="20bb0-192">Steps to update your app design to be best for HoloLens 2:</span></span>
1.  <span data-ttu-id="20bb0-193">MRTK компоненты: В предварительной работы Если вы добавили MRTK v2, существуют различные компоненты/сценарии для использования, которые спроектирован и оптимизирован для HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="20bb0-193">MRTK components: Per the pre-work, if you added MRTK v2, there are various components/scripts to leverage that have been designed and optimized for HoloLens 2.</span></span>

2.  <span data-ttu-id="20bb0-194">Модель взаимодействия: Рекомендуется обновлять модель взаимодействия.</span><span class="sxs-lookup"><span data-stu-id="20bb0-194">Interaction model: Consider updating your interaction model.</span></span>  <span data-ttu-id="20bb0-195">В большинстве случаев рекомендуется переключение с взглядом и фиксации в руки.</span><span class="sxs-lookup"><span data-stu-id="20bb0-195">For most scenarios, we recommend switching from gaze and commit to hands.</span></span>  <span data-ttu-id="20bb0-196">С вашей голограммы, обычно оказываются за руки достичь переключение на руках будет привести указывающего лучи дальней взаимодействия и взять жестов.</span><span class="sxs-lookup"><span data-stu-id="20bb0-196">With your holograms typically being out of arms reach, switching to hands will result in far interaction pointing rays and grab gestures.</span></span>
<span data-ttu-id="20bb0-197">Примечание: существуют сценарии, где необходим модель взаимодействия без участия пользователя, например задачи рабочей роли, удерживающей средств и рекомендаций по разработке в таких случаях.</span><span class="sxs-lookup"><span data-stu-id="20bb0-197">Note: there are scenarios where a hands-free interaction model is required, such as a task worker holding tools, and there is specific design guidance for such cases.</span></span> 

3.  <span data-ttu-id="20bb0-198">Голограмма размещение: После переключения на модель взаимодействия руки, перенесите некоторые голограммы ближе для непосредственного взаимодействия с голограммы с рук с помощью практически жесты захвата взаимодействия.</span><span class="sxs-lookup"><span data-stu-id="20bb0-198">Hologram placement: After switching to a hands interaction model, consider moving some holograms closer to directly interact with the holograms with your hands, using near interaction grab gestures.</span></span>  <span data-ttu-id="20bb0-199">Типы голограммы рекомендуется приблизиться к непосредственно взять или взаимодействия являются маленьких целевых меню, элементы управления, кнопок и меньшего размера голограммы, которые помещаются в HoloLens 2 поле зрения после получения, а также проверять голограмма.</span><span class="sxs-lookup"><span data-stu-id="20bb0-199">The types of holograms recommended to move closer to directly grab or interact are small target menus, controls, buttons, and smaller holograms that fit within the HoloLens 2 field of view when grabbing and inspecting the hologram.</span></span>
<br>
<span data-ttu-id="20bb0-200">Все приложения и сценарии отличается, и мы будем продолжать уточнить и размещение конструктора рекомендации на основе отзывов и продолжение выводов, сделанных.</span><span class="sxs-lookup"><span data-stu-id="20bb0-200">Every app and scenario is different, and we’ll continue to refine and post design guidance based on feedback and continued learnings.</span></span>


## <a name="additional-learnings-from-moving-apps-from-x86-to-arm"></a><span data-ttu-id="20bb0-201">Дополнительные знания из перенос приложений из x86 ARM</span><span class="sxs-lookup"><span data-stu-id="20bb0-201">Additional learnings from moving apps from x86 to ARM</span></span>

- <span data-ttu-id="20bb0-202">Прямые приложений Unity просты, как можно создать комплект appx ARM или развернуть на устройстве, и он выполняется.</span><span class="sxs-lookup"><span data-stu-id="20bb0-202">Straight Unity apps are simple as you can build an ARM appx bundle or deploy directly to the device and it runs.</span></span>
<span data-ttu-id="20bb0-203">Проблема возникает, когда приложение Unity использует собственные подключаемые модули.</span><span class="sxs-lookup"><span data-stu-id="20bb0-203">The challenge comes when the Unity app uses native plugins.</span></span>  <span data-ttu-id="20bb0-204">Все собственные подключаемые модули должны быть обновлены до Visual Studio 2017 и перестраивается для ARM, а также с помощью Unity 2019 г., ARM64.</span><span class="sxs-lookup"><span data-stu-id="20bb0-204">All of the native plugins need to be upgraded to VS2017 and rebuilt for ARM, and with Unity 2019, ARM64.</span></span>

- <span data-ttu-id="20bb0-205">Одно приложение, используется подключаемый модуль AudioKinetic Wwise для Unity, а версия, используемая не подключаемый модуль ARM универсальной платформы Windows.</span><span class="sxs-lookup"><span data-stu-id="20bb0-205">One app, used the AudioKinetic Wwise plugin for Unity, and the version used didn’t have a UWP ARM plugin.</span></span> <span data-ttu-id="20bb0-206">Занимает несколько дней переделать звука в приложении для работы на ARM.</span><span class="sxs-lookup"><span data-stu-id="20bb0-206">It took several days to re-work the sound in the application to work on ARM.</span></span>

- <span data-ttu-id="20bb0-207">В других случаях UWP/ARM подключаемый модуль не существует для приложения требуется подключаемых модулей, снижающие способности порт, и запустить на HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="20bb0-207">In other cases, a UWP/ARM plugin may not exist for app-required plugins, blocking the ability to port and run on HoloLens 2.</span></span>  <span data-ttu-id="20bb0-208">Службы взаимодействия с поставщиком подключаемый модуль будет требоваться для разблокирования и поддержка ARM.</span><span class="sxs-lookup"><span data-stu-id="20bb0-208">Engagement with the plugin provider may be needed to unblock and support ARM.</span></span>

- <span data-ttu-id="20bb0-209">Minfloat (и варианты, такие как min16float, minint, т. д.) в шейдеров может отличаться на 2 HoloLen, чем на HoloLens (1-го поколения).</span><span class="sxs-lookup"><span data-stu-id="20bb0-209">The minfloat (and variants such as min16float, minint, etc…) in shaders may behave differently on HoloLen 2 than on HoloLens (1st gen).</span></span> <span data-ttu-id="20bb0-210">В частности, это гарантирует, что «по крайней мере указанное количество битов, которое будет использоваться».</span><span class="sxs-lookup"><span data-stu-id="20bb0-210">Specifically, these guarantee that “at least the specified number of bits will be used”.</span></span> <span data-ttu-id="20bb0-211">На Intel/Nvidia GPU они во многом так же считаются 32 бита.</span><span class="sxs-lookup"><span data-stu-id="20bb0-211">On Intel/Nvidia GPUs, these are largely just treated as 32 bits.</span></span> <span data-ttu-id="20bb0-212">Количество битов, указанное на ARM, фактически учитывается.</span><span class="sxs-lookup"><span data-stu-id="20bb0-212">On ARM, the number of bits specified is actually respected.</span></span> <span data-ttu-id="20bb0-213">Это означает, что на практике эти числа могут иметь меньше точности или range для HoloLens 2 чем раньше — в HoloLens (1-го поколения).</span><span class="sxs-lookup"><span data-stu-id="20bb0-213">That means that in practice, these numbers may have less precision/range on HoloLens 2 than they did on HoloLens (1st gen).</span></span>

- <span data-ttu-id="20bb0-214">Инструкции _asm не отображаются для работы на ARM, это означает, что любой код, следуя инструкциям _asm придется переписать.</span><span class="sxs-lookup"><span data-stu-id="20bb0-214">The _asm instructions don’t appear to work on ARM, meaning any code using _asm instructions will have to be rewritten.</span></span>

- <span data-ttu-id="20bb0-215">Набор инструкций SIMD не поддерживается в ARM.</span><span class="sxs-lookup"><span data-stu-id="20bb0-215">The SIMD instruction set is not supported on ARM.</span></span> <span data-ttu-id="20bb0-216">Это означает различные заголовки, такие как файле xmmintrin.h, заголовочном файле emmintrin.h, tmmintrin.h и immintrin.h доступны не на ARM.</span><span class="sxs-lookup"><span data-stu-id="20bb0-216">This means various headers, such as xmmintrin.h, emmintrin.h, tmmintrin.h, and immintrin.h are not available on ARM.</span></span>

- <span data-ttu-id="20bb0-217">Изменился компилятора шейдера на ARM выполняется во время первого вызова draw после шейдера было загружено или что-то шейдера зависит, не во время загрузки шейдера.</span><span class="sxs-lookup"><span data-stu-id="20bb0-217">The shader compiler on ARM runs during the first draw call after the shader has been loaded or something the shader relies on has changed, not at shader load time.</span></span> <span data-ttu-id="20bb0-218">Влияние на частоте кадров может быть очень заметно, в зависимости от того, как многие шейдеры необходимо скомпилировать.</span><span class="sxs-lookup"><span data-stu-id="20bb0-218">The impact on framerate can be very noticeable, depending on how many shaders need to be compiled.</span></span> <span data-ttu-id="20bb0-219">Это влияет на различные как шейдеры должно быть обработано или упакованы/обновления по-разному на виртуальном сервере HoloLens 2 HoloLens (1-го поколения).</span><span class="sxs-lookup"><span data-stu-id="20bb0-219">This has various implications for how shaders should be handled/packaged/updated differently on HoloLens 2 vs HoloLens (1st gen).</span></span>

## <a name="see-also"></a><span data-ttu-id="20bb0-220">См. также</span><span class="sxs-lookup"><span data-stu-id="20bb0-220">See also</span></span>
* [<span data-ttu-id="20bb0-221">Приступая к работе с MRTK версии 2</span><span class="sxs-lookup"><span data-stu-id="20bb0-221">Getting started with MRTK version 2</span></span>](mrtk-getting-started.md)
* [<span data-ttu-id="20bb0-222">Практическое руководство MRTK версии 2</span><span class="sxs-lookup"><span data-stu-id="20bb0-222">MRTK Version 2 HowTo</span></span>](https://microsoft.github.io/MixedRealityToolkit-Unity/External/HowTo/README.html)
* [<span data-ttu-id="20bb0-223">Установка средств</span><span class="sxs-lookup"><span data-stu-id="20bb0-223">Install the tools</span></span>](install-the-tools.md)
* [<span data-ttu-id="20bb0-224">Рекомендуемые параметры для Unity</span><span class="sxs-lookup"><span data-stu-id="20bb0-224">Recommended settings for Unity</span></span>](recommended-settings-for-unity.md)
* [<span data-ttu-id="20bb0-225">Основные сведения о производительности для смешанной реальности</span><span class="sxs-lookup"><span data-stu-id="20bb0-225">Understanding performance for Mixed Reality</span></span>](understanding-performance-for-mixed-reality.md)

