---
title: Использование Вуфориа с Unity
description: Используйте Вуфориа для создания приложений Windows Mixed Reality в Unity.
author: thetuvix
ms.author: alexturn
ms.date: 01/28/2019
ms.topic: article
keywords: Вуфориа, маркеры, координаты, кадр ссылки, отслеживание
ms.openlocfilehash: bae5d0eb04ab9434dd3e72674686743779a8f70c
ms.sourcegitcommit: 9005b3fdfa87ac8fdc18a594a681e25c00ac5ce1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/11/2019
ms.locfileid: "75003193"
---
# <a name="using-vuforia-engine-with-unity"></a>Использование подсистемы Вуфориа с Unity

Вуфориа Engine предоставляет важную возможность для HoloLens — мощность для подключения AR к конкретным изображениям и объектам в среде. Эту возможность можно использовать для перекрытия пошаговых инструкций по работе с машинным предприятием для промышленного предприятия или для добавления цифровых функций и возможностей к физическому продукту или игре.

Для большей гибкости при разработке AR Вуфориа Engine предлагает широкий спектр функций и целей. Одной из наших новейших функций, Вуфориа моделей, является ключевая возможность для коммерческих и промышленных целей. Цели модели позволяют приложениям распознать физические объекты, такие как компьютеры, средства для автомобильной связи или Toys, и контролировать их на основе САПР или цифровой трехмерной модели. Для промышленных целей эта функция может предоставить работникам и специалистам по сборке рабочие процессы AR и процедурные рекомендации на фабрике или в поле.

Существующие приложения Вуфориа Engine, созданные для телефонов и планшетов, можно легко настроить в Unity для запуска в HoloLens. Вы даже можете использовать Вуфориа Engine, чтобы перевести новое приложение HoloLens на планшеты Windows 10, такие как Surface Pro и Surface Book.


## <a name="get-the-tools"></a>Получить инструменты

[Установите Рекомендуемые версии](install-the-tools.md) Visual Studio и Unity, а затем настройте Unity для использования Visual Studio и предпочтительной интегрированной среды разработки и компилятора. 

При установке Unity обязательно установите "Серверная часть скриптов IL2CPP для Магазина Windows".

Добавление поддержки Вуфориа Engine работает по-разному в зависимости от используемой версии Unity:
*   Unity 2018,4: Скачайте установщик Вуфориа Engine для Unity 2018,4 на портале разработчика Вуфориа.
*   Unity 2019,2: Получение последнего [пакета Вуфориа Engine](https://library.vuforia.com/content/vuforia-library/en/articles/Solution/vuforia-engine-package-hosting-for-unity.html) 

## <a name="getting-started-with-vuforia-engine"></a>Приступая к работе с Вуфориа Engine

Лучшая отправной точкой для изучения использования Вуфориа Engine с HoloLens является [Пример Вуфориа Engine HoloLens](https://assetstore.unity.com/packages/templates/packs/vuforia-hololens-sample-101553) (доступен в магазине активов Unity). Пример содержит полный проект HoloLens, включая предварительно настроенный монтажный кадр, который можно развернуть на HoloLens.

В этом монтажном кадре показано, как использовать целевые объекты изображений Вуфориа для распознавания изображения и расширения его с помощью цифрового содержимого в интерфейсе HoloLens. Образец Вуфориа Engine Hololens также включает сцены, иллюстрирующие использование целевых объектов модели и Вумаркс на HoloLens. Вы можете легко подставить свое содержимое в фоновом режиме, чтобы поэкспериментировать с созданием приложений HoloLens, использующих Вуфориа Engine.



## <a name="configuring-a-vuforia-app-for-hololens"></a>Настройка приложения Вуфориа для HoloLens

Разработка приложения Вуфориа Engine для HoloLens — это принципиально то же самое, что разработка приложений Вуфориа Engine для других устройств. Затем можно применить параметры сборки и конфигурации, описанные в разделе ниже. Это все, что необходимо, чтобы позволить Вуфориа Engine работать с пространственными сопоставлениями HoloLens и системами позиционированного отслеживания.

## <a name="build-and-run-the-vuforia-engine-sample-for-hololens"></a>Сборка и запуск примера Вуфориа Engine для HoloLens
1.  Скачайте [Пример модуля вуфориа для HoloLens](https://assetstore.unity.com/packages/templates/packs/vuforia-hololens-sample-101553) из магазина активов Unity.
2.  Применение [рекомендуемых параметров подсистемы Unity к питанию и производительности](performance-recommendations-for-unity.md)
3.  Добавьте образцы сцен в сцены в сборке.
4.  Настройте целевой объект сборки платформы для "универсальная платформа Windows" в параметрах сборки > файлов.
5.  Выберите следующие параметры конфигурации сборки платформы: 
   * Целевое устройство = HoloLens
   * Тип сборки = D3D
   * Пакет SDK = последняя установленная
   * Версия Visual Studio = последняя установленная
   * Сборка и запуск на = локальный компьютер
6.  Определите уникальное **Название продукта**в **параметрах проигрывателя**, которое будет использоваться в качестве имени приложения при установке на HoloLens.
7.  Проверьте, **поддерживаются** ли расширенные **Вуфориа** и виртуальные реальность в **ПАРАМЕТРах проигрывателя > Параметры XR**
8.  Кроме того, в разделе **Параметры XR**убедитесь, что Windows Mixed Reality добавлена в список **пакетов SDK для Virtual Reality** .
9.  Проверьте следующие возможности в параметрах проигрывателя > Параметры публикации. 
   * InternetClient
   * Бесед
   * Спатиалперцептион — если вы планируете использовать API наблюдателя Surface
10. Выберите "сборка", чтобы создать проект Visual Studio
11. Создайте исполняемый файл из Visual Studio и установите его в HoloLens.

Примечание. Начиная с версии 7,2, пример Вуфориа Engine для HoloLens содержит образец сцены, включая пример использования целевых объектов модели.

## <a name="the-vuforia-developer-portal"></a>Портал разработчика Вуфориа

Разработчикам, стремящимся создать свои собственные возможности AR с Вуфориа Engine и HoloLens, следует зарегистрироваться на нашем портале разработчиков Вуфориа по адресу [Developer.Vuforia.com](https://developer.vuforia.com/). На портале у разработчиков есть доступ к [форумам Вуфориа Engine](https://developer.vuforia.com/forum) , где они могут присоединиться к обсуждениям сообщества, [библиотеке](https://library.vuforia.com/) с подробной документацией по всем функциям подсистемы Вуфориа, а также [вуфориа Target Manager](https://developer.vuforia.com/target-manager) , где пользователи могут создавать собственные целевые объекты. Разработчики также могут зарегистрироваться для использования бесплатной лицензии разработчика с помощью [диспетчера лицензий вуфориа](https://developer.vuforia.com/license-manager).

## <a name="extended-tracking-with-vuforia"></a>Расширенное отслеживание с помощью Вуфориа

[Расширенное отслеживание](https://library.vuforia.com/articles/Training/Extended-Tracking) обеспечивает отслеживание, даже если целевой объект больше не находится в представлении. Он автоматически включается для всех целевых объектов, если включен инспектор нацеленных устройств. Для приложений HoloLens средство записи нацеленных устройств запускается автоматически в Unity.

Вуфориа Engine автоматически применяет отправителя от отслеживания камер и пространственного отслеживания HoloLens для обеспечения стабильного целевого объекта, независимо от того, виден ли целевой объект камере или нет.

Поскольку процесс обрабатывается автоматически, разработчик не требует программирования.


**Вот что происходит...**
1. Целевой объект вуфориа Tracker распознает целевой объект
2. Целевое отслеживание инициализируется
3. Расположение и поворот целевого объекта анализируются, чтобы обеспечить надежную оценку типа для HoloLens.
4. Подсистема вуфориа преобразует целевой объект в пространство координат пространственного сопоставления HoloLens
5. Если целевой объект больше не находится в представлении, HoloLens принимает отслеживание. При каждом просмотре целевого объекта Вуфориа будет продолжать отражать изображения и объекты в точности.

Обнаруженные целевые объекты, которые больше не отображаются, выводятся как EXTENDED_TRACKED. В таких случаях скрипт Дефаулттраккабливенсандлер, используемый для всех целевых объектов, по-своему--то будет отображать содержимое приращения. Разработчик может управлять этим поведением, реализуя скрипт настраиваемого обработчика событий с трассировкой.


## <a name="performance-mode-with-vuforia-engine"></a>Режим производительности с ядром Вуфориа 

С помощью подсистемы Вуфориа можно управлять производительностью HoloLens в отношении экстентов и снизить нагрузку на ЦП. Обработчик Вуфориа предлагает три режима выбора: по умолчанию, для оптимизации скорости и для оптимизации качества. 

*   MODE_OPTIMIZE_SPEED позволяет максимально сокращать рабочую нагрузку на устройстве HoloLens и идеально подходит для расширения возможностей AR. Рекомендуется использовать в ситуациях, когда приложение отслеживает статические объекты и цели.
*   MODE_DEFAULT является обычным режимом, который можно использовать в большинстве сценариев.
*   MODE_OPTIMIZE_QUALITY лучше отслеживать перемещаемые целевые объекты или целевые объекты модели, которые вы ожидаете получить.

**Установка режима**

Чтобы изменить режим производительности в Unity, перейдите к конфигурации Вуфориа (Ctrl + Shift + V/Cmd + Shift + V), которая находится в качестве компонента в Аркамера GameObject. 
*   Откройте раскрывающееся меню для режима устройства камеры и выберите один из трех параметров.


## <a name="see-also"></a>См. также
* [Установка средств](install-the-tools.md)
* [Системы координат](coordinate-systems.md)
* [Пространственное сопоставление](spatial-mapping.md)
* [Камера в Unity](camera-in-unity.md)
* [Экспорт и разработка решения Visual Studio для Unity](exporting-and-building-a-unity-visual-studio-solution.md)
* [Документация по вуфориа: Разработка для Windows 10 в Unity](https://library.vuforia.com/articles/Solution/Developing-for-Windows-10-in-Unity)
* [Документация по вуфориа: как установить расширение Unity Вуфориа](https://library.vuforia.com/articles/Solution/Installing-the-Unity-Extension)
* [Документация по вуфориа. Работа с примером HoloLens в Unity](https://library.vuforia.com/articles/Solution/Working-with-the-HoloLens-sample-in-Unity)
* [Документация по вуфориа: Расширенное отслеживание в Вуфориа](https://library.vuforia.com/articles/Training/Extended-Tracking)
