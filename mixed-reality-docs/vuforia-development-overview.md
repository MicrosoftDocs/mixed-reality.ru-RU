---
title: Использование Вуфориа с Unity
description: Используйте Вуфориа для создания приложений Windows Mixed Reality в Unity.
author: ailyadis
ms.author: ''
ms.date: 01/28/2019
ms.topic: article
keywords: Вуфориа, маркеры, координаты, кадр ссылки, отслеживание
ms.openlocfilehash: c0d2f6d0707e1ddd3ee00d3eb80af9fb459f252b
ms.sourcegitcommit: c2a5bff423feba7d29d5431c870b6017c2fe1bc2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/06/2019
ms.locfileid: "66750349"
---
# <a name="using-vuforia-engine-with-unity"></a>Использование подсистемы Вуфориа с Unity

Вуфориа Engine предоставляет важную возможность для HoloLens — мощность для подключения AR к конкретным изображениям и объектам в среде. Эту возможность можно использовать для перекрытия пошаговых инструкций по работе с машинным предприятием для промышленного предприятия или для добавления цифровых функций и возможностей к физическому продукту или игре. 

Для большей гибкости при разработке AR Вуфориа Engine предлагает широкий спектр функций и целей. Одной из наших новейших функций, Вуфориа моделей, является ключевая возможность для коммерческих и промышленных целей. Цели модели позволяют приложениям распознать физические объекты, такие как компьютеры, средства для автомобильной связи или Toys, и контролировать их на основе САПР или цифровой трехмерной модели. Для промышленных целей эта функция может предоставить работникам и специалистам по сборке рабочие процессы AR и процедурные рекомендации на фабрике или в поле. 

Существующие приложения Вуфориа Engine, созданные для телефонов и планшетов, можно легко настроить в Unity для запуска в HoloLens. Вы даже можете использовать Вуфориа Engine, чтобы перевести новое приложение HoloLens на планшеты Windows 10, например Surface Pro 4 и Surface Book.

## <a name="get-the-tools"></a>Получить инструменты

[Установите Рекомендуемые версии](install-the-tools.md) Visual Studio и Unity, а затем настройте Unity для использования Visual Studio и предпочтительной интегрированной среды разработки и компилятора. 

При установке Unity обязательно установите либо "Серверная часть скриптов .NET для Магазина Windows", либо "Серверная часть скриптов IL2CPP для Магазина Windows". Кроме того, не забудьте выбрать Вуфориа "поддержка расширенной реальности", чтобы включить подсистему Вуфориа в Unity.


## <a name="getting-started-with-vuforia-engine"></a>Приступая к работе с Вуфориа Engine

Так как подсистема Вуфориа интегрирована в Unity, разработчикам не нужно загружать или устанавливать дополнительные средства. Рекомендуемая версия Unity — это поток LTS, который в настоящее время находится на 2017,3 и включает Вуфориа Engine 7.0.57. Лучшая отправной точкой для изучения использования Вуфориа Engine с HoloLens является [Пример Вуфориа Engine HoloLens](https://assetstore.unity.com/packages/templates/packs/vuforia-hololens-sample-101553) (доступен в магазине активов Unity). Пример содержит полный проект HoloLens, включая предварительно настроенный монтажный кадр, который можно развернуть на HoloLens.

В этом монтажном кадре показано, как использовать целевые объекты изображений Вуфориа для распознавания изображения и расширения его с помощью цифрового содержимого в интерфейсе HoloLens. Разработчики, использующие более свежие версии Unity и Вуфориа, имеют доступ к обновленным примерам, содержащим сцены использования целевых объектов модели в HoloLens. Вы можете легко подставить свое содержимое в фоновом режиме, чтобы поэкспериментировать с созданием приложений HoloLens, использующих Вуфориа Engine.


## <a name="configuring-a-vuforia-app-for-hololens"></a>Настройка приложения Вуфориа для HoloLens

Разработка приложения Вуфориа Engine для HoloLens — это принципиально то же самое, что разработка приложений Вуфориа Engine для других устройств. Затем можно применить параметры сборки и конфигурации, описанные в разделе ниже. Это все, что необходимо, чтобы позволить Вуфориа Engine работать с пространственными сопоставлениями HoloLens и системами позиционированного отслеживания.

## <a name="build-and-run-the-vuforia-engine-sample-for-hololens"></a>Сборка и запуск примера Вуфориа Engine для HoloLens
1.  Скачайте [Пример модуля вуфориа для HoloLens](https://assetstore.unity.com/packages/templates/packs/vuforia-hololens-sample-101553) из магазина активов Unity.
2.  Применение [рекомендуемых параметров подсистемы Unity к питанию и производительности](performance-recommendations-for-unity.md)
3.  Добавьте образцы сцен в сцены в сборке.
4.  Настройте целевой объект сборки платформы для "универсальная платформа Windows" в параметрах сборки > файлов.
5.  Выберите следующие параметры конфигурации сборки платформы: 
   * Целевое устройство = HoloLens
   * Тип сборки = D3D
   * Пакет SDK = последняя установленная
   * Версия Visual Studio = последняя установленная
   * Сборка и запуск на = локальный компьютер
6.  Определите уникальное **Название продукта**в параметрах **проигрывателя**, которое будет использоваться в качестве имени приложения при установке на HoloLens.
7.  Проверьте, поддерживаются ли расширенные **вуфориа** и **Виртуальные реальность** в **ПАРАМЕТРах проигрывателя > Параметры XR**
8.  Кроме того, в разделе **Параметры XR**убедитесь, что Windows Mixed Reality добавлена в список **пакетов SDK для Virtual Reality** .
9.  Проверьте следующие возможности в параметрах проигрывателя > Параметры публикации. 
   * InternetClient
   * Бесед
   * Спатиалперцептион — если вы планируете использовать API наблюдателя Surface
10. Выберите "сборка", чтобы создать проект Visual Studio
11. Создайте исполняемый файл из Visual Studio и установите его в HoloLens.

Примечание. Начиная с версии 7,2, пример Вуфориа Engine для HoloLens содержит образец сцены, включая пример использования целевых объектов модели.

## <a name="the-vuforia-developer-portal"></a>Портал разработчика Вуфориа

Разработчикам, стремящимся создать свои собственные возможности AR с Вуфориа Engine и HoloLens, следует зарегистрироваться на нашем портале разработчиков Вуфориа по адресу [Developer.Vuforia.com](https://developer.vuforia.com/). На портале у разработчиков есть доступ к [форумам Вуфориа Engine](https://developer.vuforia.com/forum) , где они могут присоединиться к обсуждениям сообщества, [библиотеке](https://library.vuforia.com/) с подробной документацией по всем функциям подсистемы Вуфориа, а также [вуфориа Target Manager](https://developer.vuforia.com/target-manager) , где пользователи могут Создайте собственные пользовательские целевые объекты. Разработчики также могут зарегистрироваться для использования бесплатной лицензии разработчика с помощью [диспетчера лицензий вуфориа](https://developer.vuforia.com/license-manager).

## <a name="extended-tracking-with-vuforia"></a>Расширенное отслеживание с помощью Вуфориа

[Расширенное отслеживание](https://library.vuforia.com/articles/Training/Extended-Tracking) создает карту среды для поддержания отслеживания, даже если целевой объект больше не находится в представлении. Вуфориа Engines аналогично пространственному сопоставлению, выполняемому HoloLens. При включении расширенного отслеживания на целевом объекте вы включаете назначение этой цели для передачи в систему пространственных сопоставлений. Таким образом, целевые объекты могут существовать как в подсистеме Вуфориа Engine, так и в пространственных координатах HoloLens, хотя и не одновременно.

![Окно "Параметры Unity"](images/vuforia-extendedtracking.png)<br>
*Окно "Параметры Unity"*

**Включение расширенного отслеживания на целевом объекте**

Подсистема вуфориа автоматически преобразует объект цели, который использует Расширенное отслеживание, в систему пространственных координат HoloLens. Это позволяет объекту HoloLens отследить отслеживание и интегрировать любое содержимое, дополненное к пространственной карте окружающей среды. Этот процесс происходит между Вуфориа Engine и интерфейсами API смешанной реальности в Unity и не требует программирования разработчиком — он обрабатывается автоматически.

**Вот что происходит...**
1. Целевой объект вуфориа Tracker распознает целевой объект
2. Целевое отслеживание инициализируется
3. Расположение и поворот целевого объекта анализируются, чтобы обеспечить надежную оценку типа для использования HoloLens
4. Вуфориа преобразовывает целевой объект в пространство координат пространственного сопоставления HoloLens
5. HoloLens отслеживает отслеживание и отключается средство отслеживания Вуфориа

Разработчик может управлять этим процессом, возвращая управление Вуфориа, отключив Расширенное отслеживание на Таржетбехавиаур.

**ПРИМЕЧАНИЕ.** Начиная с Вуфориа 7,2, Расширенное отслеживание больше не включается на основе каждого целевого объекта. Вместо этого разработчики могут включить функцию отслеживания устройств, чтобы включить аналогичные функции для всех целевых объектов в сцене.


## <a name="see-also"></a>См. также
* [Установка средств](install-the-tools.md)
* [Системы координат](coordinate-systems.md)
* [Пространственное сопоставление](spatial-mapping.md)
* [Камера в Unity](camera-in-unity.md)
* [Экспорт и разработка решения Visual Studio для Unity](exporting-and-building-a-unity-visual-studio-solution.md)
* [Документация по вуфориа: Разработка для Windows 10 в Unity](https://library.vuforia.com/articles/Solution/Developing-for-Windows-10-in-Unity)
* [Документация по вуфориа: Установка расширения Unity для Вуфориа](https://library.vuforia.com/articles/Solution/Installing-the-Unity-Extension)
* [Документация по вуфориа: Работа с примером HoloLens в Unity](https://library.vuforia.com/articles/Solution/Working-with-the-HoloLens-sample-in-Unity)
* [Документация по вуфориа: Расширенное отслеживание в Вуфориа](https://library.vuforia.com/articles/Training/Extended-Tracking)
