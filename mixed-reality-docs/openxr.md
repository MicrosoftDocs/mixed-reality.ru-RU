---
title: опенкср
description: Создайте подсистему с помощью переносимого стандарта API Опенкср и разверните его на гарнитурах Windows Mixed Reality и HoloLens 2.
author: thetuvix
ms.author: alexturn
ms.date: 7/29/2019
ms.topic: article
keywords: Портал разработчика Опенкср, Кхронос, Басикксрапп, Mixed Reality Опенкср разработчик, DirectX, Native, собственная настраиваемая подсистема приложения, по промежуточного слоя
ms.openlocfilehash: efad0809356f969c825ef7285885fdb9431c7fce
ms.sourcegitcommit: c0d5c19b756b8e6ff95ea26a4d8d2b3a53878c2e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/31/2019
ms.locfileid: "68671956"
---
# <a name="openxr"></a>опенкср

Опенкср — это открытый стандарт API из [кхронос](https://www.khronos.org/) , который предоставляет механизмам собственный доступ к широкому спектру устройств от многих поставщиков, охватывающих спектр различных [типов](mixed-reality.md).

Вы можете разрабатывать приложения с помощью Опенкср на виртуальной головной гарнитуре HoloLens 2 или Windows Mixed Reality на рабочем столе.  Если у вас нет доступа к гарнитуре, можно использовать эмулятор HoloLens 2 или симулятор Windows Mixed Reality.

## <a name="why-openxr"></a>Зачем Опенкср?

С помощью Опенкср вы можете создавать обработчики, предназначенные как для holographic устройств (например, HoloLens 2), которые размещают цифровое содержимое в реальном мире, как если бы оно было на самом деле, а также как впечатляющие устройства (например, гарнитуры Windows Mixed Reality для настольных ПК), которые скрывают физические мир и замените его цифровой опытом.  Опенкср позволяет написать код, который затем будет переносимым на широком диапазоне аппаратных платформ.

API Опенкср использует загрузчик, который подключает ваше приложение непосредственно к поддержке собственной платформы вашей гарнитуры.  Это обеспечивает максимальную производительность и минимальную задержку конечных пользователей независимо от того, используете ли они гарнитуру Windows Mixed Reality или любую другую гарнитуру.

## <a name="what-is-openxr"></a>Что такое Опенкср?

Основной API-интерфейс Опенкср 1,0 предоставляет базовые функциональные возможности, необходимые для создания подсистемы, которая может нацелить как holographic-устройства, такие как HoloLens 2, так и иммерсивное устройство, например гарнитуры Windows Mixed Reality:
* Системы + сеансы
* Справочные пространства (Просмотр, локальный, этап)
* Просмотр конфигураций (моно, стерео)
* Цепочек переключений + время кадров
* Слои композиции
* Входные и хаптикс
* API графики и интеграция платформы

Дополнительные сведения об API Опенкср см. в справочнике по [спецификации опенкср 1,0](https://www.khronos.org/registry/OpenXR/specs/1.0/html/xrspec.html) и [API опенкср 1,0](https://www.khronos.org/registry/OpenXR/specs/1.0/man/html/openxr.html).  Дополнительные сведения см. на [странице Кхронос опенкср](https://www.khronos.org/openxr/).

Чтобы ориентироваться на полный набор функций HoloLens 2, вы также будете использовать расширения Опенкср, относящиеся к поставщику и поставщику, которые предоставляют дополнительные функции за пределами ядра Опенкср 1,0, такие как отслеживание, отслеживание глаз, пространственное сопоставление и пространственные привязки.  Дополнительные сведения о расширениях, которые появятся позже в этом году, см. в [разделе о планах ниже](openxr.md#roadmap).

Обратите внимание, что Опенкср не является механизмом смешанной реальности.  Вместо этого Опенкср позволяет использовать такие модули, как Unity и Нереал, для написания переносимого кода, который затем может получить доступ к функциям собственной платформы в holographic или иммерсивное устройство пользователя независимо от того, какой поставщик создал эту платформу.

## <a name="getting-started-with-openxr-for-hololens-2"></a>Начало работы с Опенкср для HoloLens 2

Чтобы приступить к разработке приложений Опенкср для HoloLens 2:

1. Настройте HoloLens 2 или следуйте инструкциям по [установке эмулятора hololens 2](using-the-hololens-emulator.md).
1. Запустите приложение магазина на устройстве или в эмуляторе и убедитесь, что все приложения обновлены.  Это обеспечит обновление среды выполнения Опенкср на HoloLens до Опенкср 1,0.  При использовании эмулятора необходимо изучить [входные инструкции эмулятора](using-the-hololens-emulator.md#basic-emulator-input) , которые помогут вам использовать приложение магазина в эмуляторе.

## <a name="getting-started-with-openxr-for-windows-mixed-reality-headsets"></a>Начало работы с Опенкср для головных телефонов Windows Mixed Reality

Чтобы приступить к разработке приложений Опенкср для впечатляющих головных телефонов Windows Mixed Reality:

1. Убедитесь, что вы используете Windows 10 с обновлением 2019 (1903), что является минимальным требованием для конечных пользователей Windows Mixed Reality запускать приложения Опенкср.  Если вы используете более раннюю версию Windows 10, вы можете выполнить обновление до 2019 с помощью помощника по [обновлению Windows 10](https://www.microsoft.com/en-us/software-download/windows10).  Если вы не можете обновить свой компьютер, можно также [разработать приложение опенкср с помощью Windows 10 октября 2018 с обновлением (1809)](openxr.md#developing-on-windows-10-october-2018-update), хотя производительность и другие проблемы могут быть снижены.
1. Настройте гарнитуру Windows Mixed Reality или следуйте инструкциям по включению [симулятора Windows Mixed Reality](using-the-windows-mixed-reality-simulator.md).
1. Установите [приложение портала разработчика Mixed Reality опенкср](https://www.microsoft.com/store/productId/9n5cvvl23qbt).  При установке этого приложения будет автоматически установлена среда выполнения Опенкср Mixed Reality.  После установки среды выполнения Опенкср Microsoft Store будет синхронизировать среду выполнения.
1. Запустите приложение портала разработчика Mixed Reality Опенкср из меню "Пуск" и следуйте инструкциям, чтобы активировать среду выполнения.

![Приложение портала для разработчиков смешанной реальности Опенкср](images/mixed-reality-openxr-developer-portal.png)

> [!NOTE]
> Среда выполнения Опенкср Mixed Reality вскоре будет доступна всем конечным пользователям Windows Mixed Reality через приложение портала смешанной реальности.

## <a name="building-a-sample-openxr-app"></a>Создание примера приложения Опенкср

Проект [басикксрапп](https://github.com/Microsoft/OpenXR-SDK-VisualStudio/tree/master/samples/BasicXrApp) демонстрирует простой пример опенкср с двумя файлами проекта Visual Studio: один для классического приложения Win32 и один для приложения UWP HoloLens 2.  Так как решение содержит проект HoloLens UWP, для его полного открытия вам потребуется [Рабочая нагрузка "разработка универсальная платформа Windows](install-the-tools.md#installation-checklist) ", установленная в Visual Studio.

Обратите внимание, что хотя файлы проекта Win32 и UWP являются отдельными из-за различий в упаковке и развертывании, код приложения внутри каждого проекта составляет 100%.

## <a name="roadmap"></a>Стратегия

Спецификация Опенкср определяет механизм расширения, позволяющий разработчикам среды выполнения предоставлять дополнительные функциональные возможности за пределами [основных функций](openxr.md#what-is-openxr) , определенных в [базовой спецификации опенкср 1,0](https://www.khronos.org/registry/OpenXR/specs/1.0/html/xrspec.html).

Существует три вида расширений Опенкср:
* **Расширения поставщика (например, MSFT):** Включает инновации каждого поставщика в функции оборудования или программного обеспечения.  Любой поставщик среды выполнения может в любое время внедрить и поставлять расширение поставщика.
* **Расширения EXT:** Расширения кросс-поставщика, которые определяются и реализуются несколькими компаниями.  Группы заинтересованных компаний могут в любое время внедрять расширения EXT.
* **Расширения КХР:** Официальные расширения Кхронос ратифицирован в рамках основной версии спецификации.  Расширения КХР охватываются той же лицензией, что и Основная спецификация.

К концу года среда выполнения Опенкср смешанной реальности будет поддерживать набор программных расширений MSFT и EXT, которые предоставляют полный набор функций HoloLens 2 для Опенкср приложений:
* [Несвязанное пространство ссылок (возможности мирового масштаба)](coordinate-systems.md#building-a-world-scale-experience)
* [Пространственные привязки + хранилище](spatial-anchors.md)
* [Сетка руки артикулатион +](hands-and-tools.md)
* [Отслеживание глаз](eye-tracking.md)
* [Конфигурации вторичного представления (запись смешанной реальности)](mixed-reality-capture-for-developers.md#render-from-the-pv-camera-opt-in)
* [Пространственное сопоставление](spatial-mapping.md)
* Взаимодействие с интерфейсами API Windows SDK

Хотя некоторые из этих расширений могут начаться как расширения MSFT, зависящие от поставщика, корпорация Майкрософт и другие поставщики среды выполнения Опенкср работают вместе для проектирования расширений EXT или КХР для различных функциональных областей.  Это обеспечит переносимость кода, который вы пишете для этих функций, между поставщиками среды выполнения, как и в случае с основной спецификацией.

## <a name="troubleshooting"></a>Устранение неполадок

Ниже приведены некоторые советы по устранению неполадок среды выполнения смешанной реальности Опенкср.  Если у вас есть другие вопросы о [спецификации опенкср 1,0](https://www.khronos.org/registry/OpenXR/specs/1.0/html/xrspec.html), посетите [форумы Кхронос опенкср](https://community.khronos.org/c/openxr) или резервный [#openxr канал](https://khr.io/slack).

### <a name="developing-on-windows-10-october-2018-update"></a>Разработка на Windows 10 октября с обновлением 2018

Если вы не можете обновить [компьютер разработки до обновления 2019](https://www.microsoft.com/en-us/software-download/windows10), можно настроить компьютер с Windows 10 октября 2018 (1809) для разработки, выполнив еще один шаг:

1. Выполните описанные выше действия, чтобы приступить к работе с Опенкср на настольном ПК.
1. Чтобы установить среду выполнения Mixed Reality Опенкср в качестве активной среды выполнения Опенкср системы, установите [пакет обеспечения совместимости для Опенкср Mixed Reality](https://aka.ms/openxr-compat).

> [!NOTE]
> Хотя обновление Windows 10 октября 2018 (1809) можно использовать при разработке приложений Опенкср, в Windows 10 может 2019 обновление (1903) — это минимальное требование для конечных пользователей использовать Опенкср с Windows Mixed Reality.  Вы можете столкнуться с более низкой производительностью или другими проблемами при запуске приложения Опенкср в обновлении за Октябрь 2018 октября.  Настоятельно рекомендуется обновить компьютер разработчика до версии Windows 10 2019 (1903).

### <a name="openxr-app-not-starting-windows-mixed-reality"></a>Приложение Опенкср не запускает Windows Mixed Reality

Если приложение Опенкср не запускает Windows Mixed Reality при запуске, то среда выполнения Mixed Reality Опенкср может быть не установлена в качестве активной среды выполнения.  Не забудьте запустить приложение портала разработчика Mixed Reality Опенкср и следуйте инструкциям, чтобы активировать среду выполнения.

### <a name="mixed-reality-openxr-developer-portal-app-cannot-be-installed"></a>Невозможно установить приложение портала для разработчиков смешанной реальности Опенкср 

Убедитесь, что вы используете по крайней мере обновление Windows 10 октября 2018 (1809).  Если вы используете более раннюю версию Windows 10, можно выполнить обновление до 2019 обновления (1903) с помощью [помощника по обновлению Windows 10](https://www.microsoft.com/en-us/software-download/windows10).

Если кнопка "установить" в приложении портала разработчика "смешанная реальность Опенкср" не выполняет никаких действий в обновлении Windows 10 октября 2018, ваша система может иметь кэшированные устаревшие требования к системе для приложения.  Чтобы очистить кэш, можно `wsreset.exe` выполнить команду из командной строки.

## <a name="see-also"></a>См. также

* [Дополнительные сведения о Опенкср](https://www.khronos.org/openxr/)
* [Спецификация Опенкср 1,0](https://www.khronos.org/registry/OpenXR/specs/1.0/html/xrspec.html)
* [Справочник по API Опенкср 1,0](https://www.khronos.org/registry/OpenXR/specs/1.0/man/html/openxr.html)
* [Краткое справочное руководство по Опенкср 1,0](https://www.khronos.org/registry/OpenXR/specs/1.0/refguide/OpenXR-1.0-web.pdf)
