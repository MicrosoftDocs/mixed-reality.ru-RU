---
title: Рекомендации по работе с Unity и Visual Studio
description: Советы и рекомендации, которые упрощают процесс создания приложения смешанной реальности с помощью Unity и Visual Studio.
author: mattzmsft
ms.author: mazeller
ms.date: 03/21/2018
ms.topic: article
keywords: развертывание, unity, visual studio, HoloLens, иммерсивных гарнитура
ms.openlocfilehash: 80a533851b3bee0d747a90dfececbaa558c4ec1f
ms.sourcegitcommit: 384b0087899cd835a3a965f75c6f6c607c9edd1b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/12/2019
ms.locfileid: "59604104"
---
# <a name="best-practices-for-working-with-unity-and-visual-studio"></a><span data-ttu-id="659e7-104">Рекомендации по работе с Unity и Visual Studio</span><span class="sxs-lookup"><span data-stu-id="659e7-104">Best practices for working with Unity and Visual Studio</span></span>

<span data-ttu-id="659e7-105">Разработчик, создающий приложение смешанной реальности с помощью Unity будет нужно переключаться между Unity и Visual Studio для создания пакета приложения, развернутого для HoloLens и/или иммерсивных гарнитуры.</span><span class="sxs-lookup"><span data-stu-id="659e7-105">A developer creating a mixed reality application with Unity will need to switch between Unity and Visual Studio to build the application package that is deployed to HoloLens and/or an immersive headset.</span></span> <span data-ttu-id="659e7-106">По умолчанию два экземпляра Visual Studio не требуется (один для изменения скриптов Unity) и один для развертывания на устройстве и отладки.</span><span class="sxs-lookup"><span data-stu-id="659e7-106">By default two instances of Visual Studio are required (one to modify Unity scripts and one to deploy to the device and debug).</span></span> <span data-ttu-id="659e7-107">Следующая процедура позволяет разрабатывать с помощью одного экземпляра Visual Studio, снижает частоту экспорта проектов Unity и улучшает процесс отладки.</span><span class="sxs-lookup"><span data-stu-id="659e7-107">The following procedure allows development using single Visual Studio instance, reduces the frequency of exporting Unity projects, and improves the debugging experience.</span></span>

## <a name="improving-iteration-time"></a><span data-ttu-id="659e7-108">Сокращение времени итерации</span><span class="sxs-lookup"><span data-stu-id="659e7-108">Improving iteration time</span></span>

<span data-ttu-id="659e7-109">Распространенной проблемой рабочего процесса при работе с Unity и Visual Studio возникли несколько окон, открыв среду Visual Studio и необходимость постоянно переключаться между Visual Studio и Unity для выполнения итерации.</span><span class="sxs-lookup"><span data-stu-id="659e7-109">A common workflow problem when working with Unity and Visual Studio is having multiple windows of Visual Studio open and the need to constantly switch between Visual Studio and Unity to iterate.</span></span>
1. <span data-ttu-id="659e7-110">**Unity** — изменение сцены и экспорта решения Visual Studio</span><span class="sxs-lookup"><span data-stu-id="659e7-110">**Unity** - for modifying the scene and exporting a Visual Studio solution</span></span>
2. <span data-ttu-id="659e7-111">**Visual Studio (1)** — для изменения скриптов</span><span class="sxs-lookup"><span data-stu-id="659e7-111">**Visual Studio (1)** - for modifying scripts</span></span>
3. <span data-ttu-id="659e7-112">**Visual Studio (2)** — для создания и развертывания Unity экспортировать решение Visual Studio к устройству</span><span class="sxs-lookup"><span data-stu-id="659e7-112">**Visual Studio (2)** - for building and deploying the Unity exported Visual Studio solution to the device</span></span>

<span data-ttu-id="659e7-113">К счастью имеется способ оптимизировать для одного экземпляра Visual Studio и сократить на частый Экспорт из Unity.</span><span class="sxs-lookup"><span data-stu-id="659e7-113">Luckily, there's a way to streamline to a single instance of Visual Studio and cut down on frequent exports from Unity.</span></span>

<span data-ttu-id="659e7-114">Когда [Экспорт проекта из Unity](exporting-and-building-a-unity-visual-studio-solution.md), проверьте **Unity C# проекты** флажок в меню «Файл > Параметры сборки».</span><span class="sxs-lookup"><span data-stu-id="659e7-114">When [exporting your project from Unity](exporting-and-building-a-unity-visual-studio-solution.md), check the **Unity C# Projects** checkbox in the "File > Build Settings" menu.</span></span> <span data-ttu-id="659e7-115">Теперь проект, экспортированные из Unity включает в себя все проекта C# сценариев и имеет несколько преимуществ:</span><span class="sxs-lookup"><span data-stu-id="659e7-115">Now, the project you export from Unity includes all of your project's C# scripts and has several benefits:</span></span>
* <span data-ttu-id="659e7-116">Используйте тот же экземпляр Visual Studio для написания сценариев и построение и развертывание проекта</span><span class="sxs-lookup"><span data-stu-id="659e7-116">Use the same instance of Visual Studio for writing scripts and building/deploying your project</span></span>
* <span data-ttu-id="659e7-117">Экспорт из Unity отображались только в том случае, когда сцены изменяется в редакторе Unity. изменить содержимое скриптов можно в Visual Studio без повторно экспортировать его.</span><span class="sxs-lookup"><span data-stu-id="659e7-117">Export from Unity only when the scene is changed in the Unity Editor; changing the contents of scripts can be done in Visual Studio without re-exporting.</span></span>

<span data-ttu-id="659e7-118">С помощью **Unity C# проекты** включен, необходимо открыть только один экземпляр каждой программы:</span><span class="sxs-lookup"><span data-stu-id="659e7-118">With **Unity C# Projects** enabled, only one instance of each program need be opened:</span></span>
1. <span data-ttu-id="659e7-119">**Unity** — изменение сцены и экспорта решения Visual Studio</span><span class="sxs-lookup"><span data-stu-id="659e7-119">**Unity** - for modifying the scene and exporting a Visual Studio solution</span></span>
2. <span data-ttu-id="659e7-120">**Visual Studio** — для изменение скриптов, а затем создание и развертывание Unity экспортировать решение Visual Studio к устройству</span><span class="sxs-lookup"><span data-stu-id="659e7-120">**Visual Studio** - for modifying scripts then building and deploying the Unity exported Visual Studio solution to the device</span></span>

## <a name="visual-studio-tools-for-unity"></a><span data-ttu-id="659e7-121">Инструменты Visual Studio для Unity</span><span class="sxs-lookup"><span data-stu-id="659e7-121">Visual Studio Tools for Unity</span></span>

<span data-ttu-id="659e7-122">Скачайте [средств Visual Studio для Unity](https://visualstudiogallery.msdn.microsoft.com/8d26236e-4a64-4d64-8486-7df95156aba9)</span><span class="sxs-lookup"><span data-stu-id="659e7-122">Download [Visual Studio Tools for Unity](https://visualstudiogallery.msdn.microsoft.com/8d26236e-4a64-4d64-8486-7df95156aba9)</span></span>

<span data-ttu-id="659e7-123">**Преимущества Visual Studio Tools for Unity**</span><span class="sxs-lookup"><span data-stu-id="659e7-123">**Benefits of Visual Studio Tools for Unity**</span></span>
* <span data-ttu-id="659e7-124">Отладка в режим воспроизведения в редакторе Unity из Visual Studio, поместив точки останова, оценки переменных и сложных выражений.</span><span class="sxs-lookup"><span data-stu-id="659e7-124">Debug Unity in-editor play mode from Visual Studio by putting breakpoints, evaluating variables and complex expressions.</span></span>
* <span data-ttu-id="659e7-125">Используйте Unity Project Explorer для поиска скрипта точное же иерархию, которая отображает Unity.</span><span class="sxs-lookup"><span data-stu-id="659e7-125">Use the Unity Project Explorer to find your script with the exact same hierarchy that Unity displays.</span></span>
* <span data-ttu-id="659e7-126">Получите консоли Unity непосредственно в Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="659e7-126">Get the Unity console directly inside Visual Studio.</span></span>
* <span data-ttu-id="659e7-127">Для быстрого создания или перейдите в сценарии с помощью мастеров.</span><span class="sxs-lookup"><span data-stu-id="659e7-127">Use wizards to quickly create or navigate to scripts.</span></span>

## <a name="expose-c-class-variables-for-easy-tuning"></a><span data-ttu-id="659e7-128">Предоставлять C# класса переменные для простой настройки</span><span class="sxs-lookup"><span data-stu-id="659e7-128">Expose C# class variables for easy tuning</span></span>

<span data-ttu-id="659e7-129">Существует два способа для предоставления переменных класса.</span><span class="sxs-lookup"><span data-stu-id="659e7-129">There are two ways to expose class variables.</span></span> <span data-ttu-id="659e7-130">Для этого рекомендуется добавить атрибут [SerializeField] ваш закрытые переменные.</span><span class="sxs-lookup"><span data-stu-id="659e7-130">The recommended way to do so is to add the [SerializeField] attribute to your private variables.</span></span> <span data-ttu-id="659e7-131">Это позволяет им быть организован и для редактора, но доступна не программным путем.</span><span class="sxs-lookup"><span data-stu-id="659e7-131">This allows them to be accessed from the editor but not programatically exposed.</span></span>  <span data-ttu-id="659e7-132">Другой вариант — чтобы сделать C# public класса переменные для предоставления их в редакторе пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="659e7-132">The other option is to make C# class variables public to expose them in the editor UI.</span></span> 

<span data-ttu-id="659e7-133">Оба подхода позволяют легко оптимизировать переменных во время воспроизведения в редакторе.</span><span class="sxs-lookup"><span data-stu-id="659e7-133">Both approaches make it possible to easily tweak variables while playing in-editor.</span></span> <span data-ttu-id="659e7-134">Это особенно полезно для настройки свойств механику взаимодействия.</span><span class="sxs-lookup"><span data-stu-id="659e7-134">This is especially useful for tuning interaction mechanic properties.</span></span>

## <a name="regenerate-uwp-visual-studio-solutions-after-windows-sdk-or-unity-upgrade"></a><span data-ttu-id="659e7-135">Повторное создание решений Visual Studio универсальной платформы Windows, после обновления пакета SDK для Windows или Unity</span><span class="sxs-lookup"><span data-stu-id="659e7-135">Regenerate UWP Visual Studio solutions after Windows SDK or Unity upgrade</span></span>

<span data-ttu-id="659e7-136">После обновления до нового механизма Windows SDK или Unity можно получить устаревшие решения Visual Studio универсальной платформы Windows, которые возвращены в систему управления версиями.</span><span class="sxs-lookup"><span data-stu-id="659e7-136">UWP Visual Studio solutions checked in to source control can get out-of-date after upgrading to a new Windows SDK or Unity engine.</span></span> <span data-ttu-id="659e7-137">Вы можно решить эту проблему после обновления, создание нового решения универсальной платформы Windows из Unity, а затем слияния все различия в возвращенных решения.</span><span class="sxs-lookup"><span data-stu-id="659e7-137">You can resolve this after the upgrade by building a new UWP solution from Unity, then merging any differences into the checked-in solution.</span></span>

## <a name="use-text-format-assets-for-easy-comparison-of-content-changes"></a><span data-ttu-id="659e7-138">Использование формата ресурсов для удобного сравнения изменения содержимого.</span><span class="sxs-lookup"><span data-stu-id="659e7-138">Use text-format assets for easy comparison of content changes</span></span>

<span data-ttu-id="659e7-139">Хранение ресурсов в текстовом формате облегчает просмотр изменений изменение содержимого в Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="659e7-139">Storing assets in text format makes it easier to review content change diffs in Visual Studio.</span></span> <span data-ttu-id="659e7-140">Вы можете включить отслеживание на «Изменить > Параметры > редактор проекта», изменив **сериализации активов** режим **принудительный текстовый**.</span><span class="sxs-lookup"><span data-stu-id="659e7-140">You can enable this in "Edit > Project Settings > Editor" by changing **Asset Serialization** mode to **Force Text**.</span></span> <span data-ttu-id="659e7-141">Однако слияние изменений файлов активов текст ошибкам и не рекомендуется, поэтому рекомендуется включить монопольное извлечение двоичных в системе управления версиями.</span><span class="sxs-lookup"><span data-stu-id="659e7-141">However, merging text asset file changes is error-prone and not recommended, so consider enabling exclusive binary checkouts in your source control system.</span></span>
