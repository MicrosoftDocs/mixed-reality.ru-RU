---
title: Учебники по началу работы — 4. Размещение динамического содержимого и использование поисковых решений
description: В рамках этого курса вы узнаете, как реализовать функцию распознавания лиц Azure в приложении смешанной реальности.
author: jessemcculloch
ms.author: jemccull
ms.date: 02/26/2019
ms.topic: article
keywords: mixed reality, unity, tutorial, hololens
ms.openlocfilehash: 32a77d6032335ab3ae769b85c5f947440658743f
ms.sourcegitcommit: b6b76275fad90df6d9645dd2bc074b7b2168c7c8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/11/2019
ms.locfileid: "73913537"
---
# <a name="4-placing-dynamic-content-and-using-solvers"></a>4. размещение динамического содержимого и использование поисковых решений

Голограммы приходят на жизнь в HoloLens 2, когда они интуитивно следуют за пользователем и помещаются в физическую среду таким образом, что упрощает и элегантное взаимодействие. В этом руководстве мы рассмотрим способы динамического размещения голограмм с помощью доступных средств размещения МРТК (известных как поиск решения) для решения сложных сценариев пространственного размещения. В МРТК Поиск решения — это система сценариев и поведений, которая позволяет элементам пользовательского интерфейса следовать за вами, пользователем или другими игровыми объектами в сцене. С их помощью также можно быстро выполнить прикрепление к определенной позиции, что делает приложение интуитивно понятным.

## <a name="objectives"></a>Задачи

* Знакомство с решателями MRTK.
* Использование решателей для того, чтобы коллекция кнопок следовала за пользователем.
* Использование решателей для того, чтобы игровой объект следовал за отслеживаемыми руками пользователя.

## <a name="instructions"></a>Инструкция

### <a name="location-of-solvers-in-the-mrtk"></a>Расположение решателей в MRTK

 Чтобы найти доступные решения в проекте, просмотрите папку МРТК SDK (Микседреалититулкит. SDK). В папке Служебные программы вы увидите папку "Поиск решений", как показано на рисунке ниже.

![Решатели](images/lesson3_chapter1_step1im.PNG)

>[!NOTE]
>На этом занятии мы рассмотрим только реализацию решения Орбитал и поиск решения Радиалвиев. Дополнительные сведения о полном диапазоне поиска решений, доступных в МРТК, см. по адресу [https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/README_Solver.html](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/README_Solver.html)

### <a name="use-a-solver-to-follow-the-user"></a>Использование решателя для настройки следования за пользователем

Цель этой главы — расширить коллекцию кнопок, которая была создана ранее, так, чтобы она составила направление взгляда пользователя. В предыдущей версии МРТК и Холотулкит эта функция называлась тагалонг.

1. Выберите родительский объект коллекции кнопок из предыдущего урока.

    ![Изображение "Урок 3, раздел 2, шаг 1"](images/Lesson3_chapter2_step1im.PNG)

2. На панели инспектора нажмите кнопку Добавить компонент и выполните поиск по запросу Орбитал. Должен отобразиться компонент Орбитал. Выберите его, чтобы добавить компонент Орбитал к игровому объекту коллекции кнопок.

    ![Изображение "Урок 3, раздел 2, шаг 2"](images/Lesson3_Chapter2_step2im.PNG)

    >[!NOTE]
    >Когда вы добавляете компонент Орбитал, вы заметите, что система также добавляет компонент Солверхандлер, который является обязательным компонентом.

3. Чтобы настроить коллекцию кнопок для работы с пользователем, необходимо реализовать следующие корректировки (см. рисунок ниже):
    * В скрипте Орбитал задайте для раскрывающегося списка тип ориентации значение только значения нутации. Если установить это значение, только одна ось объекта будет поворачиваться при следовании за пользователем.
    * Установите для параметра Local Offset (Локальное смещение) значение 0 для всех осей. Задайте для параметра «мировое смещение» значение x = 0, y =-0,1 и z = 0,6. Это блокирует перемещение объекта таким образом, что при изменении высоты объект будет оставаться в фиксированной высоте физической среды, в то же время позволяя ему следовать за тем, как пользователь переходит к среде. Эти значения можно изменить для достижения разнообразных поведений.
    * Для следующего поведения, при котором кнопки следуют только за представлением пользователя после того, как пользователь поворачивает свой заголовок, можно установить флажок использовать шаг с заходом для смещения по всему миру (Примечание. Этот заголовок может быть обрезан на некоторых экранах, как показано на рисунке ниже.) Например, чтобы объект подследовал пользователю только каждые 90 градусов, задайте число шагов, равное 4 (отмечено зеленой стрелкой в примере ниже).

    ![Изображение "Урок 3, раздел 2, шаг 3"](images/Lesson3_chapter2_step3im.PNG)

### <a name="enabling-objects-to-follow-tracked-hands"></a>Включение объектов для отслеживания руки

В этом разделе мы настроим ранее созданный объект Game для куба, чтобы отслеживать руки пользователя с помощью решения Радиалвиев.

1. Выберите объект куба в иерархии Басесцене. Нажмите кнопку Добавить компонент на панели инспектора. Введите Радиалвиев в поле поиска и выберите компонент Радиалвиев, чтобы добавить его в куб. Компонент Солверхандлер также будет автоматически добавлен в куб.

    ![mrlearning-Base-CH3-3-step3. png](images/mrlearning-base-ch3-3-step1.png)

2. Чтобы изменить Радиалвиев, а не на головной элемент, выберите раскрывающийся список рядом с параметром Тип объекта "Отслеживание целевых объектов" и выберите соединение типа "рука" в меню.

    ![mrlearning-Base-CH3-3-step2. png](images/mrlearning-base-ch3-3-step2a.png)

    Теперь вы увидите два новых параметра: «Tracked» и «Tracked руки». В этом примере у вас будет Радиалвиев, следующий за наладонем левой руки, как показано на рисунке ниже.

    ![mrlearning-Base-CH3-3-step2b. png](images/mrlearning-base-ch3-3-step2b.png)

3. Установите максимальное и минимальное расстояния от радиального представления в 0, чтобы у Куба не было расстояния между ним и назначением пользователя. После того как вы установите это значение, куб полностью выровняется с запястьем. Можно также настроить поле Направление ссылки, чтобы скорректировать поведение Куба, например, если вы хотите разрешить объекту вращаться с помощью пользователя, установив направление ссылки для ориентации объекта с отслеживанием.

    ![mrlearning-Base-CH3-3-step3. png](images/mrlearning-base-ch3-3-step3.png)

## <a name="congratulations"></a>Поздравляем!

В этом учебнике вы узнали, как использовать поисковые решения МРТК, чтобы пользовательский интерфейс был интуитивно понятен пользователю. Вы также узнали, как присоединить решатель к игровому объекту (например, кубу), чтобы объект следовал за отслеживаемыми руками пользователя. Дополнительные сведения об этих и других решателях в составе MRTK см. на [странице документации о решателях MRTK](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/README_Solver.html).

[Следующее занятие: 5. взаимодействие с трехмерными объектами](mrlearning-base-ch4.md)
