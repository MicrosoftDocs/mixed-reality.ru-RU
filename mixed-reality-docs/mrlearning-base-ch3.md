---
title: Учебники по началу работы — 4. Размещение динамического содержимого и использование поисковых решений
description: В рамках этого курса вы узнаете, как реализовать функцию распознавания лиц Azure в приложении смешанной реальности.
author: jessemcculloch
ms.author: jemccull
ms.date: 02/26/2019
ms.topic: article
keywords: mixed reality, unity, tutorial, hololens
ms.openlocfilehash: a73be40180e582058ae3e9bbaeffebe462042fbb
ms.sourcegitcommit: af1602710c1ccb7ed870a491923350d387706129
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/01/2019
ms.locfileid: "68702002"
---
# <a name="4-placing-dynamic-content-and-using-solvers"></a>4. Размещение динамического содержимого и использование поисковых решений

Голограммы реализуются в HoloLens 2, когда они интуитивно следуют за пользователем и помещаются в физическую среду способом, который делает взаимодействие простым и элегантным. В этом руководстве мы рассмотрим способы динамического размещения голограмм с помощью доступных средств размещения МРТК, известных как поиск решения для решения сложных сценариев пространственного размещения. В МРТК Поиск решения — это система сценариев и поведений, которая позволяет элементам пользовательского интерфейса следовать за вами, пользователем или другими игровыми объектами в сцене. С их помощью также можно быстро выполнить прикрепление к определенной позиции, что делает приложение интуитивно понятным. 

## <a name="objectives"></a>Цели

* Знакомство с решателями MRTK.
* Использование решателей для того, чтобы коллекция кнопок следовала за пользователем.
* Использование решателей для того, чтобы игровой объект следовал за отслеживаемыми руками пользователя.

## <a name="instructions"></a>Инструкция

### <a name="location-of-solvers-in-the-mrtk"></a>Расположение решателей в MRTK
 Чтобы найти доступные решатели в проекте, перейдите в папку пакета SDK MRTK (папку MixedRealityToolkit.SDK), а затем в папке utilities вы увидите папку solvers, как показано на изображении ниже.

![Решатели](images/lesson3_chapter1_step1im.PNG)

>Примечание. На этом занятии будет рассмотрена только реализация решения Орбитал и поиск решения Радиалвиев. Чтобы получить дополнительную информацию о полном наборе решателей, доступных в MRTK, воспользуйтесь ссылкой https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/README_Solver.html.

### <a name="use-a-solver-to-follow-the-user"></a>Использование решателя для настройки следования за пользователем
Цель этой главы — расширить коллекцию кнопок, которая была создана ранее, так, чтобы она составила направление взгляда пользователя. В предыдущей версии МРТК и Холотулкит эта функция называлась тагалонг.

1. Выберите родительский объект коллекции кнопок из предыдущего урока.

![Изображение "Урок 3, раздел 2, шаг 1"](images/Lesson3_chapter2_step1im.PNG)

2. На панели инспектора нажмите кнопку Добавить компонент и выполните поиск по запросу Орбитал. Должен появиться пункт orbital. Выберите его, чтобы добавить компонент orbital к игровому объекту коллекции кнопок.

![Изображение "Урок 3, раздел 2, шаг 2"](images/Lesson3_Chapter2_step2im.PNG)

>Примечание. При добавлении компонента можно заметить, что система добавляет на вкладке инспектора сценарий orbital и сценарий обработчика решателя, которые являются обязательными. 

3. Чтобы настроить коллекцию кнопок для работы с пользователем, необходимо реализовать следующие корректировки (см. рисунок ниже):
- В скрипте Орбитал задайте для раскрывающегося списка тип ориентации значение только значения нутации. Если установить это значение, только одна ось объекта будет поворачиваться при следовании за пользователем.
- Установите для параметра Local Offset (Локальное смещение) значение 0 для всех осей. Установите для параметра World Offset (Смещение мира) такие значения: x = 0, y = -0,1 и z = 0,6. Это блокирует перемещение объекта таким образом, что при изменении высоты пользователем объект будет оставаться на фиксированной высоте в физической среде, по-прежнему следуя за пользователем, когда пользователь перемещается в среде. Эти значения можно изменить для достижения разнообразных поведений.
- Чтобы выполнить следующее поведение, при котором кнопки следуют только за представлением пользователя после того, как пользователь поменяет свой заголовок, можно установить флажок использовать шаг с заходом для международного смещения (Примечание. На некоторых экранах это название может быть усечено, как на изображении ниже.) Например, чтобы объект следовал за пользователем только через каждые 90 градусов, установите число шагов равное 4 (помечено зеленой стрелкой в примере слева). 

![Изображение "Урок 3, раздел 2, шаг 3"](images/Lesson3_chapter2_step3im.PNG)

### <a name="enabling-objects-to-follow-tracked-hands"></a>Включение объектов для отслеживания руки

В этом разделе мы настроим созданный ранее кубический игровой объект так, чтобы он следовал за отслеживаемыми руками с помощью решателя RadialView.

1. Выберите кубический объект в иерархии BaseScene. Нажмите кнопку Добавить компонент на панели инспектора. 

![Изображение "Урок 3, раздел 3, шаг 1"](images/Lesson3_Chapter3_step1im.PNG)

2. Введите Радиалвиев в поле поиска и выберите компонент Радиалвиев, чтобы добавить его в куб. Компонент обработчика решателя будет также автоматически добавлен в куб.

3. Измените радиальное представление так, чтобы следовать не за головой, а за левой рукой. Выберите раскрывающееся меню рядом с параметром объект Tracked для ссылки. Затем в меню выберите пункт соединение вручную.

![Изображение "Урок 3, раздел 3, шаг 3"](images/Lesson3_chapter3_step3im.PNG)

4. После выбора значения сустава руки вы можете выбрать часть руки, за которой будет следовать куб. Для нашего примера мы выберем запястье. Рядом с параметром соединение с необработанными соединениями Откройте раскрывающееся меню и выберите наладонный. 

![Изображение "Урок 3, раздел 3, шаг 4"](images/Lesson3_chapter3_step4im.PNG)

5. Установите для минимального и максимального расстояния значение 0, чтобы между кубом и запястьем пользователя отсутствовало расстояние. После того как вы установите это значение, куб полностью выровняется с запястьем. Можно также настроить поле Направление ссылки, чтобы скорректировать поведение Куба, например, если вы хотите разрешить объекту вращаться с помощью пользователя, установив направление ссылки для ориентации объекта с отслеживанием.

![Изображение "Урок 3, раздел 3, шаг 5"](images/Lesson3_chapter3_step5im.PNG)

## <a name="congratulations"></a>Поздравляем!
В этом учебнике вы узнали, как использовать поисковые решения МРТК, чтобы пользовательский интерфейс был интуитивно понятен пользователю. Вы также узнали, как присоединить решатель к игровому объекту (например, кубу), чтобы объект следовал за отслеживаемыми руками пользователя. Дополнительные сведения об этих и других решателях в составе MRTK см. на [странице документации о решателях MRTK](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/README_Solver.html).

[Следующий урок. 5.    Взаимодействие с трехмерными объектами](mrlearning-base-ch4.md)

