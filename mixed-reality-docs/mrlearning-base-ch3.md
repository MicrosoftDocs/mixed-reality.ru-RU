---
title: Учебники по началу работы — 4. Размещение динамического содержимого и использование поисковых решений
description: В рамках этого курса вы узнаете, как реализовать функцию распознавания лиц Azure в приложении смешанной реальности.
author: jessemcculloch
ms.author: jemccull
ms.date: 02/26/2019
ms.topic: article
keywords: mixed reality, unity, tutorial, hololens
ms.openlocfilehash: 8275d5a97d7827d34ed3926cabe4032cc7f4cfac
ms.sourcegitcommit: cc61f7ac08f9ac2f2f04e8525c3260ea073e04a7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/11/2020
ms.locfileid: "77129345"
---
# <a name="4-placing-dynamic-content-and-using-solvers"></a>4. размещение динамического содержимого и использование поисковых решений
<!-- Consider renaming to 'Placing dynamic content using Solvers' -->

Голограммы приходят на жизнь в HoloLens 2, когда они интуитивно следуют за пользователем и помещаются в физическую среду таким образом, что упрощает и элегантное взаимодействие. В этом руководстве мы рассмотрим способы динамического размещения голограмм с помощью доступных средств размещения МРТК, известных как поиск решения, для решения сложных сценариев пространственного размещения. В МРТК Поиск решения — это система сценариев и поведений, которая позволяет элементам пользовательского интерфейса следовать за вами, пользователем или другими игровыми объектами в сцене. С их помощью также можно быстро выполнить прикрепление к определенной позиции, что делает приложение интуитивно понятным.

## <a name="objectives"></a>Задачи

* Знакомство с поиском решений МРТК
* Использование поиска решений для работы с набором кнопок после пользователя
* Использование поиска решений для работы с объектом Игры после отслеживания руки пользователя

## <a name="location-of-solvers-in-the-mrtk"></a>Расположение поиска решений в МРТК

 Поисковые решения МРТК находятся в папке пакета SDK МРТК. Чтобы просмотреть доступные решения в проекте, в окне проекта перейдите к разделу **активы** > **микседреалититулкит. SDK** > **функции** > **Служебные программы** > **поиска решения**:

![мрлеарнинг — базовый](images/mrlearning-base/tutorial3-section1-step1-1.png)

В этом учебнике мы рассмотрим реализацию решения Орбитал и решения радиального представления. Дополнительные сведения о полном наборе решений, доступных в МРТК, можно найти в руководстве по [поиску решений](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/README_Solver.html) на [портале документации мртк](https://microsoft.github.io/MixedRealityToolkit-Unity/README.html).

## <a name="use-a-solver-to-follow-the-user"></a>Использование поиска решения для отслеживания пользователя
<!-- Consider renaming to 'Use a Solver to have an object follow the user' -->

В этом разделе вы улучшите коллекцию кнопок, созданную в предыдущем учебном курсе, чтобы она применяет направление взгляда пользователя. Кроме того, вы также настроите Поиск решения, чтобы коллекция кнопок всегда была такой:

* Повернуто параллельно с направлением чтения пользователя, для естественного чтения слева направо
* Размещается немного под направлением горизонтального взгляда, поэтому это не повлияет на другие объекты, которые будут добавлены далее в этом руководстве.
* Размещается приблизительно в половину от пользователя, поэтому кнопки можно легко нажать

Для этого вы будете использовать **Орбитал Solver** , который блокирует объект с заданной позицией и смещением от упоминаемого объекта.

### <a name="1-add-the-orbital-solver"></a>1. Добавление решения Орбитал

В окне Иерархия выберите объект **буттонколлектион** , а затем в окне инспектора нажмите кнопку **Добавить компонент** , чтобы добавить компонент **Орбитал (script)** в объект буттонколлектион.

> [!NOTE]
> При добавлении решения в этом случае компонент Орбитал (script) автоматически добавляется, так как он необходим для поиска решения.

### <a name="2-configure-the-orbital-solver"></a>2. Настройка решения Орбитал

Настройка компонента **обработчика поиска решений (script)** :

* Убедитесь, что для **отслеживающего целевого типа** задано значение **head** .

Настройте компонент **Орбитал (script)** :

* Изменить **тип ориентации** на **следовый объект**
* Сбросить **локальное смещение** до X = 0, Y = 0, Z = 0
* Изменить **мировое смещение** на X = 0, Y =-0,4, Z = 0,3

![мрлеарнинг — базовый](images/mrlearning-base/tutorial3-section2-step2-1.png)

### <a name="3-test-the-orbital-solver-using-the-in-editor-simulation"></a>3. тестирование решения Орбитал с помощью имитации в редакторе

Нажмите кнопку "Воспроизведение", чтобы перейти в режим игры, и нажмите и удерживайте правую кнопку мыши, чтобы повернуть направление взгляда, и обратите внимание на следующее:

* Теперь расположение преобразования Буттонколлектион определяется параметрами поиска решения.
* На куб, который не влияет на поиск решения, остается в той же должности

![мрлеарнинг — базовый](images/mrlearning-base/tutorial3-section2-step3-1.png)

> [!TIP]
> Если в окне сцены не отображается луч камеры, убедитесь, что меню приспособлений включено. Чтобы узнать больше о меню приспособлений и его использовании для оптимизации представления сцены, можно посетить документацию по <a href="https://docs.unity3d.com/Manual/GizmosMenu.html" target="_blank">меню приспособлений</a> Unity.
>
> Чтобы отобразить сцену и игровое окно рядом, как показано на рисунке выше, просто перетащите окно игры на правую сторону окна сцены. Дополнительные сведения о настройке рабочей области см. в документации по <a href="https://docs.unity3d.com/Manual/CustomizingYourWorkspace.html" target="_blank">настройке вашей рабочей области</a> Unity.

## <a name="enabling-objects-to-follow-tracked-hands"></a>Включение объектов для отслеживания руки

В этом разделе вы настроите объект Куба, созданный в предыдущем учебном курсе, чтобы он применяет направленные пользователем руки, в частности, правый ручной. Кроме того, вы также настроите Поиск решения, чтобы куб:

* Изменяет ориентацию с поворотом руки пользователя
* Помещается на себя пользователя

Для этого вы будете использовать **радиальный поисковый** элемент, который сохраняет объект в представлении с конусом, указанным объектом, на который указывает ссылка.

### <a name="1-add-the-radial-view-solver"></a>1. Добавление решения для радиального представления

В окне Иерархия выберите объект **куба** , а затем в окне инспектора нажмите кнопку **Добавить компонент** , чтобы добавить объект куба " **радиальное представление (скрипт)** ".

### <a name="2-configure-the-radial-view-solver"></a>2. Настройка решения для радиального представления

Настройка компонента **обработчика поиска решений (script)** :

* Изменить **тип отслеживания** **несвязных** объектов на соединение
* Изменить **отслеживающую руку** на **правую**
* Изменение **отслеживания соединения руки**

Настройте компонент **радиального представления (скрипт)** :

* Изменить **направление ссылки** на **объектно ориентированный**, установите флажок **ориентации на направление ссылки**
* Изменить **минимальное расстояние** и **Максимальное расстояние** до 0

![мрлеарнинг — базовый](images/mrlearning-base/tutorial3-section3-step2-1.png)

### <a name="3-test-the-radial-view-solver-using-the-in-editor-simulation"></a>3. тестирование решения радиального представления с помощью имитации в редакторе

Нажмите кнопку Воспроизведение, чтобы перейти в режим игры, а затем нажмите и удерживайте клавишу пробел, чтобы отобразить руку. Наведите курсор мыши, чтобы переместить руку, и нажмите и удерживайте левую кнопку мыши, чтобы повернуть руку:

![мрлеарнинг — базовый](images/mrlearning-base/tutorial3-section3-step3-1.png)

## <a name="congratulations"></a>Поздравляем!

В этом учебнике вы узнали, как использовать поисковые решения МРТК, чтобы пользовательский интерфейс был интуитивно понятен пользователю. Вы также узнали, как присоединить поисковый элемент к объекту (т. е. Кубу), чтобы отслеживать руки пользователя. Дополнительные сведения об этих и других решениях, входящих в состав МРТК, можно найти в руководстве по [поиску решений](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/README_Solver.html) на [портале документации мртк](https://microsoft.github.io/MixedRealityToolkit-Unity/README.html).

[Следующее руководство: 5. взаимодействие с трехмерными объектами](mrlearning-base-ch4.md)
