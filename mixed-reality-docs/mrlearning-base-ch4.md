---
title: Модуль MR обучения Base - взаимодействия трехмерного объекта
description: Выполните этот курс, чтобы узнать, как реализовать распознавание лиц Azure в приложениях смешанной реальности.
author: jessemcculloch
ms.author: jemccull
ms.date: 02/26/2019
ms.topic: article
ms.localizationpriority: high
keywords: Смешанная реальность, unity, руководство, hololens
ms.openlocfilehash: 45e772de0825fe2161f880a165d6c75c755b849e
ms.sourcegitcommit: 1c0fbee8fa887525af6ed92174edc42c05b25f90
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/16/2019
ms.locfileid: "65730908"
---
# <a name="mr-learning-base-module---3d-object-interaction"></a>Модуль MR обучения Base - взаимодействия трехмерного объекта

На этом занятии будут рассмотрены основные трехмерного содержимого и взаимодействие с пользователем. Мы узнаете, как организовать трехмерные объекты как часть коллекции, узнайте о ограничивающих прямоугольников для базовые возможности управления, Дополнительные сведения о взаимодействии ближней и дальней и Дополнительные сведения о touch и взять жесты рукой отслеживания. 

## <a name="objectives"></a>Цели

* Узнайте, как организовать трехмерного содержимого с помощью коллекции объектов MRTK элемента сетки
* Реализуйте, ограничивающих прямоугольников
* Настройка трехмерных объектов для базовые возможности управления (перемещения, поворота и масштабирования)
* Изучите ближней и дальней взаимодействия
* Дополнительные сведения о дополнительных вручную отслеживания жестов, например захвата и сенсорного ввода

## <a name="instructions"></a>Инструкция

### <a name="organizing-3d-objects-in-a-collection"></a>Упорядочение трехмерных объектов в коллекции

1. Щелкните правой кнопкой мыши на иерархии и выбрать, «создать пустой». Это создает пустой объект игр. Переименуйте его в «3DObjectCollection.» Это связано с котором мы разместим все наши трехмерных объектов. Убедитесь, что размещение в коллекции имеет значение x = 0, y = 0 и z = 0.

![Lesson4 Chapter1 Step1im](images/Lesson4_Chapter1_step1im.PNG)

2. Импортировать BaseModule активы используя те же инструкции, чтобы импортировать пользовательские пакеты описанные в [занятия 1](mrlearning-base-ch1.md). Активы BaseModule включить 3D модули и другие полезные сценарии, которые будут использоваться в этом руководстве. Пакет unity BaseModule можно найти здесь: <https://github.com/Microsoft/MixedRealityLearning/releases/tag/V1.1>

3. Голубой куб рядом с ним может быть распознана prefab чашку кофе. Не устанавливайте чашку кофе с голубой куб и небольших Технический документ (который обозначает заданы и не prefab.) 

![Lesson4 Chapter1 Noteaim](images/Lesson4_chapter1_noteaim.PNG)

4. Перетащите prefab чашку кофе по своему усмотрению в объекте игр «3DObjectCollection» из шага 1. Чашку кофе теперь является дочерним элементом коллекции.

![Lesson4 Chapter1 Step4ima](images/Lesson4_chapter1_step4ima.PNG)

5. Далее мы добавим дополнительные трехмерных объектов в нашей сцены. Ниже приведен список объектов, которые мы собираемся добавить в этом примере. При добавлении объектов может оказаться, что они отображаются в сцене в различных размеров. Измените масштаб каждой трехмерной модели в параметре "преобразование" на панели инспектора. С объектами, описанными ниже, перечислены рекомендуемые настройки для этого примера. Найдите эти слова в поле поиска на панели «проект» и перетащите трехмерного объекта prefab в объекте «3DObjectCollection», аналогичную предыдущего шага. Эти коллекции prefabs вы найдете в средства > BaseModuleAssets > базового модуля Prefabs
- Поиск «TheModule_BaseModuleIncomplete.» Перетащите в сцене. Установите масштаб для x = 0,03, y = 0,03, z = 0,03. 
- Поиск «Octa_BaseModuleIncomplete.» Перетащите в сцене. Установите масштаб для x = 0,13. y = 0,13, z = 0,13.
- Поиск «EarthCore_BaseModuleIncomplete.» Перетащите в сцене. Установите масштаб для x = 50,0 y = 50,0, z = 50,0.
- Поиск «Cheese_BaseModuleIncomplete.» Перетащите в сцене. Установите масштаб для x = 0,05, y = 0,05, z = 0,05.
- Поиск «Model_Platonic_BaseModuleIncomplete.» Перетащите в сцене. Установите масштаб для x = 0,13, y = 0,13, z = 0,13.
- Поиск «CoffeeCup_BaseModuleIncomplete.» Перетащите в сцене.

![Lesson4 Chapter1 Step5im](images/Lesson4_Chapter1_step5im.PNG)

6. Добавьте 3 кубы в сцены. Щелкните правой кнопкой мыши объект «3DObjectCollection», выберите «трехмерный объект», а затем выберите «Куб». Установите масштаб для x = 0,14, y = 0,14 и z = 0,14. Повторите этот шаг 2 дополнительных экземплярах для создания общей сложности состоит из 3 кубов. Кроме того вы может привести к повторным куба дважды в течение 3 кубов. Вы также можете использовать три prefabs подготовленного куба из ресурсов > BaseModuleAssets > Prefabs базовый модуль и выберите GreenCube_BaseModuleIncomplete, BlueCube_BaseModuleIncomplete и OrangeCube_BaseModuleIncomplete.

![Lesson4 Chapter1 Step6im](images/Lesson4_Chapter1_step6im.PNG)

7. Упорядочить вашей коллекции объектов в форме сетки, выполнив процедуру, описанную в [Урок 2](mrlearning-base-ch2.md) с использованием коллекции объектов MRTK сетки. См. на рисунке ниже, чтобы ознакомиться с примером настройки объектов в сетке 3 x 3.

![Lesson4 Chapter1 Notebim](images/Lesson4_chapter1_notebim.PNG)

>Примечание. Вы можете заметить, что некоторые объекты являются off центра, как объекты в приведенном выше рисунке. Это обусловлено prefabs или объекты могут иметь дочерних объектов, которые не согласованы. Вы можете внести все необходимые изменения для объекта позиции или позиций дочерний объект для достижения четко выровненные сетки.


### <a name="manipulating-3d-objects"></a>Обработка трехмерных объектов
1. Добавьте возможность работать с кубом. Чтобы добавить возможность работать с трехмерными объектами, необходимо выполнить следующие действия:
-   Выберите трехмерный объект, который вы хотите управлять в иерархии (в этом примере одно из кубов).
-   Нажмите кнопку «Добавить компонент». 
-   Поиск «управление».
-   Выберите «обработчик манипуляции».
-   Повторите эти действия для всех трехмерных объектов в объекте «3DObjectCollection», но не «3DObjectCollection» сам.
-   Обеспечить все трехмерные объекты collider или collider поле (Добавить компонент > поле collider).

![Lesson4 Chapter2 Step1im](images/Lesson4_chapter2_step1im.PNG)

>Обработчик манипуляции — это компонент, который позволит вам настроить параметры для поведение объектов при производится изменение состояния. Сюда входят, поворота, масштабирования, перемещения и ограничивающий перемещения на определенных осей. 

2. Ограничения одного куба, таким образом, чтобы он может масштабироваться. Выберите один куб в объекте «3DObjectCollection». На панели Инспектора рядом с «два выдан манипуляции type», щелкните стрелку раскрывающегося меню и выберите «масштабирование». Это позволяет таким образом, пользователь может изменить только размер куба.

![Lesson4 Chapter2 Step2im](images/Lesson4_Chapter2_step2im.PNG)

3. Измените цвет каждого куба, таким образом, мы может различать между ними. 
-   Перейдите на панель «проект» и прокрутите вниз до см. в разделе «MixedRealityToolkit.SDK», а затем выберите его.
-   Выберите папку «Стандартных активов».
-   Щелкните папку «материалы».
-   Перетащите другой материал на каждой из кубов. 

>Примечание. Можно выбрать любой цвет для кубов. В нашем примере мы собираемся использовать «glowingcyan», «glowingorange» и «зеленый». Вы можете экспериментировать с различными цветами. Чтобы добавить цвет в куб, выберите куб, чтобы изменить цвет, а затем перетащите материал для поля material модуль подготовки отчетов сетки панели Инспектора куба. 

![Lesson4 Chapter2 Step3im](images/Lesson4_Chapter2_step3im.PNG)

4. Выберите другого куба в объекте «3DObjectCollection» и сделать так, чтобы его перемещение ограничен расстояние исправления из головы. Чтобы сделать это, в правой части «ограничение на перемещения», выберите в раскрывающемся списке и выберите «исправить расстояние из головы.» Это позволяет таким образом, пользователь может перемещать только куб в их поле зрения. 

![Lesson4 Chapter2 Step4im](images/Lesson4_chapter2_step4im.PNG)

Цель несколько следующих шагов: Мы обеспечим захвата и взаимодействия с нашей трехмерные объекты. Мы применяем параметры различных манипуляции 

5. Выберите объект сыр и на панели инспектора, нажмите кнопку «Добавить компонент». 

6. Поиск в поле поиска «Соседние взаимодействия Grabbable» и выберите сценарий. Этот компонент позволяет пользователям получить доступ и получить объекты с отслеживаемых руки. Объекты также могут обрабатываться на расстоянии, если флажок «Разрешить гораздо манипуляции» снят (обозначается зеленый кружок на рисунке ниже).

![Lesson4 Chapter2 Step6im](images/Lesson4_Chapter2_step6im.PNG)

7. Добавьте «Рядом с взаимодействия Grabbable» являются восьмеричным объекта платоновыми объекта, core земли, модуль лунного и чашку кофе, повторив шаги 5 и 6 для этих объектов.

8. Удалите возможность удаленной обработки из объекта являются восьмеричным. Чтобы сделать это, выберите являются восьмеричным в иерархии и снимите флажок «Разрешить дальней манипуляции» (помеченная окружностью зеленый). Это позволяет, чтобы пользователей может взаимодействовать только с являются восьмеричным, напрямую с помощью отслеживаемых руки.

>Примечание. Для компонента обработчика манипуляции и его полную документацию, связанные параметры, обратитесь к [MRTK документации](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/README_ManipulationHandler.html).

9. Убедитесь, что компонент «Рядом с взаимодействия Grabbable» ядро земли, модуль лунного и чашку кофе (см. шаг 7).

10. Для модуля лунного измените обработчик манипуляции параметры таким образом, чтобы он поворачивается вокруг центра для обоих практически объекта и дальней взаимодействия, как показано на рисунке ниже.

![Lesson4 Chapter2 Step10im](images/Lesson4_chapter2_step10im.PNG)

11: Базовая земли, изменить поведение выпуска, чтобы «nothing». Это позволяет таким образом, чтобы после выпуска основной earth из пользователей может воспользоваться его не продолжит движение. 

![Lesson4 Chapter2 Step11im](images/Lesson4_Chapter2_step11im.PNG)

> Примечание. Этот параметр полезен для сценариев, таких как создание шара, которые могут создавать исключение. Скорость и угловую скорость позволяет таким образом, чтобы после выхода шар, она будет продолжать move скоростью, было выпущено в, как и как будет вести себя физических шар.

### <a name="adding-bounding-boxes"></a>Добавление, ограничивающих прямоугольников
Ограничивающие прямоугольники упростить и более интуитивно понятным для управления объектами с одной стороны, для прямого управления (рядом с правым взаимодействия) и на основе Рэй манипуляции (дальней взаимодействия). Ограничивающие прямоугольники предлагают «маркеры», которые можно захватить для масштабирования или вращения объектов по определенной оси.
>Примечание. Перед добавлением ограничивающий прямоугольник для объекта, нужно сначала имеет collider на объект (например, поле collider.) Как и ранее на этом занятии. Можно добавить colliders панели Инспектора объекта, выберите Добавить компонент и выберите объект > Collider поле.
>

1. Добавьте поле collider earth основного объекта, если он уже существует (поле collider и программа установки не требуется, если с помощью готового блока, в папке средств модуля базы за инструкциями, приведенными.) В случае core Земли нам потребуется добавить collider поле в объекте «node_id30» под core земли, как показано на рисунке ниже. Выберите node_id30 и на вкладке инспектора объекта, щелкните «Добавить компонент» и выполните поиск «поле collider». 

![Lesson4 Chapter3 Step1im](images/Lesson4_Chapter3_step1im.PNG)

![Lesson4 Chapter3 Step2im](images/Lesson4_chapter3_step2im.PNG)

> Примечание. Убедитесь, что визуализация collider поле, так как это не слишком велик или мал. Он должен содержать примерно же размера, что объект, который он вокруг (в этом примере earth core). При необходимости, выбрав параметр collider "Изменить" в поле collider, измените поле collider. Вы можете изменить x, y и z значения или перетащите ограничивающий обработчики в окне редактора сцены. 

![Lesson4 Chapter3 Noteim](images/Lesson4_Chapter3_noteim.PNG)

2. Добавьте ограничивающего объект ядро earth «node_id30». Чтобы сделать это, выберите объект «node_id30» в «3DObjectCollection.» На вкладке инспектор щелкните «Добавить компонент» и выполните поиск «ограничивающий прямоугольник.» Убедитесь, что ограничивающий прямоугольник, поле collider и скрипты управления данными (обработчик манипуляции, практически взаимодействия grabbable) находятся на один и тот же объект игр.

3.  В разделе «Поведение» ограничивающий прямоугольник выберите «Активация при запуске» из раскрывающегося списка активации. Чтобы просмотреть дополнительные сведения о различных параметров активации и других параметров ограничивающий, см. в разделе [MRTK ограничивающий документации по box](<https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/README_BoundingBox.html>)

   

   *В следующих шагах мы также изменит вид ограничивающий прямоугольник, Настройка материал поле по умолчанию, материал, хотя он забираются, а также визуализацию дескрипторов (маркеры углов и сторона). MRTK содержит несколько параметров для настройки ограничивающего прямоугольника.*

4. На панели «проект» для поиска «boundingbox» и вы увидите список материалов, обозначенное с помощью синего сферы в результатах поиска, как показано на рисунке ниже. 

5. Перетащите материал «boundingbox» в слоте материала поле ограничивающий компонента. Также захватите материал «boundingboxgrabbed» и поместить ее в слоте grabbed материала поле в компоненте ограничивающий поле.

6. Перетащите материал «MRTK_BoundingBox_ScaleWidget» в слоте prefab дескриптор масштабирования ограничивающий компонента. 

7. Перетащите материал «MRTK_BoundingBox_RotateWidget» в слоте маркер поворота в компоненте поле резервирование.

![Lesson4 Chapter3 7Im шаг 4](images/Lesson4_chapter3_step4-7im.PNG)

8. Убедитесь, что ограничивающий прямоугольник предназначен правый объект. В компоненте ограничивающий поле является «целевой объект» и «ограничивающий переопределение» скрипты. Обязательно перетащите объект, имеющий ограничивающий прямоугольник вокруг него на оба эти слоты. В этом примере перетащите объект «node_id30» в обоих этих слотов, как показано на рисунке ниже.

> При запуске или приложение, объект теперь быть окружен синей рамке. Мы всегда рады перетащите углы рамки для изменения размера объекта. Если мы хотим дескрипторы масштабирования и поворота дескрипторы увеличить и более видимым, мы рекомендуем использовать по умолчанию, ограничивающего прямоугольника в Box (Предотвращение шаги 4 – 7). 

![Lesson4 Chapter3 Step8im](images/Lesson4_Chapter3_step8im.PNG)

9. Чтобы вернуться в окно визуализации, панели Инспектора объекта ограничивающий прямоугольник, ограничивающий значение по умолчанию выберите готового блока маркера поворота и нажмите клавишу delete, теперь вы увидите ограничивающий поля визуализации, как показано на рисунке ниже. Примечание: ограничивающий визуализации поле отображается только при работе в режиме воспроизведения.

![Lesson4 Chapter3 Step9im](images/Lesson4_chapter3_step9im.PNG)

### <a name="adding-touch-effects"></a>Добавление эффектов сенсорного ввода
В этом примере мы собираемся воспроизведение звукового сигнала при touch объект с вашей стороны.

1. Добавление компонента источника звуковых игр объекта. Выберите объект «являются восьмеричным» в иерархии сцены. На панели Инспектора нажмите кнопку «Добавить компонент», найдите и выберите «аудиоисточник.» Мы будем использовать этот источник звука для воспроизведения звуковых эффектов на более позднем этапе. 

>Примечание. Убедитесь, что объект «Являются восьмеричным» имеет collider поле на нем.

2. Добавьте компонент «рядом с физические взаимодействие». Нажмите кнопку «Добавить компонент» в панели инспектора и найдите «практически физические взаимодействие». Выберите его, чтобы добавить компонент. Примечание: исправьте снимок экрана для выделения, что мы добавления компонента и не только выделение collider поле.

>Примечание. Ранее мы добавили «практически взаимодействие grabbable.» Разница между этим и «near взаимодействия физические» — что «grabbable» взаимодействие предназначен для объекта взял и взаимодействовать с. «Физические» компонент предназначен для объекта затрагивает. Оба компонента могут использоваться совместно для сочетания взаимодействий.

![Lesson4 Chapter4 2Im шаг 1](images/Lesson4_chapter4_step1-2im.PNG)

3. Добавьте в сценарий «передать сенсорного взаимодействия». Обратите внимание, что этот сценарий входит в состав которого импортируется как часть этого пакета Демонстрация сцене unity, и он не включен в исходный MRTK. Так же как и в предыдущем шаге, нажмите кнопку «Добавить компонент» и выполните поиск «вмешательства вручную взаимодействия» для добавления. 
   Обратите внимание на то, что имеется три варианта с помощью сценария: 

   - «На касания завершена.» При этом начинается, когда touch и освободить объект. 
   - «На сенсорной работы.» При этом начинается при касании объекта. 
   - «На касания обновлен.» Активирует периодически, пока руке касается объекта. 

   В этом примере мы будем работать с параметром «on сенсорного ввода к работе».

4. Нажмите кнопку «+» на параметр «на сенсорного ввода к работе», как показано на рисунке ниже. Перетащите объект являются восьмеричным в пустое поле. 

5. В раскрывающемся списке с текстом «нет функции» (выше зеленый прямоугольник на рисунке ниже), выберите AudioSource > PlayOneShot. Мы добавим аудиоклип в это поле, с помощью ниже понятия:

   - MRTK предоставляют небольшой список аудиоклипов. Вы можете изучить их в панели «проект». Их можно найти в папке «MixedRealityToolkit.SDK», а затем папку «стандартных активов». Вы увидите следующие сведения «аудио» папку, где все аудиоклипов.
   - В этом примере мы собираемся использовать аудиоклипа «MRTK_Gem». 
   - Добавление аудиоклип, просто перетащите клип из панели «проект» в AudioSource.PlayOneShot (отмечаются зеленой рамкой на приведенном выше примере) на панели инспектора.

   Теперь когда пользователь достигает и касается объекта являются восьмеричным, будет воспроизводиться звуковой дорожки «MRTK_Gem». Сценарий «Touch взаимодействия вручную» также настроит цвет объекта, при касании. 

![Этап 3 Chapter4 Lesson4 5 Noteim](images/Lesson4_chapter4_step3-5-noteim.PNG)

### <a name="congratulations"></a>Поздравляю 
В этом уроке вы узнали, как организовать трехмерных объектов в коллекции сетки и как трехмерными объектами (масштабирование, поворот и перемещение) с помощью взаимодействия (получения непосредственно с отслеживаемого руки) и дальней взаимодействия (с помощью лучи взглядом или наличии лучей.) Вы также узнали, как поместить ограничивающие прямоугольники вокруг трехмерных объектов и узнали, как использовать и настраивать элементы на ограничивающие прямоугольники. Наконец вы узнали, как инициировать события при касании объекта.

[Следующее занятие: Дополнительные возможности ввода данных](mrlearning-base-ch5.md)

