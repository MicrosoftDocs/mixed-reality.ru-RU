---
title: Установление безопасного подключения с помощью удаленного взаимодействия с holographic
description: На этой странице объясняется, как установить безопасное зашифрованное соединение при использовании удаленного взаимодействия с Holographic.
author: florianbagarmicrosoft
ms.author: flbagar
ms.date: 03/11/2020
ms.topic: article
keywords: HoloLens, удаленное взаимодействие, удаленное взаимодействие с holographic
ms.openlocfilehash: 4006a317ed2ecfd7a1e67336a80a4e536d45e554
ms.sourcegitcommit: d6ac8f1f545fe20cf1e36b83c0e7998b82fd02f8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/14/2020
ms.locfileid: "81278232"
---
# <a name="establishing-a-secure-connection-with-holographic-remoting"></a>Установление безопасного подключения с помощью удаленного взаимодействия с holographic

>[!IMPORTANT]
>Это руководство относится к удаленному взаимодействию с HoloLens 2.

На этой странице объясняется, как установить безопасное зашифрованное соединение при использовании удаленного взаимодействия с Holographic.

При потоковой передаче содержимого в HoloLens 2 по незащищенной сети, такой как открытый Wi-Fi или Интернет, настоятельно рекомендуется использовать зашифрованное соединение.

>[!IMPORTANT]
>Даже при использовании доверенного локального WiFi, использующего зашифрованное соединение, следует учитывать.

Чтобы иметь возможность использовать зашифрованное соединение, необходимо реализовать [пользовательский проигрыватель](holographic-remoting-create-player.md) и [настраиваемое удаленное приложение](holographic-remoting-create-host.md).

Шифрование достигается с помощью реализации TLS базовых платформ.

## <a name="basics-of-an-encrypted-connection"></a>Основные сведения о зашифрованном соединении

Чтобы обеспечить обмен сертификатами, необходимо реализовать следующие объекты.

>[!TIP]
>Реализация интерфейсов WinRT можно легко выполнить с C++помощью/винрт. Этот раздел подробно описан в [API-интерфейсах C++автора с/WinRT](https://docs.microsoft.com//windows/uwp/cpp-and-winrt-apis/author-apis) .

>[!IMPORTANT]
>```build\native\include\HolographicAppRemoting\Microsoft.Holographic.AppRemoting.idl``` в пакете NuGet содержит подробную документацию по API, связанному с защищенными соединениями.

1) Объект сертификата, который должен реализовывать интерфейс ```ICertificate```.

    * Верните двоичное содержимое PFX-сертификата с помощью метода ```GetCertificatePfx```. То же, что и двоичное содержимое PFX-файла.
    * Верните имя субъекта сертификата с помощью ```GetSubjectName```.
    * Верните пароль PFX-файла с помощью ```GetPfxPassword```. Возвращает пустую строку для незащищенного PFX.

2) Поставщик сертификатов, реализующий интерфейс ```ICertificateProvider```, который предоставляет сертификат при запросе через метод ```GetCertificate```.

3) Средство проверки сертификатов, реализующее интерфейс ```ICertificateValidator```. Задача заключается в проверке входящих сертификатов.
    * Метод ```PerformSystemValidation``` должен возвращать ```true```, если базовая платформа должна проверить входящую цепочку сертификатов, ```false``` в противном случае.
    * ```ValidateCertificate``` вызывается контекстом клиента для запроса проверки сертификата. Этот метод принимает цепочку сертификатов (с первым сертификатом, который является сертификатом субъекта), имя сервера, с которым устанавливается подключение, и следует ли принудительно выполнять проверку отзыва. Результат проверки системы будет предоставлен, если была запрошена проверка базовой системой. Чтобы продолжить обработку либо ```CertificateValidated``` с соответствующим результатом, либо ```Cancel```, чтобы отменить проверку, необходимо вызвать для переданного ```ICertificateValidationCallback```.

Кроме того, чтобы разрешить обмен защищенным маркером, необходимо реализовать следующие объекты.

1) Поставщик проверки подлинности, реализующий интерфейс ```IAuthenticationProvider```. Его ```GetToken``` метод вызывается контекстом клиента для запроса маркера для проверки подлинности клиента. Чтобы продолжить, ```TokenReceived``` для предоставления маркера проверки подлинности и продолжения процесса подключения или ```Cancel```, чтобы отменить процесс, необходимо вызвать для переданного ```IAuthenticationProviderCallback```.
2) Получатель проверки подлинности, реализующий интерфейс ```IAuthenticationReceiver```. Задача заключается в проверке входящих токенов.
    * Метод ```GetRealm``` должен возвращать имя области проверки подлинности.
    * Метод ```ValidateToken``` вызывается сетевым контекстом сервера для запроса проверки маркера проверки подлинности клиента. Чтобы продолжить, вызовите ```ValidationCompleted```, чтобы сообщить о завершении проверки или ```Cancel```, чтобы отклонить клиентское подключение. Клиентское соединение будет допущено или отклонено в зависимости от результата проверки, переданного в ```ValidationCompleted```. 

После реализации этих объектов ```ListenSecure``` необходимо вызывать вместо ```Listen``` и ```ConnectSecure```, а не ```Connect``` в контексте удаленного контекста и проигрывателя соответственно. для ```ListenSecure``` требуется дополнительный поставщик сертификатов и получатель проверки подлинности при ```Listen```. для ```ConnectSecure``` требуется дополнительный поставщик проверки подлинности и средство проверки сертификатов для ```Connect```.

## <a name="see-also"></a>См. также
* [Создание удаленного приложения holographic с удаленным взаимодействием](holographic-remoting-create-host.md)
* [Написание пользовательского приложения для удаленного взаимодействия holographic](holographic-remoting-create-player.md)
* [Устранение неполадок и ограничения удаленного взаимодействия с holographic](holographic-remoting-troubleshooting.md)
* [Условия лицензии на использование ПО для голографического удаленного взаимодействия](https://docs.microsoft.com//legal/mixed-reality/microsoft-holographic-remoting-software-license-terms)
* [Заявление о конфиденциальности Майкрософт](https://go.microsoft.com/fwlink/?LinkId=521839)
