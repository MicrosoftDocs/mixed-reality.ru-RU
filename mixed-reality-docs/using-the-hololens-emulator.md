---
title: С помощью эмулятора HoloLens
description: Эмулятор HoloLens позволяет тестировать приложения для смешанной реальности компьютера без физического HoloLens.
author: pbarnettms
ms.author: pbarnett
ms.date: 04/25/2019
ms.topic: article
ms.localizationpriority: high
keywords: HoloLens, эмулятор
ms.openlocfilehash: 0dfca73e6c8e1809e1bea3df6ca344b3de0698d5
ms.sourcegitcommit: 1c0fbee8fa887525af6ed92174edc42c05b25f90
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/16/2019
ms.locfileid: "65730920"
---
# <a name="using-the-hololens-emulator"></a>С помощью эмулятора HoloLens

Эмулятор HoloLens позволяет тестировать holographic приложения на ПК без физического HoloLens и поставляется с набором инструментов разработки HoloLens. Эмулятор использует на виртуальной машине Hyper-V. Входные данные человеком, так и окружающей среды, которые обычно прочитать датчиков на HoloLens вместо моделируются с помощью клавиатуры, мыши или геймпад Xbox. Приложения не нужно изменять их для выполнения в эмуляторе и не знаете, что они не выполняются на реальных HoloLens.

Если вам нужны для разработки Windows Mixed Reality мощных приложений на Гарнитура (VR) или игры для настольных ПК, см. статью [симулятор Windows Mixed Reality](using-the-windows-mixed-reality-simulator.md), что позволяет имитировать рабочего стола гарнитуры, вместо этого.


## <a name="installing-the-hololens-emulator"></a>Установка эмулятора HoloLens
Скачайте эмулятор HoloLens и шаблоны проектов holographic.

Версии: 
* [Эмулятор 2 HoloLens и шаблоны проектов holographic](https://go.microsoft.com/fwlink/?linkid=2087187).
* [Эмулятор HoloLens (1-го поколения) и шаблоны проектов holographic](https://go.microsoft.com/fwlink/?linkid=2065980).

Эмулятор HoloLens предыдущих сборок можно найти на [HoloLens эмулятор архив](hololens-emulator-archive.md) страницы.

### <a name="hololens-emulator-system-requirements"></a>Требования к системе для эмулятора HoloLens

HoloLens эмулятор использует Hyper-V с RemoteFx (1-го поколения эмулятора) или GPU-PV (эмулятор 2 HoloLens) для аппаратно ускоренной графики. Чтобы использовать эмулятор, убедитесь, что компьютер соответствует этим требованиям оборудования:
* 64-разрядной Windows 10 Pro, Корпоративная или для образовательных учреждений 
    >[!NOTE]
    >Windows 10 Домашняя выпуск не поддерживает Hyper-V или в эмуляторе HoloLens.  
    >Эмулятору 2 HoloLens требуется обновление Windows 10 октября 2018 года или более поздней версии.
* 64-разрядный ЦП
* ЦП с 4 ядра (или нескольких процессоров с 4 ядер)
* 8 ГБ ОЗУ или больше
* В BIOS, должны быть следующие компоненты [поддерживается и не включены](http://blogs.technet.com/b/iftekhar/archive/2010/08/09/enable-hardware-settings-in-bios-to-run-hyper-v.aspx):
   * Аппаратная виртуализация
   * Преобразование адресов второго уровня (SLAT)
   * Аппаратное предотвращение выполнения данных (DEP)
* Требования к GPU
   * DirectX 11.0 или более поздней версии
   * Графический драйвер WDDM 1.2 или более поздней версии (1-го поколения)
   * Графический драйвер WDDM 2.5 (эмулятор 2 HoloLens)
   * Эмулятор может работать с неподдерживаемые GPU, но будет выполняться значительно медленнее

Если ваша система отвечает указанные выше требования, **убедитесь, что в системе включен компонент «Hyper-V»** через панель управления -> программы -> программы и компоненты "->" Включение компонентов Windows на или из системы "->" Убедитесь, что для успешной установки эмулятора выбрано «Hyper-V».

## <a name="deploying-apps-to-the-hololens-emulator"></a>Развертывание приложения в эмуляторе HoloLens

1. Загрузите решение приложения в Visual Studio.
    >[!NOTE]
    >При использовании Unity, сборки проекта из Unity, а затем загрузить созданные решения в Visual Studio обычным образом.
2. Для HoloLens эмулятора (1-го поколения), установите платформу **x86**. Имеет значение для эмулятора 2 HoloLens убедитесь платформы **x86** или **x64**.
3. Выберите нужный **HoloLens эмулятор** версию, что целевое устройство для отладки.
4. Перейдите к **Отладка > Начать отладку** или нажмите клавишу **F5** запустите эмулятор и развернуть приложения для отладки.

Эмулятор может занять около минуты, для загрузки при первом запуске. Мы рекомендуем сохранить эмулятор открытым во время сеанса отладки, вы можете быстро развертывать приложения в работающем эмуляторе.

## <a name="basic-emulator-input"></a>Базовый эмулятор входных данных

Управление эмулятором очень похожа на многих распространенных трехмерные игры. Доступно входных параметров с помощью клавиатуры, мыши или геймпад Xbox. Эмулятор управления путем направления действий виртуального пользователя носить HoloLens. Действия перемещения, что корректировки моделируемой пользовательской решения и приложения, работающие в эмуляторе отвечать, как это было бы на физическом устройстве.

Курсор на HoloLens (1-го поколения) соответствует перемещения и поворота.  В эмуляторе 2 HoloLens курсор после перемещения вручную и ориентацию.

* **Пошаговые инструкции вперед, назад, влево и правой кнопкой мыши** -использовать W, A, S и D клавиши на клавиатуре или левой палочка на контроллере Xbox.
* **Поиск, вниз, влево и правой кнопкой мыши** -щелкните и перетащите указатель мыши, клавиши со стрелками на клавиатуре или правом палочка на контроллере Xbox.
* **Воздух жеста касания** — щелкните правой кнопкой мыши, нажмите клавишу ВВОД на клавиатуре или использовать объект кнопки на контроллере Xbox.
* **Раскрытия/системный жест** - нажмите клавишу Windows или клавишу F2 на клавиатуре, или нажмите кнопку "B" на контроллере Xbox.
* **Передать перемещения для прокрутки** - удерживайте клавишу Alt, удерживайте правой кнопкой мыши и перетащите указатель мыши, или в контроллер Xbox удерживайте правильный триггер и кнопка и перемещать правой палочка вверх и вниз.
* **Передать перемещения и ориентацию** (HoloLens 2 только в эмуляторе) - удерживайте клавишу Alt и перетащите указатель мыши вверх, вниз, влево и вправо, чтобы переместить Рука или использовать клавиши со стрелками и Q / E для вращения и наклона Рука.  Для контроллера Xbox хранения прокладкой влево или вправо и используйте левый джойстик для перемещения Рука левой, правой, вперед и назад, правом джойстик для поворота и вверх / вниз на Dpad повысить или понизить Рука.

## <a name="anatomy-of-the-hololens-2-emulator"></a>Анатомия эмулятор HoloLens 2 

### <a name="main-window"></a>Главное окно

![Главное окно эмулятора 2 HoloLens](images/emulator2-900px.png)

### <a name="toolbar"></a>панель инструментов;

В правой части главного окна вы найдете панели инструментов эмулятора. Панель инструментов содержит следующие кнопки:
* ![Значок закрытия](images/emulator-close.png) **закрыть**: Закрывает эмулятора.
* ![Значок свертывания](images/emulator-minimize.png) **свернуть**: Сворачивает окно эмулятора.
* ![Simulation_icon](images/emulator-simulation-panel.png) **панели управления моделирования**: Показать или скрыть [панели управления моделирования](#simulation-control-panel) за настройку и управление [набор входных данных для эмулятора](#basic-emulator-input).
* ![По размеру экрана значок](images/emulator-fit.png) **по размеру экрана**: Устанавливает размер экрана в эмуляторе.
* ![Значок масштаба](images/emulator-zoom.png) **масштаб**: Эмулятор убедитесь в том случае, более крупные и мелкие.
* ![Значок справки](images/emulator-help.png) **помочь**: Открыть справку эмулятора.
* ![Открытое устройство портала значок](images/emulator-deviceportal.png) **открыть портал устройства**: Откройте Windows Device Portal для HoloLens операционной системы в эмуляторе.
* ![Значок средства](images/emulator-tools.png) **средства**: Откройте **дополнительные средства** области.

### <a name="simulation-control-panel"></a>Панель управления моделирования

Моделирование панели управления позволяет просматривать текущее положение и ориентацию имитации человеком, так и имитации устройств ввода.  Его также можно настроить как входные, имитации, например отображение или скрытие одного или обоих руки и устройства, используемые для управления имитации входных данных, таких как клавиатура, мышь и игровой компьютера.

![Панель управления моделирования](images/emulator-simulation-control-panel.png)

* Чтобы скрыть или Показать панель моделирование, нажмите кнопку панели инструментов или нажмите клавишу F7 на клавиатуре.
* Наведите указатель мыши элемент управления или поле для отображения всплывающей подсказки, содержащий клавиатуры и мыши игровой элементы управления для него.
* Чтобы отобразить или скрыть форму руки, переключите соответствующий параметр в области слева или справа.
* Для управления Рука, используйте либо Alt слева и справа нажмите сочетание клавиш на клавиатуре или прокладкой влево или вправо, на игровой.
* Чтобы задать для всех входных данных для одного или обоих руки, нажмите кнопку канцелярской кнопки под переключатель.  Это эквивалент удерживая нажатой клавишу Alt для руки.
* Для управления направлением взглядом глаза, щелкните значок канцелярской кнопки в разделе «Глаз».  Это эквивалент удерживая нажатой клавишу «Y» на клавиатуре.
* Чтобы загрузить комнаты записи, нажмите кнопку «Загрузка» в разделе «Запись».  См. в разделе [simulated комнаты](#simulated-rooms) Дополнительные сведения.
* Изменение скорости, имитации людьми или имитации устройств ввода будет перемещения или поворота в соответствии с клавиатуры, мыши или игровой входных данных, щелкните значок шестеренки рядом с «Входные параметры» и настройте ползунки.
* По умолчанию ввод с клавиатуры управляет имитации ввода человеком, так и имитации.  Чтобы ввод с клавиатуры компьютера отправлены по HoloLens, снимите флажок «Использование клавиатуры для моделирования».  F4 — это сочетание клавиш для этого параметра.
* Если панель моделирования уже отображается, нажмите клавиши F8 будет переместить фокус клавиатуры в нее.
* Чтобы отменить закрепление на панели моделирования из окна эмулятор, нажмите кнопку в нижней части панели или нажмите клавишу F9 на клавиатуре.  При закрытии окна или нажав клавишу F9, снова вернет окна в эмуляторе.
* На панели управления моделирования, которые могут запускаться как отдельное приложение, что позволяет подключиться к и управления эмулятора 2 HoloLens, устройство HoloLens 2 или Windows Mixed Reality моделирования, выполнив PerceptionSimulationInput.exe из папки % ProgramFiles(x86) % \ Windows Kits\10\Microsoft XDE\10.0.18362.0\.

### <a name="account-tab"></a>вкладка "Учетная запись"

На вкладке Учетная запись позволяет настроить эмулятор для входа в систему с учетной записью Майкрософт. Это полезно для тестирования API, которые требуют, чтобы пользователь был вошедшего в систему с учетной записью.  Включение и выключение этого параметра потребует полностью закрыть и перезапустить эмулятор HoloLens параметра вступили в силу.  Если этот параметр включен, последующие запуски эмулятора запросит входа, подобно тому, как пользователь ' в первый раз при запуске HoloLens.  Быстро вводить свои учетные данные, используя клавиатуру компьютера, сначала отключите «Используйте клавиши для моделирования» на панели управления моделирования, или нажмите клавишу F4 на клавиатуре, чтобы включить или отключить настройку клавиатуры.

### <a name="optional-settings-tab"></a>Вкладка "Дополнительные параметры"

На вкладке необязательные параметры, будет отображаться элемент управления, чтобы включить или отключить ускорение графического оборудования.  Ускорение графики оборудование будет использоваться по умолчанию, если поддерживается с помощью драйвера графического адаптера компьютера.  Если ваш видеоадаптер драйвер не поддерживает GPU PV, этот параметр будет недоступен.

### <a name="diagnostics-tab"></a>Вкладка "Диагностика"

Вкладка "Диагностика" показана эмулятора IP-адрес в форме ссылки для Windows Device Portal, с указанием состояния виртуальный графический Процессор.


## <a name="anatomy-of-the-hololens-1st-gen-emulator"></a>Анатомия HoloLens (1-го поколения) эмулятора

### <a name="main-window"></a>Главное окно

При запуске эмулятор, вы увидите окно, которая отображает ОС HoloLens.

![Главное окно эмулятора HoloLens](images/emulator-890px.png)

### <a name="toolbar"></a>панель инструментов;

В правой части главного окна вы найдете панели инструментов эмулятора. Панель инструментов содержит следующие кнопки:
* ![Значок закрытия](images/emulator-close.png) **закрыть**: Закрывает эмулятора.
* ![Значок свертывания](images/emulator-minimize.png) **свернуть**: Сворачивает окно эмулятора.
* ![Значок человека входной](images/emulator-control.png) **человека входной**: Клавиатуры и мыши используется для моделирования человека [набор входных данных для эмулятора](#basic-emulator-input).
* ![Клавиатуры и мыши входной значок](images/emulator-input.png) **клавиатуры и мыши входной**: Клавиатуру и мышь передаются непосредственно в операционной системе HoloLens как события клавиатуры и мыши, что и при подключении Bluetooth клавиатуры и мыши.
* ![По размеру экрана значок](images/emulator-fit.png) **по размеру экрана**: Устанавливает размер экрана в эмуляторе.
* ![Значок масштаба](images/emulator-zoom.png) **масштаб**: Эмулятор убедитесь в том случае, более крупные и мелкие.
* ![Значок справки](images/emulator-help.png) **помочь**: Открыть справку эмулятора.
* ![Открытое устройство портала значок](images/emulator-deviceportal.png) **открыть портал устройства**: Откройте Windows Device Portal для HoloLens операционной системы в эмуляторе.
* ![Значок средства](images/emulator-tools.png) **средства**: Откройте **дополнительные средства** области.

### <a name="simulation-tab"></a>Вкладка моделирования

На вкладке по умолчанию в **дополнительные средства** область **моделирования** вкладку.

![Панель «Дополнительные инструменты» эмулятор HoloLens](images/emulator-simulation-500px.png)

На вкладке моделирования отображается текущее состояние имитированных датчиков, используемый для диска операционной системы HoloLens в эмуляторе. При наведении курсора на любое значение, на вкладке "Моделирование" предоставит всплывающей подсказки, в которых описываются способы управления это значение.

### <a name="room-tab"></a>Комнаты

Эмулятор имитирует world входные данные в виде сетки пространственное сопоставление из имитации «комнаты». Эта вкладка позволяет выбрать, какие места для загрузки вместо комната по умолчанию.

![Вкладка «Комнаты» эмулятор HoloLens](images/emulator-room-500px.png)

См. в разделе [simulated комнаты](#simulated-rooms) Дополнительные сведения.

### <a name="account-tab"></a>вкладка "Учетная запись"

На вкладке Учетная запись позволяет настроить эмулятор для входа в систему с учетной записью Майкрософт. Это полезно для тестирования API-интерфейсов, пользователь должен быть вошедшего в систему с учетной записью. После проверки поле на этой странице, последующие запуски эмулятора выдаст запрос на вход, так же как пользователь первый раз запускается HoloLens.

## <a name="simulated-rooms"></a>Имитации комнаты

Имитации комнаты полезны для тестирования приложения в нескольких средах. Несколько комнат поставляются с эмулятором, и после установки эмуляции, их можно найти в % ProgramFiles (x86) %\Windows Kits\10\Microsoft XDE\\\Plugins\Rooms (версия). Все эти комнаты были записаны в реальных средах, с помощью HoloLens:
* **DefaultRoom.xef** -small гостиной Телевизору, столы и два диваны. Загружаются по умолчанию при запуске эмулятора.
* **Bedroom1.xef** -small спальни с помощью службы поддержки.
* **Bedroom2.xef** -спальни с испытательной размер дама, шкаф, nightstands и walk-in чулана.
* **GreatRoom.xef** -отличный комнаты больших открытое место в гостиной, столовая таблице и кухни.
* **LivingRoom.xef** - гостиной fireplace, диван, armchairs и столы с диван.

Также можно записать собственные комнаты для использования в эмуляторе с помощью страницы моделирования [Windows Device Portal](using-the-windows-device-portal.md) на вашей HoloLens (1-го поколения).

В эмуляторе вы увидите только голограммы что готовятся к просмотру, и вы не увидите имитации места за голограммы. Это отличие от реальных HoloLens, где вы видите, оба смешивается друг с другом. Если вы хотите увидеть имитации места, в эмуляторе HoloLens, необходимо будет обновить приложение для отображения сетки пространственное сопоставление в сцене.

## <a name="troubleshooting"></a>Устранение неполадок

Может появиться сообщение об ошибке при установке эмулятор, который требуется *«Visual Studio 2015 Update 1 и UWP средства версии 1.2»*. Существует три возможных причин этой ошибки:
* У вас нет старая версия Visual Studio (2019 г. Visual Studio, Visual Studio 2017 или Visual Studio 2015 с обновлением 1 или более поздней версии). Чтобы устранить эту проблему, установите последний выпуск Visual Studio.
* У вас есть старая версия Visual Studio, но у вас установлены средства универсальной платформы Windows (UWP). Это дополнительный компонент для Visual Studio.

Может также появится сообщение об ошибке установки эмулятора на не Pro/Enterprise/образования SKU для Windows, или если у вас нет компонент Hyper-V включена.
* См. в статье [требования к системе](#hololens-emulator-system-requirements) разделе полном наборе предварительных требований.
* Убедитесь также, что функция Hyper-V включена на компьютере.

Если успешного завершения установки, но вы не видите эмулятор HoloLens как параметр для развертывания и отладки, выполните следующие действия:
* Конфигурации проекта Visual Studio будет присвоено x86 (Gen 1-го HoloLens) или x86 или x64 (эмулятор HoloLens 2).
* При использовании Visual Studio 2019 v142 присваивается набора инструментов платформы в конфигурации проекта.

Если успешного завершения установки, но Visual Studio отображает сообщение об ошибке при попытке запустить эмулятор HoloLens, воспользуйтесь одной из следующих:
* Запуск Visual Studio от имени администратора
* Если вы установили только Visual Studio 2019 г. установлен, убедитесь, что значение реестра в HKEY_LOCAL_MACHINE\Software\Microsoft\Windows Kits\Installed корни «KitsRoot10» указывает на 32-разрядных папка Program Files (например, «C:\Program Files (x86) \Windows комплекты \10»).  Если этого не произошло, удалите эмулятор HoloLens, измените значение реестра для 32-разрядных папка Program Files, а затем переустановите эмулятор HoloLens.  Эта проблема будет устранена в Visual Studio 2019 16.0.3.

Если эмулятор отображает сообщение об ошибке «Недопустимое кодирование байтов» при запуске:
* Удалить все файлы в %localappdata%\Microsoft\XDE\HCS и повторите попытку.

Если ваш список целевых объектов отладки в Visual Studio будет пустым (например, «Start» является единственным) и вы выполнили все действия, описанные выше:
* Удалите папку «ConfigurationCache» в %localappdata%\Microsoft\VisualStudio\\<*идентификатор установки*> \CoreCon и повторите попытку.

Зависание системы при запуске эмулятора, отключите аппаратное ускорение графики эмулятора.
* Создание реестра типа DWORD с именем «DisableGPU» в HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\XDE\10.0 и присвойте ему значение 1.

## <a name="see-also"></a>См. также
* [Сложный ввод с помощью эмулятора HoloLens и симулятора Windows Mixed Reality](advanced-hololens-emulator-and-mixed-reality-simulator-input.md)
* [История программ эмулятор HoloLens](hololens-emulator-archive.md)
* [Пространственное сопоставление в Unity](spatial-mapping-in-unity.md)
* [Пространственное сопоставление в DirectX](spatial-mapping-in-directx.md)
