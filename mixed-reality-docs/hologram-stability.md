---
title: Голограмма стабильность
description: HoloLens автоматически стабилизируется голограммы, но действия, которые могут использоваться разработчиками для повышения стабильности голограмма Дополнительно.
author: thetuvix
ms.author: alexturn
ms.date: 03/21/2018
ms.topic: article
keywords: голограммы, стабильности, hololens
ms.openlocfilehash: 9b0227102934650d5640a4ac1c4d6f59ecd8e6dd
ms.sourcegitcommit: 384b0087899cd835a3a965f75c6f6c607c9edd1b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/12/2019
ms.locfileid: "59600769"
---
# <a name="hologram-stability"></a>Голограмма стабильность

Чтобы добиться стабильной голограммы, HoloLens имеет конвейер стабилизации встроенным образом. Конвейер стабилизации автоматически работает в фоновом режиме, поэтому существуют дополнительные шаги не требуются, чтобы включить его. Тем не менее разработчикам следует соблюдать методик повышения стабильности голограмма и избежать сценариев, которые снижают стабильности.

## <a name="hologram-quality-terminology"></a>Голограмма качества терминология

Качество голограммы является результатом хороший среды и разработки хорошее приложение. Приложения, которые обрушивались константы 60 кадров в секунду в среде, где HoloLens можно отслеживать окружающей среды будет убедитесь, что голограмма и соответствия системы координат синхронизированы. С точки зрения пользователя, которые должны оставаться неподвижным голограммы не будет перемещаться по отношению к среде.

Когда среда, отрисовки несогласованные или низкая скорость, а также других проблем приложения отображаются, следующая терминология полезна для идентификации проблемы.
* **Точность.** Как только она заблокирована в мире и помещается в реальном мире, его следует хранить, где он был помещен, по отношению к окружающей среде, независимо от пользователя перемещения или изменения среды малого и разреженных. Если позже голограмма появляется в непредвиденное расположение, это *точность* проблему. Таких сценариев может произойти, если два различных комнаты выглядят одинаково.
* **Нарушение синхронизации.** Пользователям наблюдать за это как высокая частота встряхните из голограмма. Это может произойти при спаде отслеживания среды. Для пользователей, выполняется решение [настройке датчика](sensor-tuning.md).
* **Judder.** Отрисовки низкой частоты привести к неравномерной движения и double изображения голограммы. Это особенно заметно в голограммы движения. Разработчикам необходимо поддерживать [константы 60 кадров/с](hologram-stability.md#frame-rate).
* **Смещение.** Пользователи видят это как голограмма отображается отойти от того, где он изначально был помещен. Это происходит, когда голограммы размещены далеко от [пространственных привязки](spatial-anchors.md), особенно в части среды, которые не были сопоставлены полностью. Создание голограммы близко к пространственных привязки снижает вероятность того, что смещение.
* **Jumpiness.** Когда голограмма «POP» или «переходит» от места его размещения время от времени. Это может происходить при отслеживания корректирует голограммы соответствует обновленные сведения о вашей среде.
* **Широко.** Когда голограмма появится в sway соответствующий движение головы пользователя. Это происходит, когда голограммы не входящих в [плоскости стабилизации](hologram-stability.md#stabilization-plane), и если HoloLens не [калибровки](calibration.md) для текущего пользователя. Пользователь может перезапустить [калибровки](calibration.md) приложения, чтобы устранить эту проблему. Разработчикам можно обновить для дальнейшего улучшения стабильности плоскости стабилизации.
* **Разделение цвет.** В HoloLens объектов отображаются последовательных Цветной дисплей, который flash цветовые каналы red-green сине зеленый 60 Гц (отдельный цвет поля отображаются 240 Гц). Всякий раз, когда пользователь отслеживает перемещение голограмма с свой глаза, этот голограмма передним и задним краями разделения их составляющих цвета, создание силу радуги. Степени разделения зависит от скорости голограмма. В некоторых случаях учится перемещение заданные head быстро просматривая стационарные голограмма может также приводить эффекта радуги. Это называется  *[цветоделение](hologram-stability.md#color-separation)*.

## <a name="frame-rate"></a>Частота кадров

Частота кадров — это главным условием голограмма стабильности. Голограммы отображаются стабильной в мире каждого изображения, представленные пользователю нужен голограммы, в соответствующую. Отображает об обновлении HoloLens 240 раз в секунду, показывающие четыре поля отдельный цвет для каждого вновь к просмотру изображения, что интерфейса пользователя из 60 кадров/с (кадров в секунду). Чтобы обеспечить наилучшее взаимодействие, разработчикам необходимо поддерживать 60 кадров/с, который преобразуется постоянно, указав новый образ в операционную систему каждые 16 миллисекунд.

**60 кадров/с** для рисования голограммы похож на настольным компьютером в реальном мире, HoloLens необходимо преобразование изображения из положение пользователя. Так как отрисовка изображений занимает время, HoloLens прогнозирует, где будет головы пользователя при отображении изображения на экранах. Этот алгоритм прогноза является приблизительным. HoloLens имеет оборудование, которое настраивает отрисованного изображения в учетную запись для расхождения между положением прогнозируемое головного и действительную позицию головного. Это делает, которое видит пользователь изображение отображается так, как если ее отображения из правильного расположения, а также голограммы чувствовать стабильной. Изображение обновляет работу лучше всего с небольшими изменениями и полностью устранить определенные операции в подготовленное изображение как фокусировки движения.

Путем подготовки к просмотру в 60 кадров/с, вы выполняете три вещи, которые помогут выполнить стабильной голограммы:
1. Минимизация общую задержку между отрисовки изображения и этот образ будет отображаться для пользователя. В обработчик с игр потока и поток отрисовки под управлением одновременно, под управлением 30 кадров в секунду можно добавлять 33.3ms дополнительной задержки. За счет сокращения задержки, это уменьшает прогноза и повышает стабильность голограмма.
2. Воплощение, поэтому каждое изображение, достижение глаза пользователя иметь согласованный величиной задержки. При подготовке к просмотру 30 кадров в секунду, отображение по-прежнему отображаются изображения в 60 кадров/с. Это означает, что образ, который будет отображаться два раза подряд. Второй кадр будет иметь 16.6ms задержка выше, чем первый кадра и придется исправить более выраженным количества ошибок. Такая несогласованность в абсолютное значение ошибки может вызвать нежелательные judder 60 Гц.
3. Снижению внешний вид judder, который характеризуется неравномерной движения и double изображения. Judder ускорить голограмма движения и нижней отрисовки тарифы связаны с более заметно. Таким образом стремясь Ведение 60 кадров/с на всех раз позволит избежать judder для данного перемещения голограмма.

**Частота кадров согласованности** согласованности частота кадров столь важным, как высокая кадров в секунду. Теряла кадров неизбежны для любого мультимедийного приложения и HoloLens реализует некоторые сложные алгоритмы для восстановления после случайных сбоев. Тем не менее постоянно пиковому кадров пользователю гораздо более заметна, чем выполнение согласованно с нижней частотой кадров. Например приложение, которое плавно отображает для 5 кадров (60 кадров/с в течение этих 5 кадров), а затем удаляет каждый кадр для следующих 10 кадров (30 кадров в Секунду в течение этих 10 кадров) будет отображаться в менее спокойные, чем приложения, постоянно Выполняет визуализацию 30 кадров в секунду.

Кроме того, операционная система будет регулироваться приложений до 30 кадров/с при [смешанный захвата реальности](mixed-reality-capture.md) запущена.

**Анализ производительности** существует множество средств, которые могут использоваться в измерении производительности частота кадров приложения, такие как:
* GPUView
* Отладчик графики Visual Studio
* Средства профилирования, встроенные в 3D движков, таких как Unity

## <a name="hologram-render-distances"></a>Голограмма отрисовки расстояния

>[!VIDEO https://www.youtube.com/embed/-606oZKLa_s]

Система человека visual интегрирует несколько сигналов зависит от расстояния, при его fixates и фокусируется на объект.
* [Услуги размещения](https://en.wikipedia.org/wiki/Accommodation_%28eye%29) -фокус отдельных глаза.
* [Конвергенция](https://en.wikipedia.org/wiki/Convergence_(eye)) — два глаза перемещения внутрь и наружу, сосредоточены на объект.
* [Binocular vision](https://en.wikipedia.org/wiki/Stereopsis) -Disparities между ними глаз влево и вправо, зависящих от расстояния объекта от вашей точки с фиксацией.
* Заливка относительного размера angular и другие детали monocular (единый глаз).

Конвергенция и размещении являются уникальными, поскольку они являются очень сетчатки глаза подсказки, связанные с изменение глаза вопринимаем объектов на различных расстояниях. В естественной просмотра конвергенции и услуги размещения связаны. При просмотре глаза, что-то около (например вашей нос) глаза cross и размещения на момент near. Когда глаза просматривать что-то бесконечность глаза становятся parallel и следить за полосой до бесконечности. Пользователи, то HoloLens будет всегда рассчитан на работу до 2.0m для поддержания понятность изображения так, как отображаются HoloLens фиксируются на расстоянии оптические около 2.0m от пользователя. Где сходятся глаза пользователей путем размещения содержимого и голограммы в различные глубины управления для разработчиков приложений. Когда пользователи размещения и для достижения различных расстояниях, естественным связь между двумя подсказки не работают и это может привести к visual discomfort или усталости, особенно в том случае, если величина конфликт велико. Discomfort услуги размещения vergence конфликтов можно избежать или свести к минимуму, сохраняя содержимое, которое пользователи согласуются с как можно ближе к 2.0 m максимально (т. е. в сцене с большим количеством глубины поместить сферам, которые интересны практически 2.0 m, когда это возможно). Нельзя разместить содержимое практически discomfort 2.0m из vergence проживание конфликт при наибольшую при пользователя в помощи назад и вперед между различных расстояниях. Другими словами это гораздо удобнее, рассмотрим стационарные голограмма оставался 50cm рукой, чтобы просмотреть голограмма от 50cm, перемещает сторону и от вас со временем.

Размещение содержимого на 2.0m также является предпочтительным, так как два отображает предназначены для полностью перекрываются с такого расстояния. Для изображениями, помещаемыми отключение этой плоскости при перемещении за границу рамки holographic они исчезнут из одного экрана, сохраняя при этом отображается на другой. Этот binocular rivalry можно будет нарушать выполнение других впечатление глубины голограмма.

**Оптимальное расстояние для размещения голограммы от пользователя**

![Оптимальное расстояние для размещения голограммы от пользователя](images/distanceguiderendering-750px.png)

**Обрезать плоскостей** для максимального удобства мы рекомендуем расстояние отрисовки обрезки на 85 cm с fadeout содержимого, начиная с 1 МБ. В приложениях, где голограммы и пользователи являются оба стационарные голограммы можно просмотреть удобно в ближайшем как 50cm. В таких случаях приложения следует поместить отсекающей плоскости не ближе, чем 30cm и исчезания следует запустить по крайней мере 10cm от отсекающей плоскости. Каждый раз, когда содержимое ближе, чем 85cm, очень важно, чтобы перейти часто не приближается и по голограммы, или что голограммы перемещать не часто ближе к или по пользователь таких ситуациях находятся самые вероятные причины discomfort из конфликт vergence проживания. Чтобы свести к минимуму необходимость взаимодействия ближе, чем 85cm от пользователя, но при содержимого должны быть помещены ближе, чем 85cm хорошее проверенное правило для разработчиков для разработки сценариев, где подробно более чем 25% от t не перемещать пользователей и/или голограммы должны разрабатываться содержимого он времени.

**Советы и рекомендации** голограммы нельзя разместить в 2 МБ, невозможно избежать конфликтов между конвергенции и услуги размещения оптимальной зона для размещения голограмма находится между 1,25 m и 5 мин. В каждом случае конструкторы требуемую структуру для содержимого, чтобы рекомендовать пользователям взаимодействовать 1 + m нет на месте (например размер содержимого, и по умолчанию параметры размещения).

## <a name="stabilization-plane"></a>Плоскость стабилизации
> [!NOTE]
> Для рабочего стола иммерсивную плоскость стабилизации задается обычно нецелесообразными, так как он предлагает меньше чем предоставление буфер глубины вашего приложения в систему для включения каждого пикселя на основе глубины reprojection качества. Если не запущен на HoloLens, обычно следует избегать плоскости стабилизации установка.

HoloLens выполняет метод сложных аппаратную holographic стабилизации. Это выполняется во многом автоматически и связана с движения и изменения точки зрения (CameraPose) как анимирует сцены, а пользователь перемещает их голосах. Одной плоскости, вызывается плоскости стабилизации, выбирается для увеличения этого стабилизации. Хотя все голограммы на сцене появляется некоторые стабилизации, голограммы плоскости стабилизации получать стабилизации максимальное оборудования.

![Плоскость стабилизации для трехмерных объектов](images/stab-plane-500px.jpg)

Устройство автоматически пытается выбрать этой плоскости, но приложение может упростить этот процесс, выбрав точку фокуса в сцене. Unity приложения, работающие на HoloLens следует выбрать лучшее сосредоточиться точки в сцену и передать его в [SetFocusPoint()](focus-point-in-unity.md). Пример настройки точку фокуса в DirectX входит в шаблоне по умолчанию вращающийся куба.

Обратите внимание на то, что при выполнении приложения Unity на иммерсивных гарнитура, подключенные к настольному компьютеру, Unity, передает в буфер глубины для Windows, чтобы включить reprojection каждого пикселя, который обычно предоставит еще лучше качество изображения без явных действий в приложении. Если указать точку фокуса, который переопределяет reprojection каждого пикселя, поэтому вам следует делать только при запуске приложения на HoloLens.




```cs
// SetFocusPoint informs the system about a specific point in your scene to
// prioritize for image stabilization. The focus point is set independently
// for each holographic camera.
// You should set the focus point near the content that the user is looking at.
// In this example, we put the focus point at the center of the sample hologram,
// since that is the only hologram available for the user to focus on.
// You can also set the relative velocity and facing of that content; the sample
// hologram is at a fixed point so we only need to indicate its position.
renderingParameters.SetFocusPoint(
    currentCoordinateSystem,
    spinningCubeRenderer.Position
    );
```

Размещение точку фокуса во многом зависит от просматривает голограмма. У приложения есть вектор взглядом для ссылки и приложения конструктор знает, какое содержимое требуется, чтобы пользователь для наблюдения.

Единый важнее всего, что разработчик может сделать стабилизация голограммы — для подготовки к просмотру в 60 кадров/с. Добавление под 60 кадров/с, существенно уменьшит голограмма стабильность, независимо от того, оптимизация плоскости стабилизации.

**Советы и рекомендации** нет универсальной способа для настройки стабилизации плоскость, и это конкретного приложения, поэтому основной рекомендуется экспериментировать и изучать, что лучше всего подходит для ваших сценариев. Тем не менее попытка выравнивания стабилизации плоскость с выпустить заметно меньше материалов максимально, так как все содержимое на этой плоскости вполне стабилизируется.

Пример:
* Если только плоские содержимое (чтения приложения, воспроизведение видео приложения), выравнивание плоскости стабилизации на плоскости с содержимого.
* При возникновении 3 small сферы, заблокирован для мира, сделать плоскость стабилизации «Вырезать», хотя центров все сферы, которые сейчас находятся в режиме пользователя.
* Если сцена имеет содержимое в глубине значительно отличается, предпочитать дополнительные объекты.
* Убедитесь, что для настройки точки стабилизации, в которой каждый кадр совпадают с голограмма пользователь просматривает

**Моментов, которые следует избегать** плоскости стабилизации — это отличный инструмент, чтобы добиться стабильной голограммы, но при неправильном использовании он может привести к нестабильной работе серьезные образа.
* Не «отправить и забыть», так как можно получить с помощью стабилизации плоскости за пользователя или присоединенный к объекту, который больше не находится в представлении пользователя. Убедитесь, что обычный плоскость стабилизации задается противоположной камеры вперед (например - camera.forward)
* Не изменяйте быстро плоскости стабилизации переключаться между значениями
* Не оставляйте стабилизации плоскости, задайте фиксированный расстояние/ориентации на
* Не позволяйте плоскость стабилизации отбросьте пользователя
* Не задать точку фокуса, когда на рабочем столе компьютера, а не HoloLens и вместо этого основываются на основе глубины reprojection на пиксель.

## <a name="color-separation"></a>Разделение цвет 

Из-за природы отображает HoloLens называется «цветоделение» артефакта может восприниматься иногда. Он объявляется в качестве образа, разделение на отдельных базовых цветов - красного, зеленого и синего. Артефакт может быть особенно заметен при отображении белых объектов, так как имеются большие объемы красного, зеленого и синего. Он наиболее заметным, если пользователь отслеживает визуально голограмма, передаются через holographic кадра при высокой скорости. Другим способом, которые могут проявляться артефакта является искажая/деформация объектов. Если у объекта есть Высокая контрастность и/или чистых цветов (красный, зеленый, синий), цветоделение считается искажая различных частей объекта.

**Пример того, какое именно разделение цвет заблокирован head белый круглый курсора может выглядеть так, как пользователь поворачивает их головах, на сторону:**

![Пример того, какое именно разделение цвет заблокирован head белый круглый курсора может выглядеть так, как пользователь поворачивает их головах, на сторону.](images/colorseparationofroundwhitecursor-300px.png)

Хотя сложно полностью избежать цветоделение, существует несколько методов, доступных для решения проблемы.

**Цвет разделение можно увидеть на:**
* Объекты, которые при перемещении быстро, включая объектов заблокирован head, такие как [курсор](cursors.md).
* Объекты, которые являются по большей части далеко от [плоскости стабилизации](hologram-stability.md#stabilization-plane).

**Чтобы ослабляют последствия разделения цвет:**
* Сделайте объект запаздывания взглядом пользователя. Оно должно отображаться как в том случае, если он имеет некоторые инерции и присоединяется к взглядом «on Спрингс». Это замедляет курсор (уменьшая расстояние) и помещает его за точкой вероятно взглядом пользователя. До тех пор, пока он быстро перехватывает, когда пользователь останавливает сдвиг их взглядом полагают, что вполне естественным.
* Если вы хотите переместить голограмма, стараются поддерживать его перемещения со скоростью ниже 5 градусов в секунду, если предполагается, что пользователь останется привязанным к нему с помощью их глаза.
* Используйте *свет* вместо *geometry* курсора. Исходный виртуальный освещения, подключенный к взглядом будет восприниматься как интерактивный указатель, но не приведет разделение цвет.
* Настройте плоскости стабилизации в соответствии с голограммы, которые пользователь gazing в.
* Сделайте объект красный, зеленый или синий.
* Переключитесь в размытая версию содержимого. Например круглый белый курсор может быть изменение немного размытая строке, ориентированного на направление движения.

Так как раньше, Подготовка к просмотру в 60 кадров/с и плоскости стабилизации установка наиболее важные методы голограмма стабильности. Если доступен для заметного цветоделение, сначала убедитесь, что частота кадров соответствует ожиданиям.

## <a name="see-also"></a>См. также
* [Основные сведения о производительности для смешанной реальности](understanding-performance-for-mixed-reality.md)
* [Цвет, свет и материалы](color,-light-and-materials.md)
* [Основы взаимодействия](interaction-fundamentals.md)