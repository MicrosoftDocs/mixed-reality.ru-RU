---
title: Камера с определяемым местоположением
description: Общие сведения о передней камере HoloLens, принципах ее работы, а также о профилях и разрешениях, доступных разработчикам.
author: cdedmonds
ms.author: wguyman
ms.date: 06/12/2019
ms.topic: article
keywords: Камера, hololens, цветовая камера, лицевая сторона, hololens 2, ОПС, компьютерное зрение, фидуЦиал, маркеры, QR-код, QR-, Фото, видео
ms.openlocfilehash: b8e9d926db09d277b3fde7572dd68257599c8d5e
ms.sourcegitcommit: 09d9fa153cd9072f60e33a5f83ced8167496fcd7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/18/2020
ms.locfileid: "83520019"
---
# <a name="locatable-camera"></a><span data-ttu-id="d4fd6-104">Камера с определяемым местоположением</span><span class="sxs-lookup"><span data-stu-id="d4fd6-104">Locatable camera</span></span>

<span data-ttu-id="d4fd6-105">HoloLens включает в себя камеру, подключенную к передней части устройства, что позволяет приложениям видеть, что видит пользователь.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-105">HoloLens includes a world-facing camera mounted on the front of the device, which enables apps to see what the user sees.</span></span> <span data-ttu-id="d4fd6-106">У разработчиков есть доступ к камере и управление ей, точно так же, как и для цветных камер на смартфонах, портативных компьютерах или настольных ПК.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-106">Developers have access to and control of the camera, just as they would for color cameras on smartphones, portables, or desktops.</span></span> <span data-ttu-id="d4fd6-107">Те же универсальные функции [захвата мультимедиа Windows Media](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.mediacapture.aspx) и Windows Media Foundation, которые работают с мобильными и рабочим столами в HoloLens.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-107">The same universal windows [media capture](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.mediacapture.aspx) and windows media foundation APIs that work on mobile and desktop work on HoloLens.</span></span> <span data-ttu-id="d4fd6-108">Unity [также упаковывает эти API Windows](locatable-camera-in-unity.md) в абстрактное простое использование камеры в HoloLens для таких задач, как обычные фотографии и видеоролики (с голограммами или без них), а также нахождение расположения камеры в и перспективы на сцене.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-108">Unity [has also wrapped these windows APIs](locatable-camera-in-unity.md) to abstract simple usage of the camera on HoloLens for tasks such as taking regular photos and videos (with or without holograms) and locating the camera's position in and perspective on the scene.</span></span>

## <a name="device-camera-information"></a><span data-ttu-id="d4fd6-109">Сведения о камере устройства</span><span class="sxs-lookup"><span data-stu-id="d4fd6-109">Device camera information</span></span>

### <a name="hololens-first-generation"></a><span data-ttu-id="d4fd6-110">HoloLens (первое поколение)</span><span class="sxs-lookup"><span data-stu-id="d4fd6-110">HoloLens (first-generation)</span></span>

* <span data-ttu-id="d4fd6-111">Фиксированная камера с фокусировкой или видео (ПС) с автобалансом белого, автоматической экспозицией и полным конвейером обработки изображений.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-111">Fixed focus photo/video (PV) camera with auto white balance, auto exposure, and full image processing pipeline.</span></span>
* <span data-ttu-id="d4fd6-112">Белый индикатор конфиденциальности, направленный на мир, будет загораться каждый раз, когда камера активна</span><span class="sxs-lookup"><span data-stu-id="d4fd6-112">White Privacy LED facing the world will illuminate whenever the camera is active</span></span>
* <span data-ttu-id="d4fd6-113">Камера поддерживает следующие режимы (все режимы — 16:9 пропорций) в 30, 24, 20, 15 и 5 кадров/с.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-113">The camera supports the following modes (all modes are 16:9 aspect ratio) at 30, 24, 20, 15, and 5 fps:</span></span>

  |  <span data-ttu-id="d4fd6-114">Видео</span><span class="sxs-lookup"><span data-stu-id="d4fd6-114">Video</span></span>  |  <span data-ttu-id="d4fd6-115">Предварительный просмотр</span><span class="sxs-lookup"><span data-stu-id="d4fd6-115">Preview</span></span>  |  <span data-ttu-id="d4fd6-116">Могут</span><span class="sxs-lookup"><span data-stu-id="d4fd6-116">Still</span></span>  |  <span data-ttu-id="d4fd6-117">Горизонтальное поле представления (H-фов)</span><span class="sxs-lookup"><span data-stu-id="d4fd6-117">Horizontal Field of View (H-FOV)</span></span> |  <span data-ttu-id="d4fd6-118">Предлагаемое использование</span><span class="sxs-lookup"><span data-stu-id="d4fd6-118">Suggested usage</span></span> | 
  |----------|----------|----------|----------|----------|
  |  <span data-ttu-id="d4fd6-119">1280 x 720</span><span class="sxs-lookup"><span data-stu-id="d4fd6-119">1280x720</span></span> |  <span data-ttu-id="d4fd6-120">1280 x 720</span><span class="sxs-lookup"><span data-stu-id="d4fd6-120">1280x720</span></span> |  <span data-ttu-id="d4fd6-121">1280 x 720</span><span class="sxs-lookup"><span data-stu-id="d4fd6-121">1280x720</span></span> |  <span data-ttu-id="d4fd6-122">45deg</span><span class="sxs-lookup"><span data-stu-id="d4fd6-122">45deg</span></span>  |  <span data-ttu-id="d4fd6-123">(режим по умолчанию с видео стабилизации)</span><span class="sxs-lookup"><span data-stu-id="d4fd6-123">(default mode with video stabilization)</span></span> | 
  |  <span data-ttu-id="d4fd6-124">Недоступно</span><span class="sxs-lookup"><span data-stu-id="d4fd6-124">N/A</span></span> |  <span data-ttu-id="d4fd6-125">Недоступно</span><span class="sxs-lookup"><span data-stu-id="d4fd6-125">N/A</span></span> |  <span data-ttu-id="d4fd6-126">2048x1152</span><span class="sxs-lookup"><span data-stu-id="d4fd6-126">2048x1152</span></span> |  <span data-ttu-id="d4fd6-127">67deg</span><span class="sxs-lookup"><span data-stu-id="d4fd6-127">67deg</span></span> |  <span data-ttu-id="d4fd6-128">Изображение с наивысшим разрешением по-прежнему</span><span class="sxs-lookup"><span data-stu-id="d4fd6-128">Highest resolution still image</span></span> | 
  |  <span data-ttu-id="d4fd6-129">1408x792</span><span class="sxs-lookup"><span data-stu-id="d4fd6-129">1408x792</span></span> |  <span data-ttu-id="d4fd6-130">1408x792</span><span class="sxs-lookup"><span data-stu-id="d4fd6-130">1408x792</span></span> |  <span data-ttu-id="d4fd6-131">1408x792</span><span class="sxs-lookup"><span data-stu-id="d4fd6-131">1408x792</span></span> |  <span data-ttu-id="d4fd6-132">48deg</span><span class="sxs-lookup"><span data-stu-id="d4fd6-132">48deg</span></span> |  <span data-ttu-id="d4fd6-133">Разрешение перепроверки (заполнения) перед видео стабилизации</span><span class="sxs-lookup"><span data-stu-id="d4fd6-133">Overscan (padding) resolution before video stabilization</span></span> | 
  |  <span data-ttu-id="d4fd6-134">1344x756</span><span class="sxs-lookup"><span data-stu-id="d4fd6-134">1344x756</span></span> |  <span data-ttu-id="d4fd6-135">1344x756</span><span class="sxs-lookup"><span data-stu-id="d4fd6-135">1344x756</span></span> |  <span data-ttu-id="d4fd6-136">1344x756</span><span class="sxs-lookup"><span data-stu-id="d4fd6-136">1344x756</span></span> |  <span data-ttu-id="d4fd6-137">67deg</span><span class="sxs-lookup"><span data-stu-id="d4fd6-137">67deg</span></span> |  <span data-ttu-id="d4fd6-138">Крупный фов видеорежим с пересканированием</span><span class="sxs-lookup"><span data-stu-id="d4fd6-138">Large FOV video mode with overscan</span></span> | 
  |  <span data-ttu-id="d4fd6-139">896x504</span><span class="sxs-lookup"><span data-stu-id="d4fd6-139">896x504</span></span> |  <span data-ttu-id="d4fd6-140">896x504</span><span class="sxs-lookup"><span data-stu-id="d4fd6-140">896x504</span></span> |  <span data-ttu-id="d4fd6-141">896x504</span><span class="sxs-lookup"><span data-stu-id="d4fd6-141">896x504</span></span> |  <span data-ttu-id="d4fd6-142">48deg</span><span class="sxs-lookup"><span data-stu-id="d4fd6-142">48deg</span></span> |  <span data-ttu-id="d4fd6-143">Режим низкого разрешения/отключения для задач обработки изображений</span><span class="sxs-lookup"><span data-stu-id="d4fd6-143">Low power / Low resolution mode for image processing tasks</span></span> | 

### <a name="hololens-2"></a><span data-ttu-id="d4fd6-144">HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="d4fd6-144">HoloLens 2</span></span>

* <span data-ttu-id="d4fd6-145">Автоматическое фокусирование фотографии и Видеокамеры (ПС) с автобалансом белого, автоматической экспозицией и полным конвейером обработки изображений.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-145">Auto-focus photo/video (PV) camera with auto white balance, auto exposure, and full image processing pipeline.</span></span>
* <span data-ttu-id="d4fd6-146">Белый индикатор конфиденциальности, направленный на мир, будет освещен всякий раз, когда камера активна.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-146">White Privacy LED facing the world will illuminate whenever the camera is active.</span></span>
* <span data-ttu-id="d4fd6-147">HoloLens 2 поддерживает различные профили камеры.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-147">HoloLens 2 supports different camera profiles.</span></span> <span data-ttu-id="d4fd6-148">Узнайте, как [обнаруживать и выбирать возможности камеры](https://docs.microsoft.com//windows/uwp/audio-video-camera/camera-profiles).</span><span class="sxs-lookup"><span data-stu-id="d4fd6-148">Learn how to [discover and select camera capabilities](https://docs.microsoft.com//windows/uwp/audio-video-camera/camera-profiles).</span></span>
* <span data-ttu-id="d4fd6-149">Камера поддерживает следующие профили и разрешения (все видеорежимы имеют соотношение пропорций 16:9):</span><span class="sxs-lookup"><span data-stu-id="d4fd6-149">The camera supports the following profiles and resolutions (all video modes are 16:9 aspect ratio):</span></span>
  
  | <span data-ttu-id="d4fd6-150">Профиль</span><span class="sxs-lookup"><span data-stu-id="d4fd6-150">Profile</span></span>                                         | <span data-ttu-id="d4fd6-151">Видео</span><span class="sxs-lookup"><span data-stu-id="d4fd6-151">Video</span></span>     | <span data-ttu-id="d4fd6-152">Предварительный просмотр</span><span class="sxs-lookup"><span data-stu-id="d4fd6-152">Preview</span></span>   | <span data-ttu-id="d4fd6-153">Могут</span><span class="sxs-lookup"><span data-stu-id="d4fd6-153">Still</span></span>     | <span data-ttu-id="d4fd6-154">Частота кадров</span><span class="sxs-lookup"><span data-stu-id="d4fd6-154">Frame rates</span></span> | <span data-ttu-id="d4fd6-155">Горизонтальное поле представления (H-фов)</span><span class="sxs-lookup"><span data-stu-id="d4fd6-155">Horizontal Field of View (H-FOV)</span></span> | <span data-ttu-id="d4fd6-156">Предлагаемое использование</span><span class="sxs-lookup"><span data-stu-id="d4fd6-156">Suggested usage</span></span>                             |
  |-------------------------------------------------|-----------|-----------|-----------|-------------|----------------------------------|---------------------------------------------|
  | <span data-ttu-id="d4fd6-157">Прежние, 0 Баланцедвидеоандфото, 100</span><span class="sxs-lookup"><span data-stu-id="d4fd6-157">Legacy,0  BalancedVideoAndPhoto,100</span></span>             | <span data-ttu-id="d4fd6-158">2272x1278</span><span class="sxs-lookup"><span data-stu-id="d4fd6-158">2272x1278</span></span> | <span data-ttu-id="d4fd6-159">2272x1278</span><span class="sxs-lookup"><span data-stu-id="d4fd6-159">2272x1278</span></span> |           | <span data-ttu-id="d4fd6-160">15, 30</span><span class="sxs-lookup"><span data-stu-id="d4fd6-160">15,30</span></span>       | <span data-ttu-id="d4fd6-161">64,69</span><span class="sxs-lookup"><span data-stu-id="d4fd6-161">64.69</span></span>                            | <span data-ttu-id="d4fd6-162">Высококачественная запись видео</span><span class="sxs-lookup"><span data-stu-id="d4fd6-162">High quality video recording</span></span>                |
  | <span data-ttu-id="d4fd6-163">Прежние, 0 Баланцедвидеоандфото, 100</span><span class="sxs-lookup"><span data-stu-id="d4fd6-163">Legacy,0  BalancedVideoAndPhoto,100</span></span>             | <span data-ttu-id="d4fd6-164">896x504</span><span class="sxs-lookup"><span data-stu-id="d4fd6-164">896x504</span></span>   | <span data-ttu-id="d4fd6-165">896x504</span><span class="sxs-lookup"><span data-stu-id="d4fd6-165">896x504</span></span>   |           | <span data-ttu-id="d4fd6-166">15, 30</span><span class="sxs-lookup"><span data-stu-id="d4fd6-166">15,30</span></span>       | <span data-ttu-id="d4fd6-167">64,69</span><span class="sxs-lookup"><span data-stu-id="d4fd6-167">64.69</span></span>                            | <span data-ttu-id="d4fd6-168">Предварительный просмотр потока для записи фотографий высокого качества</span><span class="sxs-lookup"><span data-stu-id="d4fd6-168">Preview stream for high quality photo capture</span></span> |
  | <span data-ttu-id="d4fd6-169">Прежние, 0 Баланцедвидеоандфото, 100</span><span class="sxs-lookup"><span data-stu-id="d4fd6-169">Legacy,0  BalancedVideoAndPhoto,100</span></span>             |           |           | <span data-ttu-id="d4fd6-170">3904x2196</span><span class="sxs-lookup"><span data-stu-id="d4fd6-170">3904x2196</span></span> |             | <span data-ttu-id="d4fd6-171">64,69</span><span class="sxs-lookup"><span data-stu-id="d4fd6-171">64.69</span></span>                            | <span data-ttu-id="d4fd6-172">Высокое качество записи фотографий</span><span class="sxs-lookup"><span data-stu-id="d4fd6-172">High quality photo capture</span></span>                  |
  | <span data-ttu-id="d4fd6-173">Баланцедвидеоандфото, 120</span><span class="sxs-lookup"><span data-stu-id="d4fd6-173">BalancedVideoAndPhoto,120</span></span>                       | <span data-ttu-id="d4fd6-174">1952x1100</span><span class="sxs-lookup"><span data-stu-id="d4fd6-174">1952x1100</span></span> | <span data-ttu-id="d4fd6-175">1952x1100</span><span class="sxs-lookup"><span data-stu-id="d4fd6-175">1952x1100</span></span> | <span data-ttu-id="d4fd6-176">1952x1100</span><span class="sxs-lookup"><span data-stu-id="d4fd6-176">1952x1100</span></span> | <span data-ttu-id="d4fd6-177">15, 30</span><span class="sxs-lookup"><span data-stu-id="d4fd6-177">15,30</span></span>       | <span data-ttu-id="d4fd6-178">64,69</span><span class="sxs-lookup"><span data-stu-id="d4fd6-178">64.69</span></span>                            | <span data-ttu-id="d4fd6-179">Сценарии длительной длительности</span><span class="sxs-lookup"><span data-stu-id="d4fd6-179">Long duration scenarios</span></span>                     |
  | <span data-ttu-id="d4fd6-180">Баланцедвидеоандфото, 120</span><span class="sxs-lookup"><span data-stu-id="d4fd6-180">BalancedVideoAndPhoto,120</span></span>                       | <span data-ttu-id="d4fd6-181">1504x846</span><span class="sxs-lookup"><span data-stu-id="d4fd6-181">1504x846</span></span>  | <span data-ttu-id="d4fd6-182">1504x846</span><span class="sxs-lookup"><span data-stu-id="d4fd6-182">1504x846</span></span>  |           | <span data-ttu-id="d4fd6-183">15, 30</span><span class="sxs-lookup"><span data-stu-id="d4fd6-183">15,30</span></span>       | <span data-ttu-id="d4fd6-184">64,69</span><span class="sxs-lookup"><span data-stu-id="d4fd6-184">64.69</span></span>                            | <span data-ttu-id="d4fd6-185">Сценарии длительной длительности</span><span class="sxs-lookup"><span data-stu-id="d4fd6-185">Long duration scenarios</span></span>                     |
  | <span data-ttu-id="d4fd6-186">Видеоконференции, 100</span><span class="sxs-lookup"><span data-stu-id="d4fd6-186">VideoConferencing,100</span></span>                           | <span data-ttu-id="d4fd6-187">1952x1100</span><span class="sxs-lookup"><span data-stu-id="d4fd6-187">1952x1100</span></span> | <span data-ttu-id="d4fd6-188">1952x1100</span><span class="sxs-lookup"><span data-stu-id="d4fd6-188">1952x1100</span></span> | <span data-ttu-id="d4fd6-189">1952x1100</span><span class="sxs-lookup"><span data-stu-id="d4fd6-189">1952x1100</span></span> | <span data-ttu-id="d4fd6-190">15, 30, 60</span><span class="sxs-lookup"><span data-stu-id="d4fd6-190">15,30,60</span></span>    | <span data-ttu-id="d4fd6-191">64,69</span><span class="sxs-lookup"><span data-stu-id="d4fd6-191">64.69</span></span>                            | <span data-ttu-id="d4fd6-192">Видеоконференции, сценарии длительной длительности</span><span class="sxs-lookup"><span data-stu-id="d4fd6-192">Video conferencing, long duration scenarios</span></span> |
  | <span data-ttu-id="d4fd6-193">Видеоконференции, 100</span><span class="sxs-lookup"><span data-stu-id="d4fd6-193">Videoconferencing,100</span></span>                           | <span data-ttu-id="d4fd6-194">1504x846</span><span class="sxs-lookup"><span data-stu-id="d4fd6-194">1504x846</span></span>  | <span data-ttu-id="d4fd6-195">1504x846</span><span class="sxs-lookup"><span data-stu-id="d4fd6-195">1504x846</span></span>  |           | <span data-ttu-id="d4fd6-196">5, 15, 30, 60</span><span class="sxs-lookup"><span data-stu-id="d4fd6-196">5,15,30,60</span></span>  | <span data-ttu-id="d4fd6-197">64,69</span><span class="sxs-lookup"><span data-stu-id="d4fd6-197">64.69</span></span>                            | <span data-ttu-id="d4fd6-198">Видеоконференции, сценарии длительной длительности</span><span class="sxs-lookup"><span data-stu-id="d4fd6-198">Video conferencing, long duration scenarios</span></span> |
  | <span data-ttu-id="d4fd6-199">Видеоконференции, 100 Баланцедвидеоандфото, 120</span><span class="sxs-lookup"><span data-stu-id="d4fd6-199">Videoconferencing,100 BalancedVideoAndPhoto,120</span></span> | <span data-ttu-id="d4fd6-200">1920 x 1080</span><span class="sxs-lookup"><span data-stu-id="d4fd6-200">1920x1080</span></span> | <span data-ttu-id="d4fd6-201">1920 x 1080</span><span class="sxs-lookup"><span data-stu-id="d4fd6-201">1920x1080</span></span> | <span data-ttu-id="d4fd6-202">1920 x 1080</span><span class="sxs-lookup"><span data-stu-id="d4fd6-202">1920x1080</span></span> | <span data-ttu-id="d4fd6-203">15, 30</span><span class="sxs-lookup"><span data-stu-id="d4fd6-203">15,30</span></span>       | <span data-ttu-id="d4fd6-204">64,69</span><span class="sxs-lookup"><span data-stu-id="d4fd6-204">64.69</span></span>                            | <span data-ttu-id="d4fd6-205">Видеоконференции, сценарии длительной длительности</span><span class="sxs-lookup"><span data-stu-id="d4fd6-205">Video conferencing, long duration scenarios</span></span> |
  | <span data-ttu-id="d4fd6-206">Видеоконференции, 100 Баланцедвидеоандфото, 120</span><span class="sxs-lookup"><span data-stu-id="d4fd6-206">Videoconferencing,100 BalancedVideoAndPhoto,120</span></span> | <span data-ttu-id="d4fd6-207">1280 x 720</span><span class="sxs-lookup"><span data-stu-id="d4fd6-207">1280x720</span></span>  | <span data-ttu-id="d4fd6-208">1280 x 720</span><span class="sxs-lookup"><span data-stu-id="d4fd6-208">1280x720</span></span>  | <span data-ttu-id="d4fd6-209">1280 x 720</span><span class="sxs-lookup"><span data-stu-id="d4fd6-209">1280x720</span></span>  | <span data-ttu-id="d4fd6-210">15, 30</span><span class="sxs-lookup"><span data-stu-id="d4fd6-210">15,30</span></span>       | <span data-ttu-id="d4fd6-211">64,69</span><span class="sxs-lookup"><span data-stu-id="d4fd6-211">64.69</span></span>                            | <span data-ttu-id="d4fd6-212">Видеоконференции, сценарии длительной длительности</span><span class="sxs-lookup"><span data-stu-id="d4fd6-212">Video conferencing, long duration scenarios</span></span> |
  | <span data-ttu-id="d4fd6-213">Видеоконференции, 100 Баланцедвидеоандфото, 120</span><span class="sxs-lookup"><span data-stu-id="d4fd6-213">Videoconferencing,100 BalancedVideoAndPhoto,120</span></span> | <span data-ttu-id="d4fd6-214">1128x636</span><span class="sxs-lookup"><span data-stu-id="d4fd6-214">1128x636</span></span>  |           |           | <span data-ttu-id="d4fd6-215">15, 30</span><span class="sxs-lookup"><span data-stu-id="d4fd6-215">15,30</span></span>       | <span data-ttu-id="d4fd6-216">64,69</span><span class="sxs-lookup"><span data-stu-id="d4fd6-216">64.69</span></span>                            | <span data-ttu-id="d4fd6-217">Видеоконференции, сценарии длительной длительности</span><span class="sxs-lookup"><span data-stu-id="d4fd6-217">Video conferencing, long duration scenarios</span></span> |
  | <span data-ttu-id="d4fd6-218">Видеоконференции, 100 Баланцедвидеоандфото, 120</span><span class="sxs-lookup"><span data-stu-id="d4fd6-218">Videoconferencing,100 BalancedVideoAndPhoto,120</span></span> | <span data-ttu-id="d4fd6-219">960x540</span><span class="sxs-lookup"><span data-stu-id="d4fd6-219">960x540</span></span>   |           |           | <span data-ttu-id="d4fd6-220">15, 30</span><span class="sxs-lookup"><span data-stu-id="d4fd6-220">15,30</span></span>       | <span data-ttu-id="d4fd6-221">64,69</span><span class="sxs-lookup"><span data-stu-id="d4fd6-221">64.69</span></span>                            | <span data-ttu-id="d4fd6-222">Видеоконференции, сценарии длительной длительности</span><span class="sxs-lookup"><span data-stu-id="d4fd6-222">Video conferencing, long duration scenarios</span></span> |
  | <span data-ttu-id="d4fd6-223">Видеоконференции, 100 Баланцедвидеоандфото, 120</span><span class="sxs-lookup"><span data-stu-id="d4fd6-223">Videoconferencing,100 BalancedVideoAndPhoto,120</span></span> | <span data-ttu-id="d4fd6-224">760x428</span><span class="sxs-lookup"><span data-stu-id="d4fd6-224">760x428</span></span>   |           |           | <span data-ttu-id="d4fd6-225">15, 30</span><span class="sxs-lookup"><span data-stu-id="d4fd6-225">15,30</span></span>       | <span data-ttu-id="d4fd6-226">64,69</span><span class="sxs-lookup"><span data-stu-id="d4fd6-226">64.69</span></span>                            | <span data-ttu-id="d4fd6-227">Видеоконференции, сценарии длительной длительности</span><span class="sxs-lookup"><span data-stu-id="d4fd6-227">Video conferencing, long duration scenarios</span></span> |
  | <span data-ttu-id="d4fd6-228">Видеоконференции, 100 Баланцедвидеоандфото, 120</span><span class="sxs-lookup"><span data-stu-id="d4fd6-228">Videoconferencing,100 BalancedVideoAndPhoto,120</span></span> | <span data-ttu-id="d4fd6-229">640 x 360</span><span class="sxs-lookup"><span data-stu-id="d4fd6-229">640x360</span></span>   |           |           | <span data-ttu-id="d4fd6-230">15, 30</span><span class="sxs-lookup"><span data-stu-id="d4fd6-230">15,30</span></span>       | <span data-ttu-id="d4fd6-231">64,69</span><span class="sxs-lookup"><span data-stu-id="d4fd6-231">64.69</span></span>                            | <span data-ttu-id="d4fd6-232">Видеоконференции, сценарии длительной длительности</span><span class="sxs-lookup"><span data-stu-id="d4fd6-232">Video conferencing, long duration scenarios</span></span> |
  | <span data-ttu-id="d4fd6-233">Видеоконференции, 100 Баланцедвидеоандфото, 120</span><span class="sxs-lookup"><span data-stu-id="d4fd6-233">Videoconferencing,100 BalancedVideoAndPhoto,120</span></span> | <span data-ttu-id="d4fd6-234">500x282</span><span class="sxs-lookup"><span data-stu-id="d4fd6-234">500x282</span></span>   |           |           | <span data-ttu-id="d4fd6-235">15, 30</span><span class="sxs-lookup"><span data-stu-id="d4fd6-235">15,30</span></span>       | <span data-ttu-id="d4fd6-236">64,69</span><span class="sxs-lookup"><span data-stu-id="d4fd6-236">64.69</span></span>                            | <span data-ttu-id="d4fd6-237">Видеоконференции, сценарии длительной длительности</span><span class="sxs-lookup"><span data-stu-id="d4fd6-237">Video conferencing, long duration scenarios</span></span> |
  | <span data-ttu-id="d4fd6-238">Видеоконференции, 100 Баланцедвидеоандфото, 120</span><span class="sxs-lookup"><span data-stu-id="d4fd6-238">Videoconferencing,100 BalancedVideoAndPhoto,120</span></span> | <span data-ttu-id="d4fd6-239">424x240</span><span class="sxs-lookup"><span data-stu-id="d4fd6-239">424x240</span></span>   |           |           | <span data-ttu-id="d4fd6-240">15, 30</span><span class="sxs-lookup"><span data-stu-id="d4fd6-240">15,30</span></span>       | <span data-ttu-id="d4fd6-241">64,69</span><span class="sxs-lookup"><span data-stu-id="d4fd6-241">64.69</span></span>                            | <span data-ttu-id="d4fd6-242">Видеоконференции, сценарии длительной длительности</span><span class="sxs-lookup"><span data-stu-id="d4fd6-242">Video conferencing, long duration scenarios</span></span> |

>[!NOTE]
><span data-ttu-id="d4fd6-243">Клиенты могут использовать [запись смешанной реальности](mixed-reality-capture.md) , чтобы принимать видео или фотографии приложения, включая голограммы и видео стабилизации.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-243">Customers can leverage [mixed reality capture](mixed-reality-capture.md) to take videos or photos of your app, which include holograms and video stabilization.</span></span>
>
><span data-ttu-id="d4fd6-244">В качестве разработчика необходимо учитывать вопросы, которые следует учитывать при создании приложения, если вы хотите, чтобы он был как можно более хорошим, когда клиент захватывает содержимое.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-244">As a developer, there are considerations you should take into account when creating your app if you want it to look as good as possible when a customer captures content.</span></span> <span data-ttu-id="d4fd6-245">Вы также можете включить (и настроить) запись смешанной реальности непосредственно в приложении.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-245">You can also enable (and customize) mixed reality capture from directly within your app.</span></span> <span data-ttu-id="d4fd6-246">Узнайте больше о [записи смешанной реальности для разработчиков](mixed-reality-capture-for-developers.md).</span><span class="sxs-lookup"><span data-stu-id="d4fd6-246">Learn more at [mixed reality capture for developers](mixed-reality-capture-for-developers.md).</span></span>

## <a name="locating-the-device-camera-in-the-world"></a><span data-ttu-id="d4fd6-247">Поиск камеры устройства в мире</span><span class="sxs-lookup"><span data-stu-id="d4fd6-247">Locating the Device Camera in the World</span></span>

<span data-ttu-id="d4fd6-248">Когда HoloLens принимает фотографии и видео, захваченные кадры включают расположение камеры в мире, а также модель линзы камеры.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-248">When HoloLens takes photos and videos, the captured frames include the location of the camera in the world, as well as the lens model of the camera.</span></span> <span data-ttu-id="d4fd6-249">Это позволяет приложениям полагаться на расположение камеры в реальном мире для сценариев дополненных изображений.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-249">This allows applications to reason about the position of the camera in the real world for augmented imaging scenarios.</span></span> <span data-ttu-id="d4fd6-250">Разработчики могут творческо разбросить свои сценарии, используя избранные изображения или пользовательские библиотеки компьютерных концепций.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-250">Developers can creatively roll their own scenarios using their favorite image processing or custom computer vision libraries.</span></span>

<span data-ttu-id="d4fd6-251">"Камера" в любой части документации по HoloLens может ссылаться на "виртуальная игровая Камера" (фрустум приложение готовится к просмотру).</span><span class="sxs-lookup"><span data-stu-id="d4fd6-251">"Camera" elsewhere in HoloLens documentation may refer to the "virtual game camera" (the frustum the app renders to).</span></span> <span data-ttu-id="d4fd6-252">Если не указано иное, "Камера" на этой странице относится к реальной цветовой камере RGB.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-252">Unless denoted otherwise, "camera" on this page refers to the real-world RGB color camera.</span></span>

### <a name="using-unity"></a><span data-ttu-id="d4fd6-253">Использование Unity</span><span class="sxs-lookup"><span data-stu-id="d4fd6-253">Using Unity</span></span>

<span data-ttu-id="d4fd6-254">Чтобы перейти от "Камераинтринсикс" и "Камеракурдинатесистем" к своей системе координат приложения или мира, следуйте инструкциям в статье о [камере размещаемые в Unity](locatable-camera-in-unity.md) .</span><span class="sxs-lookup"><span data-stu-id="d4fd6-254">To go from the 'CameraIntrinsics' and 'CameraCoordinateSystem' to your application/world coordinate system, follow the instructions in the [Locatable camera in Unity](locatable-camera-in-unity.md) article.</span></span>  <span data-ttu-id="d4fd6-255">Камератоворлдматрикс автоматически предоставляется классом Фотокаптурефраме, поэтому вам не нужно беспокоиться о преобразованиях Камеракурдинатесистем, описанных ниже.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-255">CameraToWorldMatrix is automatically provided by PhotoCaptureFrame class, and so you don't need to worry about the CameraCoordinateSystem transforms discussed below.</span></span>

### <a name="using-mediaframereference"></a><span data-ttu-id="d4fd6-256">Использование Медиафрамереференце</span><span class="sxs-lookup"><span data-stu-id="d4fd6-256">Using MediaFrameReference</span></span>

<span data-ttu-id="d4fd6-257">Эти инструкции применяются, если вы используете класс [медиафрамереференце](https://docs.microsoft.com//uwp/api/windows.media.capture.frames.mediaframereference) для чтения кадров изображения с камеры.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-257">These instructions apply if you are using the [MediaFrameReference](https://docs.microsoft.com//uwp/api/windows.media.capture.frames.mediaframereference) class to read image frames from the camera.</span></span>

<span data-ttu-id="d4fd6-258">Каждый кадр изображения (фото или видео) включает в себя [спатиалкурдинатесистем](https://docs.microsoft.com//uwp/api/windows.perception.spatial.spatialcoordinatesystem) с корнем на камере во время записи, доступ к которому можно получить с помощью свойства [курдинатесистем](https://docs.microsoft.com//uwp/api/windows.media.capture.frames.mediaframereference.coordinatesystem#Windows_Media_Capture_Frames_MediaFrameReference_CoordinateSystem) [медиафрамереференце](https://docs.microsoft.com//uwp/api/Windows.Media.Capture.Frames.MediaFrameReference).</span><span class="sxs-lookup"><span data-stu-id="d4fd6-258">Each image frame (whether photo or video) includes a [SpatialCoordinateSystem](https://docs.microsoft.com//uwp/api/windows.perception.spatial.spatialcoordinatesystem) rooted at the camera at the time of capture, which can be accessed using the [CoordinateSystem](https://docs.microsoft.com//uwp/api/windows.media.capture.frames.mediaframereference.coordinatesystem#Windows_Media_Capture_Frames_MediaFrameReference_CoordinateSystem) property of your [MediaFrameReference](https://docs.microsoft.com//uwp/api/Windows.Media.Capture.Frames.MediaFrameReference).</span></span> <span data-ttu-id="d4fd6-259">Кроме того, каждый кадр содержит описание модели линзы, которое можно найти в свойстве [камераинтринсикс](https://docs.microsoft.com//uwp/api/windows.media.capture.frames.videomediaframe.cameraintrinsics#Windows_Media_Capture_Frames_VideoMediaFrame_CameraIntrinsics) .</span><span class="sxs-lookup"><span data-stu-id="d4fd6-259">In addition, each frame contains a description of the camera lens model, which can be found in the [CameraIntrinsics](https://docs.microsoft.com//uwp/api/windows.media.capture.frames.videomediaframe.cameraintrinsics#Windows_Media_Capture_Frames_VideoMediaFrame_CameraIntrinsics) property.</span></span> <span data-ttu-id="d4fd6-260">Вместе эти преобразования определяются для каждого пикселя в трехмерном пространстве, представляющем путь, взятый фотоны, который создал пиксель.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-260">Together, these transforms define for each pixel a ray in 3D space representing the path taken by the photons that produced the pixel.</span></span> <span data-ttu-id="d4fd6-261">Эти лучи могут быть связаны с другим содержимым в приложении путем получения преобразования из системы координат кадра в другую систему координат (например, из [стационарной рамки ссылки](coordinate-systems.md#stationary-frame-of-reference)).</span><span class="sxs-lookup"><span data-stu-id="d4fd6-261">These rays can be related to other content in the app by obtaining the transform from the frame's coordinate system to some other coordinate system (e.g. from a [stationary frame of reference](coordinate-systems.md#stationary-frame-of-reference)).</span></span> <span data-ttu-id="d4fd6-262">В итоге каждый кадр изображения предоставляет следующие сведения:</span><span class="sxs-lookup"><span data-stu-id="d4fd6-262">To summarize, each image frame provides the following:</span></span>
* <span data-ttu-id="d4fd6-263">Пиксельные данные (в формате RGB/NV12/JPEG/т. д.)</span><span class="sxs-lookup"><span data-stu-id="d4fd6-263">Pixel Data (in RGB/NV12/JPEG/etc. format)</span></span>
* <span data-ttu-id="d4fd6-264">[Спатиалкурдинатесистем](https://docs.microsoft.com//uwp/api/windows.perception.spatial.spatialcoordinatesystem) из расположения записи</span><span class="sxs-lookup"><span data-stu-id="d4fd6-264">A [SpatialCoordinateSystem](https://docs.microsoft.com//uwp/api/windows.perception.spatial.spatialcoordinatesystem) from the location of capture</span></span>
* <span data-ttu-id="d4fd6-265">Класс [камераинтринсикс](https://docs.microsoft.com//uwp/api/windows.media.capture.frames.videomediaframe.cameraintrinsics#Windows_Media_Capture_Frames_VideoMediaFrame_CameraIntrinsics) , содержащий режим линзы камеры</span><span class="sxs-lookup"><span data-stu-id="d4fd6-265">A [CameraIntrinsics](https://docs.microsoft.com//uwp/api/windows.media.capture.frames.videomediaframe.cameraintrinsics#Windows_Media_Capture_Frames_VideoMediaFrame_CameraIntrinsics) class containing the lens mode of the camera</span></span>

<span data-ttu-id="d4fd6-266">[Образец холографикфацетраккинг](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/HolographicFaceTracking) показывает довольно простой способ запроса преобразования между системой координат камеры и собственными системами координат приложения.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-266">The [HolographicFaceTracking sample](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/HolographicFaceTracking) shows the fairly straightforward way to query for the transform between the camera's coordinate system and your own application coordinate systems.</span></span>

### <a name="using-media-foundation"></a><span data-ttu-id="d4fd6-267">Использование Media Foundation</span><span class="sxs-lookup"><span data-stu-id="d4fd6-267">Using Media Foundation</span></span>

<span data-ttu-id="d4fd6-268">Если вы используете Media Foundation непосредственно для чтения кадров изображения с камеры, можно использовать [атрибуты MFSampleExtension_CameraExtrinsics](https://docs.microsoft.com/windows/win32/medfound/mfsampleextension-cameraextrinsics) и [MFSampleExtension_PinholeCameraIntrinsics](https://docs.microsoft.com/windows/win32/medfound/mfsampleextension-pinholecameraintrinsics) для каждого кадра, чтобы нахождение кадров камеры относительно других систем координат вашего приложения, как показано в следующем примере кода:</span><span class="sxs-lookup"><span data-stu-id="d4fd6-268">If you are using Media Foundation directly to read image frames from the camera, you can use each frame's [MFSampleExtension_CameraExtrinsics attribute](https://docs.microsoft.com/windows/win32/medfound/mfsampleextension-cameraextrinsics) and [MFSampleExtension_PinholeCameraIntrinsics attribute](https://docs.microsoft.com/windows/win32/medfound/mfsampleextension-pinholecameraintrinsics) to locate camera frames relative to your application's other coordinate systems, as shown in this sample code:</span></span>

```cpp
#include <winrt/windows.perception.spatial.preview.h>
#include <mfapi.h>
#include <mfidl.h>
 
using namespace winrt::Windows::Foundation;
using namespace winrt::Windows::Foundation::Numerics;
using namespace winrt::Windows::Perception;
using namespace winrt::Windows::Perception::Spatial;
using namespace winrt::Windows::Perception::Spatial::Preview;
 
class CameraFrameLocator
{
public:
    struct CameraFrameLocation
    {
        SpatialCoordinateSystem CoordinateSystem;
        float4x4 CameraViewToCoordinateSytemTransform;
        MFPinholeCameraIntrinsics Intrinsics;
    };
 
    std::optional<CameraFrameLocation> TryLocateCameraFrame(IMFSample* pSample)
    {
        MFCameraExtrinsics cameraExtrinsics;
        MFPinholeCameraIntrinsics cameraIntrinsics;
        UINT32 sizeCameraExtrinsics = 0;
        UINT32 sizeCameraIntrinsics = 0;
        UINT64 sampleTimeQpc = 0;
 
        // query sample for calibration and validate
        if (FAILED(pSample->GetUINT64(MFSampleExtension_DeviceTimestamp, &sampleTimeQpc)) ||
            FAILED(pSample->GetBlob(MFSampleExtension_CameraExtrinsics, (UINT8*)& cameraExtrinsics, sizeof(cameraExtrinsics), &sizeCameraExtrinsics)) ||
            FAILED(pSample->GetBlob(MFSampleExtension_PinholeCameraIntrinsics, (UINT8*)& cameraIntrinsics, sizeof(cameraIntrinsics), &sizeCameraIntrinsics)) ||
            (sizeCameraExtrinsics != sizeof(cameraExtrinsics)) ||
            (sizeCameraIntrinsics != sizeof(cameraIntrinsics)) ||
            (cameraExtrinsics.TransformCount == 0))
        {
            return std::nullopt;
        }
 
        // compute extrinsic transform
        const auto& calibratedTransform = cameraExtrinsics.CalibratedTransforms[0];
        const GUID& dynamicNodeId = calibratedTransform.CalibrationId;
        const float4x4 cameraToDynamicNode =
            make_float4x4_from_quaternion(quaternion{ calibratedTransform.Orientation.x, calibratedTransform.Orientation.y, calibratedTransform.Orientation.z, calibratedTransform.Orientation.w }) *
            make_float4x4_translation(calibratedTransform.Position.x, calibratedTransform.Position.y, calibratedTransform.Position.z);
 
        // update locator cache for dynamic node
        if (dynamicNodeId != m_currentDynamicNodeId || !m_locator)
        {
            m_locator = SpatialGraphInteropPreview::CreateLocatorForNode(dynamicNodeId);
            if (!m_locator)
            {
                return std::nullopt;
            }
 
            m_frameOfReference = m_locator.CreateAttachedFrameOfReferenceAtCurrentHeading();
            m_currentDynamicNodeId = dynamicNodeId;
        }
 
        // locate dynamic node
        auto timestamp = PerceptionTimestampHelper::FromSystemRelativeTargetTime(TimeSpanFrodmQpcTicks(sampleTimeQpc));
        auto coordinateSystem = m_frameOfReference.GetStationaryCoordinateSystemAtTimestamp(timestamp);
        auto location = m_locator.TryLocateAtTimestamp(timestamp, coordinateSystem);
        if (!location)
        {
            return std::nullopt;
        }
 
        const float4x4 dynamicNodeToCoordinateSystem = make_float4x4_from_quaternion(location.Orientation()) * make_float4x4_translation(location.Position());
 
        return CameraFrameLocation{ coordinateSystem, cameraToDynamicNode * dynamicNodeToCoordinateSystem, cameraIntrinsics };
    }
 
private:
    GUID m_currentDynamicNodeId{ GUID_NULL };
    SpatialLocator m_locator{ nullptr };
    SpatialLocatorAttachedFrameOfReference m_frameOfReference{ nullptr };
 
    // Convert a duration value from a source tick frequency to a destination tick frequency.
    static inline int64_t SourceDurationTicksToDestDurationTicks(int64_t sourceDurationInTicks, int64_t sourceTicksPerSecond, int64_t destTicksPerSecond)
    {
        int64_t whole = (sourceDurationInTicks / sourceTicksPerSecond) * destTicksPerSecond;                          // 'whole' is rounded down in the target time units.
        int64_t part = (sourceDurationInTicks % sourceTicksPerSecond) * destTicksPerSecond / sourceTicksPerSecond;    // 'part' is the remainder in the target time units.
        return whole + part;
    }
 
    static inline TimeSpan TimeSpanFromQpcTicks(int64_t qpcTicks)
    {
        static const int64_t qpcFrequency = []
        {
            LARGE_INTEGER frequency;
            QueryPerformanceFrequency(&frequency);
            return frequency.QuadPart;
        }();
 
        return TimeSpan{ SourceDurationTicksToDestDurationTicks(qpcTicks, qpcFrequency, winrt::clock::period::den) / winrt::clock::period::num };
    }
};
```

### <a name="distortion-error"></a><span data-ttu-id="d4fd6-269">Ошибка искажения</span><span class="sxs-lookup"><span data-stu-id="d4fd6-269">Distortion Error</span></span>

<span data-ttu-id="d4fd6-270">В HoloLens поток видео и все еще не искажается в конвейере обработки образа системы до того, как фреймы становятся доступными для приложения (в предварительной версии потока содержатся исходные искаженные кадры).</span><span class="sxs-lookup"><span data-stu-id="d4fd6-270">On HoloLens, the video and still image streams are undistorted in the system's image processing pipeline before the frames are made available to the application (the preview stream contains the original distorted frames).</span></span> <span data-ttu-id="d4fd6-271">Поскольку доступны только Камераинтринсикс, приложения должны предположить, что кадры изображения представляют собой идеальную пинхоле камеру.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-271">Because only the CameraIntrinsics are made available, applications must assume image frames represent a perfect pinhole camera.</span></span>

<span data-ttu-id="d4fd6-272">В HoloLens (первое поколение) функция undistortия в обработчике изображений может оставить ошибку размером до 10 пикселей при использовании Камераинтринсикс в метаданных кадра.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-272">On HoloLens (first-generation), the undistortion function in the image processor may still leave an error of up to 10 pixels when using the CameraIntrinsics in the frame metadata.</span></span> <span data-ttu-id="d4fd6-273">Во многих случаях эта ошибка не имеет значения, но если вы выводите голограммы на реальные плакаты и маркеры, а также заметили <10px смещение (примерно 11mm для голограмм, расположенных на расстоянии 2 метров), эта ошибка может быть вызвана ошибкой искажения.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-273">In many use cases, this error will not matter, but if you are aligning holograms to real world posters/markers, for example, and you notice a <10px offset (roughly 11mm for holograms positioned 2 meters away), this distortion error could be the cause.</span></span> 

## <a name="locatable-camera-usage-scenarios"></a><span data-ttu-id="d4fd6-274">Сценарии использования камеры размещаемые</span><span class="sxs-lookup"><span data-stu-id="d4fd6-274">Locatable Camera Usage Scenarios</span></span>

### <a name="show-a-photo-or-video-in-the-world-where-it-was-captured"></a><span data-ttu-id="d4fd6-275">Показывать фотографию или видео в мире, где они были собраны</span><span class="sxs-lookup"><span data-stu-id="d4fd6-275">Show a photo or video in the world where it was captured</span></span>

<span data-ttu-id="d4fd6-276">Кадры камеры устройства поставляются с преобразованием «Камера — мир», которое можно использовать для отображения точного расположения устройства при создании образа.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-276">The Device Camera frames come with a "Camera To World" transform, that can be used to show exactly where the device was when the image was taken.</span></span> <span data-ttu-id="d4fd6-277">Например, можно разместить небольшой holographic-значок в этом месте (Камератоворлд. Мултиплипоинт (Vector3. Zero)) и даже нарисовать маленькую стрелку в направлении, в котором была направлена камера (Камератоворлд. Мултипливектор (Vector3. Forward)).</span><span class="sxs-lookup"><span data-stu-id="d4fd6-277">For example, you could position a small holographic icon at this location (CameraToWorld.MultiplyPoint(Vector3.zero)) and even draw a little arrow in the direction that the camera was facing (CameraToWorld.MultiplyVector(Vector3.forward)).</span></span>

### <a name="tag--pattern--poster--object-tracking"></a><span data-ttu-id="d4fd6-278">Тег/шаблон/Афиша/Отслеживание объектов</span><span class="sxs-lookup"><span data-stu-id="d4fd6-278">Tag / Pattern / Poster / Object Tracking</span></span>

<span data-ttu-id="d4fd6-279">Многие приложения смешанной реальности используют распознаваемый образ или визуальный шаблон для создания отслеживающей точки в пространстве.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-279">Many mixed reality applications use a recognizable image or visual pattern to create a trackable point in space.</span></span> <span data-ttu-id="d4fd6-280">Затем он используется для отрисовки объектов относительно этого момента или для создания известного расположения.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-280">This is then used to render objects relative to that point or create a known location.</span></span> <span data-ttu-id="d4fd6-281">Некоторые способы использования HoloLens включают поиск объекта в реальном мире с тегами фидуЦиалс (например, ТВ-монитор с QR-кодом), размещение голограмм на фидуЦиалс и визуальное связывание с устройствами, не являющимися HoloLens, такими как планшеты, настроенные для обмена данными с HoloLens через Wi-Fi.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-281">Some uses for HoloLens include finding a real world object tagged with fiducials (e.g. a TV monitor with a QR code), placing holograms over fiducials, and visually pairing with non-HoloLens devices like tablets that have been setup to communicate with HoloLens via Wi-Fi.</span></span>

<span data-ttu-id="d4fd6-282">Чтобы распознать визуальный шаблон, а затем поместить этот объект в мировое пространство приложений, потребуется выполнить несколько действий:</span><span class="sxs-lookup"><span data-stu-id="d4fd6-282">To recognize a visual pattern, and then place that object in the applications world space, you'll need a few things:</span></span>
1. <span data-ttu-id="d4fd6-283">Набор средств для распознавания шаблона изображения, например QR-код, Теги AR, поиск лиц, круговые инспекторы, распознавание текста и т. д.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-283">An image pattern recognition toolkit, such as QR code, AR tags, face finder, circle trackers, OCR etc.</span></span>
2. <span data-ttu-id="d4fd6-284">Собирать кадры изображения во время выполнения и передавать их на уровень распознавания</span><span class="sxs-lookup"><span data-stu-id="d4fd6-284">Collect image frames at runtime, and pass them to the recognition layer</span></span>
3. <span data-ttu-id="d4fd6-285">Отменяйте свои расположения образов обратно в мировые положения или, вероятнее всего, в разных регионах.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-285">Unproject their image locations back into world positions, or likely world rays.</span></span> 
4. <span data-ttu-id="d4fd6-286">Размещение виртуальных моделей в этих местах мира</span><span class="sxs-lookup"><span data-stu-id="d4fd6-286">Position your virtual models over these world locations</span></span>

<span data-ttu-id="d4fd6-287">Некоторые важные ссылки для обработки изображений:</span><span class="sxs-lookup"><span data-stu-id="d4fd6-287">Some important image processing links:</span></span>
* [<span data-ttu-id="d4fd6-288">OpenCV</span><span class="sxs-lookup"><span data-stu-id="d4fd6-288">OpenCV</span></span>](https://opencv.org/)
* [<span data-ttu-id="d4fd6-289">Теги QR</span><span class="sxs-lookup"><span data-stu-id="d4fd6-289">QR Tags</span></span>](https://en.wikipedia.org/wiki/QR_code)
* [<span data-ttu-id="d4fd6-290">фацесдк</span><span class="sxs-lookup"><span data-stu-id="d4fd6-290">FaceSDK</span></span>](https://research.microsoft.com/projects/facesdk/)
* [<span data-ttu-id="d4fd6-291">Microsoft Translator</span><span class="sxs-lookup"><span data-stu-id="d4fd6-291">Microsoft Translator</span></span>](https://www.microsoft.com/translator/business)

<span data-ttu-id="d4fd6-292">Поддержание интерактивной частоты кадров приложений очень важна, особенно при работе с долгосрочными алгоритмами распознавания изображений.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-292">Keeping an interactive application frame-rate is critical, especially when dealing with long-running image recognition algorithms.</span></span> <span data-ttu-id="d4fd6-293">По этой причине мы обычно используем следующий шаблон:</span><span class="sxs-lookup"><span data-stu-id="d4fd6-293">For this reason, we commonly use the following pattern:</span></span>
1. <span data-ttu-id="d4fd6-294">Основной поток: управляет объектом Camera</span><span class="sxs-lookup"><span data-stu-id="d4fd6-294">Main Thread: manages the camera object</span></span>
2. <span data-ttu-id="d4fd6-295">Основной поток: запрашивает новые кадры (асинхронно)</span><span class="sxs-lookup"><span data-stu-id="d4fd6-295">Main Thread: requests new frames (async)</span></span>
3. <span data-ttu-id="d4fd6-296">Основной поток: передача новых кадров в отслеживаемый поток</span><span class="sxs-lookup"><span data-stu-id="d4fd6-296">Main Thread: pass new frames to tracking thread</span></span>
4. <span data-ttu-id="d4fd6-297">Поток отслеживания: обрабатывает изображение для сбора ключевых точек</span><span class="sxs-lookup"><span data-stu-id="d4fd6-297">Tracking Thread: processes image to collect key points</span></span>
5. <span data-ttu-id="d4fd6-298">Основной поток: перемещение виртуальной модели в соответствие найденных ключевых точек</span><span class="sxs-lookup"><span data-stu-id="d4fd6-298">Main Thread: moves virtual model to match found key points</span></span>
6. <span data-ttu-id="d4fd6-299">Основной поток: повторение из шага 2</span><span class="sxs-lookup"><span data-stu-id="d4fd6-299">Main Thread: repeat from step 2</span></span>

<span data-ttu-id="d4fd6-300">Некоторые системы меток изображений обеспечивают только одно место в пикселях (другие предоставляют полное преобразование, в котором этот раздел не потребуется), что соответствует лучау возможных расположений.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-300">Some image marker systems only provide a single pixel location (others provide the full transform in which case this section will not be needed), which equates to a ray of possible locations.</span></span> <span data-ttu-id="d4fd6-301">Чтобы получить одно трехмерное расположение, можно использовать несколько лучей и найти окончательный результат по их приблизительному пересечением.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-301">To get to a single 3d location, we can then leverage multiple rays and find the final result by their approximate intersection.</span></span> <span data-ttu-id="d4fd6-302">Вот как это сделать.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-302">To do this, you'll need to:</span></span>
1. <span data-ttu-id="d4fd6-303">Получение цикла, который собирает несколько изображений с камеры</span><span class="sxs-lookup"><span data-stu-id="d4fd6-303">Get a loop going collecting multiple camera images</span></span>
2. <span data-ttu-id="d4fd6-304">Найдите связанные точки компонентов и их лучи мира</span><span class="sxs-lookup"><span data-stu-id="d4fd6-304">Find the associated feature points, and their world rays</span></span>
3. <span data-ttu-id="d4fd6-305">Если у вас есть словарь функций, каждый из которых имеет несколько мировых индексов, можно использовать следующий код для решения пересечения этих лучей:</span><span class="sxs-lookup"><span data-stu-id="d4fd6-305">When you have a dictionary of features, each with multiple world rays, you can use the following code to solve for the intersection of those rays:</span></span>

```
public static Vector3 ClosestPointBetweenRays(
   Vector3 point1, Vector3 normalizedDirection1,
   Vector3 point2, Vector3 normalizedDirection2) {
   float directionProjection = Vector3.Dot(normalizedDirection1, normalizedDirection2);
   if (directionProjection == 1) {
     return point1; // parallel lines
   }
   float projection1 = Vector3.Dot(point2 - point1, normalizedDirection1);
   float projection2 = Vector3.Dot(point2 - point1, normalizedDirection2);
   float distanceAlongLine1 = (projection1 - directionProjection * projection2) / (1 - directionProjection * directionProjection);
   float distanceAlongLine2 = (projection2 - directionProjection * projection1) / (directionProjection * directionProjection - 1);
   Vector3 pointOnLine1 = point1 + distanceAlongLine1 * normalizedDirection1;
   Vector3 pointOnLine2 = point2 + distanceAlongLine2 * normalizedDirection2;
   return Vector3.Lerp(pointOnLine2, pointOnLine1, 0.5f);
 }
```

<span data-ttu-id="d4fd6-306">Учитывая два или более расположений отслеживаний тегов, можно разместить смоделированную сцену в соответствии с текущим сценарием пользователя.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-306">Given two or more tracked tag locations, you can position a modelled scene to fit the user's current scenario.</span></span> <span data-ttu-id="d4fd6-307">Если вы не можете предположить сила притяжения, вам потребуется три расположения тегов.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-307">If you can't assume gravity, then you'll need three tag locations.</span></span> <span data-ttu-id="d4fd6-308">Во многих случаях мы используем простую цветовую схему, где белый шарик представляет расположение тегов, отслеживающихся в реальном времени, а синий шарик — расположение тегов в модели.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-308">In many cases, we use a simple color scheme where white spheres represent real-time tracked tag locations, and blue spheres represent modelled tag locations.</span></span> <span data-ttu-id="d4fd6-309">Это позволяет пользователю визуально оценить качество выравнивания.</span><span class="sxs-lookup"><span data-stu-id="d4fd6-309">This allows the user to visually gauge the alignment quality.</span></span> <span data-ttu-id="d4fd6-310">Мы предполагаем, что во всех наших приложениях выполняется следующая настройка:</span><span class="sxs-lookup"><span data-stu-id="d4fd6-310">We assume the following setup in all our applications:</span></span>
* <span data-ttu-id="d4fd6-311">Два или более расположений тегов в модели</span><span class="sxs-lookup"><span data-stu-id="d4fd6-311">Two or more modelled tag locations</span></span>
* <span data-ttu-id="d4fd6-312">Одна область калибровки, которая в сцене является родителем тегов</span><span class="sxs-lookup"><span data-stu-id="d4fd6-312">One 'calibration space' which in the scene is the parent of the tags</span></span>
* <span data-ttu-id="d4fd6-313">Идентификатор компонента камеры</span><span class="sxs-lookup"><span data-stu-id="d4fd6-313">Camera feature identifier</span></span>
* <span data-ttu-id="d4fd6-314">Поведение, которое перемещает пространство калибровки для согласования тегов, заключенных в модели, с тегами в реальном времени (мы осторожно перейдем к родительскому пространству, а не к самим маркерам, так как другие соединения являются позициями, связанными с ними).</span><span class="sxs-lookup"><span data-stu-id="d4fd6-314">Behavior which moves the calibration space to align the modelled tags with the real-time tags (we are careful to move the parent space, not the modelled markers themselves, because other connect is positions relative to them).</span></span>

```
// In the two tags case:
 Vector3 idealDelta = (realTags[1].EstimatedWorldPos - realTags[0].EstimatedWorldPos);
 Vector3 curDelta = (modelledTags[1].transform.position - modelledTags[0].transform.position);
 if (IsAssumeGravity) {
   idealDelta.y = 0;
   curDelta.y = 0;
 }
 Quaternion deltaRot = Quaternion.FromToRotation(curDelta, idealDelta);
 trans.rotation = Quaternion.LookRotation(deltaRot * trans.forward, trans.up);
 trans.position += realTags[0].EstimatedWorldPos - modelledTags[0].transform.position;
```

### <a name="track-or-identify-tagged-stationary-or-moving-real-world-objectsfaces-using-leds-or-other-recognizer-libraries"></a><span data-ttu-id="d4fd6-315">Отслеживать или выявлять стационарные или переносить реальные объекты и лица с помощью индикаторов или других библиотек распознавателей;</span><span class="sxs-lookup"><span data-stu-id="d4fd6-315">Track or Identify Tagged Stationary or Moving real-world objects/faces using LEDs or other recognizer libraries</span></span>

<span data-ttu-id="d4fd6-316">Примеры</span><span class="sxs-lookup"><span data-stu-id="d4fd6-316">Examples:</span></span>
* <span data-ttu-id="d4fd6-317">Промышленные роботы с индикаторами (или QR-коды для более медленных движущихся объектов)</span><span class="sxs-lookup"><span data-stu-id="d4fd6-317">Industrial robots with LEDs (or QR codes for slower moving objects)</span></span>
* <span data-ttu-id="d4fd6-318">Определение и распознавание объектов в комнате</span><span class="sxs-lookup"><span data-stu-id="d4fd6-318">Identify and recognize objects in the room</span></span>
* <span data-ttu-id="d4fd6-319">Определение и распознавание людей в комнате (например, помещайте с помощью карточек контактных лиц)</span><span class="sxs-lookup"><span data-stu-id="d4fd6-319">Identify and recognize people in the room (e.g. place holographic contact cards over faces)</span></span>

## <a name="see-also"></a><span data-ttu-id="d4fd6-320">См. также статью</span><span class="sxs-lookup"><span data-stu-id="d4fd6-320">See also</span></span>
* [<span data-ttu-id="d4fd6-321">Пример камеры размещаемые</span><span class="sxs-lookup"><span data-stu-id="d4fd6-321">Locatable camera sample</span></span>](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/HolographicFaceTracking)
* [<span data-ttu-id="d4fd6-322">Камера с определяемым местоположением в Unity</span><span class="sxs-lookup"><span data-stu-id="d4fd6-322">Locatable camera in Unity</span></span>](locatable-camera-in-unity.md)
* [<span data-ttu-id="d4fd6-323">Съемка смешанной реальности</span><span class="sxs-lookup"><span data-stu-id="d4fd6-323">Mixed reality capture</span></span>](mixed-reality-capture.md)
* [<span data-ttu-id="d4fd6-324">Съемка смешанной реальности для разработчиков</span><span class="sxs-lookup"><span data-stu-id="d4fd6-324">Mixed reality capture for developers</span></span>](mixed-reality-capture-for-developers.md)
* [<span data-ttu-id="d4fd6-325">Введение в запись носителя</span><span class="sxs-lookup"><span data-stu-id="d4fd6-325">Media capture introduction</span></span>](https://msdn.microsoft.com/library/windows/apps/mt243896.aspx)
* [<span data-ttu-id="d4fd6-326">Пример отслеживания с "holographic лиц"</span><span class="sxs-lookup"><span data-stu-id="d4fd6-326">Holographic face tracking sample</span></span>](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/HolographicFaceTracking)
