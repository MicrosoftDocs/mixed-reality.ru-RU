---
title: Может быть найдена камеры
description: Общие сведения о Передняя камера с выходом HoloLens.
author: wguyman
ms.author: wguyman
ms.date: 02/24/2019
ms.topic: article
keywords: с доступом к передней камеры, hololens, цвет камеры,
ms.openlocfilehash: ffcd6faf15dd8556db393237d468a3cdf60e4bdb
ms.sourcegitcommit: 384b0087899cd835a3a965f75c6f6c607c9edd1b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/12/2019
ms.locfileid: "59603623"
---
# <a name="locatable-camera"></a><span data-ttu-id="8d3bb-104">Может быть найдена камеры</span><span class="sxs-lookup"><span data-stu-id="8d3bb-104">Locatable camera</span></span>

<span data-ttu-id="8d3bb-105">HoloLens включает world камера на передней части устройства, которая позволяет приложениям увидеть, что пользователь видит.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-105">HoloLens includes a world-facing camera mounted on the front of the device which enables apps to see what the user sees.</span></span> <span data-ttu-id="8d3bb-106">Разработчики имеют доступ к и элемент управления камеры, так же, как и для камер цвет телефонах, портативные компьютеры и рабочие столы.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-106">Developers have access to and control of the camera just as they would for color cameras on smartphones, portables, or desktops.</span></span> <span data-ttu-id="8d3bb-107">Же универсальной платформы windows [записи мультимедиа](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.mediacapture.aspx) и API-интерфейсы, которые работают на мобильные и Классические приложения windows media foundation, работать на HoloLens.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-107">The same universal windows [media capture](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.mediacapture.aspx) and windows media foundation APIs that work on mobile and desktop work on HoloLens.</span></span> <span data-ttu-id="8d3bb-108">Unity [произошел эти API-интерфейсы windows](locatable-camera-in-unity.md) для абстрагирования простое использование камеры на HoloLens для задач, таких как создание регулярных фотографии и видео (с или без голограммы) и размещение положение камеры в и перспективы на сцены.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-108">Unity [has also wrapped these windows APIs](locatable-camera-in-unity.md) to abstract simple usage of the camera on HoloLens for tasks such as taking regular photos and videos (with or without holograms) and locating the camera's position in and perspective on the scene.</span></span>

## <a name="device-camera-information"></a><span data-ttu-id="8d3bb-109">Сведения об устройстве камеры</span><span class="sxs-lookup"><span data-stu-id="8d3bb-109">Device camera information</span></span>

### <a name="hololens-first-generation"></a><span data-ttu-id="8d3bb-110">HoloLens (первого)</span><span class="sxs-lookup"><span data-stu-id="8d3bb-110">HoloLens (first-generation)</span></span>

* <span data-ttu-id="8d3bb-111">Фото и видео (PV) камеры предопределенной фокус, с auto белый баланс, автоматически раскрытия и канала обработки полный образ</span><span class="sxs-lookup"><span data-stu-id="8d3bb-111">Fixed focus photo/video (PV) camera, with auto white balance, auto exposure, and full image processing pipe</span></span>
* <span data-ttu-id="8d3bb-112">С выходом мира Светодиод конфиденциальности Технический горит всякий раз, когда активен камеры</span><span class="sxs-lookup"><span data-stu-id="8d3bb-112">White Privacy LED facing the world will illuminate whenever the camera is active</span></span>
* <span data-ttu-id="8d3bb-113">Камера поддерживает следующие режимы (все режимы являются соотношение сторон 16:9) на 30, 24, 20, 15 и 5 кадров/с:</span><span class="sxs-lookup"><span data-stu-id="8d3bb-113">The camera supports the following modes (all modes are 16:9 aspect ratio) at 30, 24, 20, 15, and 5 fps:</span></span>

  |  <span data-ttu-id="8d3bb-114">Видео</span><span class="sxs-lookup"><span data-stu-id="8d3bb-114">Video</span></span>  |  <span data-ttu-id="8d3bb-115">Предварительный просмотр</span><span class="sxs-lookup"><span data-stu-id="8d3bb-115">Preview</span></span>  |  <span data-ttu-id="8d3bb-116">По-прежнему</span><span class="sxs-lookup"><span data-stu-id="8d3bb-116">Still</span></span>  |  <span data-ttu-id="8d3bb-117">Горизонтальное поле of обзора H-</span><span class="sxs-lookup"><span data-stu-id="8d3bb-117">Horizontal Field of View (H-FOV)</span></span> |  <span data-ttu-id="8d3bb-118">Предлагается использовать</span><span class="sxs-lookup"><span data-stu-id="8d3bb-118">Suggested usage</span></span> | 
  |----------|----------|----------|----------|----------|
  |  <span data-ttu-id="8d3bb-119">1280 x 720</span><span class="sxs-lookup"><span data-stu-id="8d3bb-119">1280x720</span></span> |  <span data-ttu-id="8d3bb-120">1280 x 720</span><span class="sxs-lookup"><span data-stu-id="8d3bb-120">1280x720</span></span> |  <span data-ttu-id="8d3bb-121">1280 x 720</span><span class="sxs-lookup"><span data-stu-id="8d3bb-121">1280x720</span></span> |  <span data-ttu-id="8d3bb-122">45deg</span><span class="sxs-lookup"><span data-stu-id="8d3bb-122">45deg</span></span>  |  <span data-ttu-id="8d3bb-123">(режим по умолчанию с помощью стабилизации видео)</span><span class="sxs-lookup"><span data-stu-id="8d3bb-123">(default mode with video stabilization)</span></span> | 
  |  <span data-ttu-id="8d3bb-124">Н/Д</span><span class="sxs-lookup"><span data-stu-id="8d3bb-124">N/A</span></span> |  <span data-ttu-id="8d3bb-125">Н/Д</span><span class="sxs-lookup"><span data-stu-id="8d3bb-125">N/A</span></span> |  <span data-ttu-id="8d3bb-126">2048 x 1152</span><span class="sxs-lookup"><span data-stu-id="8d3bb-126">2048x1152</span></span> |  <span data-ttu-id="8d3bb-127">67deg</span><span class="sxs-lookup"><span data-stu-id="8d3bb-127">67deg</span></span> |  <span data-ttu-id="8d3bb-128">По-прежнему изображение высоким разрешением</span><span class="sxs-lookup"><span data-stu-id="8d3bb-128">Highest resolution still image</span></span> | 
  |  <span data-ttu-id="8d3bb-129">1408 x 792</span><span class="sxs-lookup"><span data-stu-id="8d3bb-129">1408x792</span></span> |  <span data-ttu-id="8d3bb-130">1408 x 792</span><span class="sxs-lookup"><span data-stu-id="8d3bb-130">1408x792</span></span> |  <span data-ttu-id="8d3bb-131">1408 x 792</span><span class="sxs-lookup"><span data-stu-id="8d3bb-131">1408x792</span></span> |  <span data-ttu-id="8d3bb-132">48deg</span><span class="sxs-lookup"><span data-stu-id="8d3bb-132">48deg</span></span> |  <span data-ttu-id="8d3bb-133">Разрешение нерабочей области (заполнение) перед стабилизации видео</span><span class="sxs-lookup"><span data-stu-id="8d3bb-133">Overscan (padding) resolution before video stabilization</span></span> | 
  |  <span data-ttu-id="8d3bb-134">1344 x 756</span><span class="sxs-lookup"><span data-stu-id="8d3bb-134">1344x756</span></span> |  <span data-ttu-id="8d3bb-135">1344 x 756</span><span class="sxs-lookup"><span data-stu-id="8d3bb-135">1344x756</span></span> |  <span data-ttu-id="8d3bb-136">1344 x 756</span><span class="sxs-lookup"><span data-stu-id="8d3bb-136">1344x756</span></span> |  <span data-ttu-id="8d3bb-137">67deg</span><span class="sxs-lookup"><span data-stu-id="8d3bb-137">67deg</span></span> |  <span data-ttu-id="8d3bb-138">Большие FOV видеорежима с нерабочей области</span><span class="sxs-lookup"><span data-stu-id="8d3bb-138">Large FOV video mode with overscan</span></span> | 
  |  <span data-ttu-id="8d3bb-139">896 x 504</span><span class="sxs-lookup"><span data-stu-id="8d3bb-139">896x504</span></span> |  <span data-ttu-id="8d3bb-140">896 x 504</span><span class="sxs-lookup"><span data-stu-id="8d3bb-140">896x504</span></span> |  <span data-ttu-id="8d3bb-141">896 x 504</span><span class="sxs-lookup"><span data-stu-id="8d3bb-141">896x504</span></span> |  <span data-ttu-id="8d3bb-142">48deg</span><span class="sxs-lookup"><span data-stu-id="8d3bb-142">48deg</span></span> |  <span data-ttu-id="8d3bb-143">Низкие требования к мощности / задачами обработки в режиме с низким разрешением для образа</span><span class="sxs-lookup"><span data-stu-id="8d3bb-143">Low power / Low resolution mode for image processing tasks</span></span> | 

### <a name="hololens-2"></a><span data-ttu-id="8d3bb-144">HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="8d3bb-144">HoloLens 2</span></span>

* <span data-ttu-id="8d3bb-145">Камеры фото и видео (PV) автоматически с фокусом, с auto белый баланс, автоматически раскрытия и канала обработки полный образ</span><span class="sxs-lookup"><span data-stu-id="8d3bb-145">Auto-focus photo/video (PV) camera, with auto white balance, auto exposure, and full image processing pipe</span></span>
* <span data-ttu-id="8d3bb-146">С выходом мира Светодиод конфиденциальности Технический горит всякий раз, когда активен камеры</span><span class="sxs-lookup"><span data-stu-id="8d3bb-146">White Privacy LED facing the world will illuminate whenever the camera is active</span></span>
* <span data-ttu-id="8d3bb-147">Камера поддерживает следующие режимы (все видео режимы являются соотношение сторон 16:9):</span><span class="sxs-lookup"><span data-stu-id="8d3bb-147">The camera supports the following modes (all video modes are 16:9 aspect ratio):</span></span>

  >[!NOTE]
  ><span data-ttu-id="8d3bb-148">Эти режимы могут измениться в любое время до выпуска общедоступной версии HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-148">These modes are subject to change prior to HoloLens 2 general availability.</span></span>

  |  <span data-ttu-id="8d3bb-149">Видео</span><span class="sxs-lookup"><span data-stu-id="8d3bb-149">Video</span></span>  |  <span data-ttu-id="8d3bb-150">Предварительный просмотр</span><span class="sxs-lookup"><span data-stu-id="8d3bb-150">Preview</span></span>  |  <span data-ttu-id="8d3bb-151">По-прежнему</span><span class="sxs-lookup"><span data-stu-id="8d3bb-151">Still</span></span>  |  <span data-ttu-id="8d3bb-152">Частота кадров</span><span class="sxs-lookup"><span data-stu-id="8d3bb-152">Frame rates</span></span>  |  <span data-ttu-id="8d3bb-153">Горизонтальное поле of обзора H-</span><span class="sxs-lookup"><span data-stu-id="8d3bb-153">Horizontal Field of View (H-FOV)</span></span> |  <span data-ttu-id="8d3bb-154">Предлагается использовать</span><span class="sxs-lookup"><span data-stu-id="8d3bb-154">Suggested usage</span></span> | 
  |----------|----------|----------|----------|----------|----------|
  |  <span data-ttu-id="8d3bb-155">1920x1080</span><span class="sxs-lookup"><span data-stu-id="8d3bb-155">1920x1080</span></span> |  <span data-ttu-id="8d3bb-156">1920x1080</span><span class="sxs-lookup"><span data-stu-id="8d3bb-156">1920x1080</span></span> |  <span data-ttu-id="8d3bb-157">Н/Д</span><span class="sxs-lookup"><span data-stu-id="8d3bb-157">N/A</span></span> |  <span data-ttu-id="8d3bb-158">30, 15 кадр/с</span><span class="sxs-lookup"><span data-stu-id="8d3bb-158">30, 15 fps</span></span>  |  <span data-ttu-id="8d3bb-159">54deg</span><span class="sxs-lookup"><span data-stu-id="8d3bb-159">54deg</span></span>  |  <span data-ttu-id="8d3bb-160">(режим по умолчанию с помощью стабилизации видео)</span><span class="sxs-lookup"><span data-stu-id="8d3bb-160">(default mode with video stabilization)</span></span> | 
  |  <span data-ttu-id="8d3bb-161">Н/Д</span><span class="sxs-lookup"><span data-stu-id="8d3bb-161">N/A</span></span> |  <span data-ttu-id="8d3bb-162">Н/Д</span><span class="sxs-lookup"><span data-stu-id="8d3bb-162">N/A</span></span> |  <span data-ttu-id="8d3bb-163">3904X2196</span><span class="sxs-lookup"><span data-stu-id="8d3bb-163">3904X2196</span></span> |  <span data-ttu-id="8d3bb-164">Н/Д</span><span class="sxs-lookup"><span data-stu-id="8d3bb-164">N/A</span></span>  |  <span data-ttu-id="8d3bb-165">64deg</span><span class="sxs-lookup"><span data-stu-id="8d3bb-165">64deg</span></span> |  <span data-ttu-id="8d3bb-166">По-прежнему изображение высоким разрешением</span><span class="sxs-lookup"><span data-stu-id="8d3bb-166">Highest resolution still image</span></span> | 
  |  <span data-ttu-id="8d3bb-167">2272 x 1278</span><span class="sxs-lookup"><span data-stu-id="8d3bb-167">2272x1278</span></span> |  <span data-ttu-id="8d3bb-168">2272 x 1278</span><span class="sxs-lookup"><span data-stu-id="8d3bb-168">2272x1278</span></span> |  <span data-ttu-id="8d3bb-169">Н/Д</span><span class="sxs-lookup"><span data-stu-id="8d3bb-169">N/A</span></span> |  <span data-ttu-id="8d3bb-170">30, 15 кадр/с</span><span class="sxs-lookup"><span data-stu-id="8d3bb-170">30, 15 fps</span></span>  |  <span data-ttu-id="8d3bb-171">64deg</span><span class="sxs-lookup"><span data-stu-id="8d3bb-171">64deg</span></span> |  <span data-ttu-id="8d3bb-172">Разрешение нерабочей области (заполнение) перед стабилизации видео</span><span class="sxs-lookup"><span data-stu-id="8d3bb-172">Overscan (padding) resolution before video stabilization</span></span> | 
  |  <span data-ttu-id="8d3bb-173">1952 x 1100</span><span class="sxs-lookup"><span data-stu-id="8d3bb-173">1952x1100</span></span> |  <span data-ttu-id="8d3bb-174">1952 x 1100</span><span class="sxs-lookup"><span data-stu-id="8d3bb-174">1952x1100</span></span> |  <span data-ttu-id="8d3bb-175">1952 x 1100</span><span class="sxs-lookup"><span data-stu-id="8d3bb-175">1952x1100</span></span>  |  <span data-ttu-id="8d3bb-176">30, 15 кадр/с</span><span class="sxs-lookup"><span data-stu-id="8d3bb-176">30, 15 fps</span></span>  |  <span data-ttu-id="8d3bb-177">64deg</span><span class="sxs-lookup"><span data-stu-id="8d3bb-177">64deg</span></span> |  <span data-ttu-id="8d3bb-178">Высокое качество потоковой передачи</span><span class="sxs-lookup"><span data-stu-id="8d3bb-178">High-quality streaming</span></span> | 
  |  <span data-ttu-id="8d3bb-179">1280 x 720</span><span class="sxs-lookup"><span data-stu-id="8d3bb-179">1280x720</span></span> |  <span data-ttu-id="8d3bb-180">1280 x 720</span><span class="sxs-lookup"><span data-stu-id="8d3bb-180">1280x720</span></span> |  <span data-ttu-id="8d3bb-181">Н/Д</span><span class="sxs-lookup"><span data-stu-id="8d3bb-181">N/A</span></span> |  <span data-ttu-id="8d3bb-182">30, 15, 5 кадров/с</span><span class="sxs-lookup"><span data-stu-id="8d3bb-182">30, 15, 5 fps</span></span>  |  <span data-ttu-id="8d3bb-183">64deg</span><span class="sxs-lookup"><span data-stu-id="8d3bb-183">64deg</span></span> |  <span data-ttu-id="8d3bb-184">Режим низкой power/разрешения для потоковой передачи и задач обработки изображений</span><span class="sxs-lookup"><span data-stu-id="8d3bb-184">Low power/resolution mode for streaming and image processing tasks</span></span> | 

## <a name="locating-the-device-camera-in-the-world"></a><span data-ttu-id="8d3bb-185">Поиск камеры устройства в мире</span><span class="sxs-lookup"><span data-stu-id="8d3bb-185">Locating the Device Camera in the World</span></span>

<span data-ttu-id="8d3bb-186">Когда HoloLens длится фотографии и видео, записанные кадры включать местоположение камеры в мире, а также перспективной проекции камеры.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-186">When HoloLens takes photos and videos, the captured frames include the location of the camera in the world, as well as the perspective projection of the camera.</span></span> <span data-ttu-id="8d3bb-187">Это позволяет приложениям делать выводы о позиции камеры в реальном мире расширенные сценарии работы с образами.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-187">This allows applications to reason about the position of the camera in the real world for augmented imaging scenarios.</span></span> <span data-ttu-id="8d3bb-188">Разработчики творчески можно выполнить откат собственные сценарии, с использованием их обработка избранные изображений или библиотеки компьютерного зрения пользовательского компьютера.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-188">Developers can creatively roll their own scenarios using their favorite image processing or custom computer vision libraries.</span></span>

<span data-ttu-id="8d3bb-189">«Камера» в документации по HoloLens может относиться к «виртуальный игр камеры» (пирамиды обзора приложения выполняет визуализацию).</span><span class="sxs-lookup"><span data-stu-id="8d3bb-189">"Camera" elsewhere in HoloLens documentation may refer to the "virtual game camera" (the frustum the app renders to).</span></span> <span data-ttu-id="8d3bb-190">Если не обозначается в противном случае, «камера» на этой странице относится к реальных камеры цвета RGB.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-190">Unless denoted otherwise, "camera" on this page refers to the real-world RGB color camera.</span></span>

<span data-ttu-id="8d3bb-191">Сведения об этом титульной страницы [Media Foundation атрибуты](https://msdn.microsoft.com/library/windows/desktop/mt740395(v=vs.85).aspx), однако существует также API-интерфейсы для извлечения с помощью встроенных функций камеры [API-интерфейсы WinRT](https://msdn.microsoft.com/library/windows/apps/windows.media.devices.core.cameraintrinsics).</span><span class="sxs-lookup"><span data-stu-id="8d3bb-191">The details on this page cover [Media Foundation Attributes](https://msdn.microsoft.com/library/windows/desktop/mt740395(v=vs.85).aspx), however there are also APIs to pull camera intrinsics using [WinRT APIs](https://msdn.microsoft.com/library/windows/apps/windows.media.devices.core.cameraintrinsics).</span></span>  

### <a name="images-with-coordinate-systems"></a><span data-ttu-id="8d3bb-192">Образы с помощью системы координат</span><span class="sxs-lookup"><span data-stu-id="8d3bb-192">Images with Coordinate Systems</span></span>

<span data-ttu-id="8d3bb-193">Каждого кадра изображения (ли фото или видео) включает в себя в системе координат, а также две важные преобразования.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-193">Each image frame (whether photo or video) includes a coordinate system, as well as two important transforms.</span></span> <span data-ttu-id="8d3bb-194">«view» преобразование схемы из предоставленного системы координат к камере и карт «проекция» от камеры в пиксели на рисунке.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-194">The "view" transform maps from the provided coordinate system to the camera, and the "projection" maps from the camera to pixels in the image.</span></span> <span data-ttu-id="8d3bb-195">Вместе эти преобразования определяют для каждого пикселя луча в трехмерном пространстве, представляющий путь, по photons, которые вызвали пикселя.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-195">Together, these transforms define for each pixel a ray in 3D space representing the path taken by the photons that produced the pixel.</span></span> <span data-ttu-id="8d3bb-196">Эти лучи могут быть связаны с другого содержимого в приложении, получая преобразование из системы координат рамки для некоторых других системы координат (например, из [стационарной системой отсчета координат](coordinate-systems.md#stationary-frame-of-reference)).</span><span class="sxs-lookup"><span data-stu-id="8d3bb-196">These rays can be related to other content in the app by obtaining the transform from the frame's coordinate system to some other coordinate system (e.g. from a [stationary frame of reference](coordinate-systems.md#stationary-frame-of-reference)).</span></span> <span data-ttu-id="8d3bb-197">Таким образом, каждый кадр образа предоставляет следующие возможности.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-197">To summarize, each image frame provides the following:</span></span>
* <span data-ttu-id="8d3bb-198">Данные о пикселях (в формате RGB и NV12/JPEG и т.д.)</span><span class="sxs-lookup"><span data-stu-id="8d3bb-198">Pixel Data (in RGB/NV12/JPEG/etc. format)</span></span>
* <span data-ttu-id="8d3bb-199">3 части метаданных (хранятся в виде [IMFAttributes](https://msdn.microsoft.com/library/windows/desktop/ms704598(v=vs.85).aspx)), позволяющие каждого кадра «может быть найдена»:</span><span class="sxs-lookup"><span data-stu-id="8d3bb-199">3 pieces of metadata (stored as [IMFAttributes](https://msdn.microsoft.com/library/windows/desktop/ms704598(v=vs.85).aspx)) that make each frame "locatable":</span></span>

|  <span data-ttu-id="8d3bb-200">Имя атрибута</span><span class="sxs-lookup"><span data-stu-id="8d3bb-200">Attribute name</span></span>  |  <span data-ttu-id="8d3bb-201">Тип</span><span class="sxs-lookup"><span data-stu-id="8d3bb-201">Type</span></span>  |  <span data-ttu-id="8d3bb-202">Код GUID</span><span class="sxs-lookup"><span data-stu-id="8d3bb-202">GUID</span></span>  |  <span data-ttu-id="8d3bb-203">Описание</span><span class="sxs-lookup"><span data-stu-id="8d3bb-203">Description</span></span> | 
|----------|----------|----------|----------|
|  <span data-ttu-id="8d3bb-204">MFSampleExtension_Spatial_CameraCoordinateSystem</span><span class="sxs-lookup"><span data-stu-id="8d3bb-204">MFSampleExtension_Spatial_CameraCoordinateSystem</span></span>  |  <span data-ttu-id="8d3bb-205">IUnknown ([SpatialCoordinateSystem](https://msdn.microsoft.com/library/windows/apps/windows.perception.spatial.spatialcoordinatesystem.aspx))</span><span class="sxs-lookup"><span data-stu-id="8d3bb-205">IUnknown ([SpatialCoordinateSystem](https://msdn.microsoft.com/library/windows/apps/windows.perception.spatial.spatialcoordinatesystem.aspx))</span></span>  |  <span data-ttu-id="8d3bb-206">{9D13C82F-2199-4E67-91CD-D1A4181F2534}</span><span class="sxs-lookup"><span data-stu-id="8d3bb-206">{9D13C82F-2199-4E67-91CD-D1A4181F2534}</span></span>  |  <span data-ttu-id="8d3bb-207">Магазины [системы координат](coordinate-systems-in-directx.md) из захваченного кадра</span><span class="sxs-lookup"><span data-stu-id="8d3bb-207">Stores the [coordinate system](coordinate-systems-in-directx.md) of the captured frame</span></span> | 
|  <span data-ttu-id="8d3bb-208">MFSampleExtension_Spatial_CameraViewTransform</span><span class="sxs-lookup"><span data-stu-id="8d3bb-208">MFSampleExtension_Spatial_CameraViewTransform</span></span>  |  <span data-ttu-id="8d3bb-209">BLOB-объектов ([Matrix4x4](https://msdn.microsoft.com/library/windows/apps/windows.foundation.numerics.matrix4x4.aspx))</span><span class="sxs-lookup"><span data-stu-id="8d3bb-209">Blob ([Matrix4x4](https://msdn.microsoft.com/library/windows/apps/windows.foundation.numerics.matrix4x4.aspx))</span></span>  |  <span data-ttu-id="8d3bb-210">{4E251FA4-830F-4770-859A-4B8D99AA809B}</span><span class="sxs-lookup"><span data-stu-id="8d3bb-210">{4E251FA4-830F-4770-859A-4B8D99AA809B}</span></span>  |  <span data-ttu-id="8d3bb-211">Сохраняет преобразование внешние камеры в системе координат</span><span class="sxs-lookup"><span data-stu-id="8d3bb-211">Stores the camera's extrinsic transform in the coordinate system</span></span> | 
|  <span data-ttu-id="8d3bb-212">MFSampleExtension_Spatial_CameraProjectionTransform</span><span class="sxs-lookup"><span data-stu-id="8d3bb-212">MFSampleExtension_Spatial_CameraProjectionTransform</span></span>  |  <span data-ttu-id="8d3bb-213">BLOB-объектов ([Matrix4x4](https://msdn.microsoft.com/library/windows/apps/windows.foundation.numerics.matrix4x4.aspx))</span><span class="sxs-lookup"><span data-stu-id="8d3bb-213">Blob ([Matrix4x4](https://msdn.microsoft.com/library/windows/apps/windows.foundation.numerics.matrix4x4.aspx))</span></span>  |  <span data-ttu-id="8d3bb-214">{47F9FCB5-2A02-4F26-A477-792FDF95886A}</span><span class="sxs-lookup"><span data-stu-id="8d3bb-214">{47F9FCB5-2A02-4F26-A477-792FDF95886A}</span></span>  |  <span data-ttu-id="8d3bb-215">Сохраняет преобразование проекции камеры</span><span class="sxs-lookup"><span data-stu-id="8d3bb-215">Stores the camera's projection transform</span></span> | 

<span data-ttu-id="8d3bb-216">Преобразование проекции представляет внутренние свойства (фокусное, центр проекции, наклон) из группы связанных элементов, на изображении, начиная от -1 до + 1 по оси X и Y.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-216">The projection transform represents the intrinsic properties (focal length, center of projection, skew) of the lens mapped onto an image plane that extends from -1 to +1 in both the X and Y axis.</span></span>

```
Matrix4x4 format          Terms
   m11 m12 m13 m14      fx    0   0   0
   m21 m22 m23 m24     skew  fy   0   0
   m31 m32 m33 m34      cx   cy   A  -1
   m41 m42 m43 m44       0    0   B   0
```

<span data-ttu-id="8d3bb-217">Различные приложения будет иметь разные системы координат.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-217">Different applications will have different coordinate systems.</span></span> <span data-ttu-id="8d3bb-218">Ниже приведен обзор потока для поиска точки камеры для одного приложения:</span><span class="sxs-lookup"><span data-stu-id="8d3bb-218">Here's an overview of the flow to locate a camera pixel for a single application:</span></span>

![Преобразований, применяемых к камере систем координат](images/pvcameratransform5-500px.png)

### <a name="camera-to-application-specified-coordinate-system"></a><span data-ttu-id="8d3bb-220">Камера, определяемый приложением систему координат</span><span class="sxs-lookup"><span data-stu-id="8d3bb-220">Camera to Application-specified Coordinate System</span></span>

<span data-ttu-id="8d3bb-221">Чтобы перейти из «CameraView» и «CameraCoordinateSystem» вашего приложения/мировая система координат, вам потребуется следующее:</span><span class="sxs-lookup"><span data-stu-id="8d3bb-221">To go from the 'CameraView' and 'CameraCoordinateSystem' to your application/world coordinate system, you'll need the following:</span></span>

<span data-ttu-id="8d3bb-222">[Может быть найдена камеры в Unity](locatable-camera-in-unity.md): CameraToWorldMatrix автоматически предоставляется классом PhotoCaptureFrame (поэтому не нужно беспокоиться о преобразованиях CameraCoordinateSystem).</span><span class="sxs-lookup"><span data-stu-id="8d3bb-222">[Locatable camera in Unity](locatable-camera-in-unity.md): CameraToWorldMatrix is automatically provided by PhotoCaptureFrame class(so you don't need to worry about the CameraCoordinateSystem transforms).</span></span>

<span data-ttu-id="8d3bb-223">[Может быть найдена камеры в DirectX](locatable-camera-in-directx.md): Показывает довольно простой способ запроса для преобразования между системой координат камеры и coordinate system(s) собственные приложения.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-223">[Locatable camera in DirectX](locatable-camera-in-directx.md): Shows the fairly straightforward way to query for the transform between the camera's coordinate system and your own application coordinate system(s).</span></span>

### <a name="application-specified-coordinate-system-to-pixel-coordinates"></a><span data-ttu-id="8d3bb-224">Определяемый приложением системы координат в координаты в пикселях</span><span class="sxs-lookup"><span data-stu-id="8d3bb-224">Application-specified Coordinate System to Pixel Coordinates</span></span>

<span data-ttu-id="8d3bb-225">Предположим, что вы хотите найти или рисования в определенном месте 3d на образе камеры:</span><span class="sxs-lookup"><span data-stu-id="8d3bb-225">Let's say you wanted to find or draw at a specific 3d location on a camera image:</span></span>

<span data-ttu-id="8d3bb-226">Преобразования представления и проекции, во время матрицы 4 x 4, должны использоваться немного по-разному.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-226">The view and projection transforms, while both 4x4 matrices, need to be utilized slightly differently.</span></span> <span data-ttu-id="8d3bb-227">А именно, после выполнения проекции, один будет «нормализации, w», это дополнительное действие в проекции имитирует нескольких разных местах 3d может оказаться как двумерный место на экране (т. е. ничего вдоль луча определенных будут отображаться на одной точки).</span><span class="sxs-lookup"><span data-stu-id="8d3bb-227">Namely after performing the Projection, one would 'normalize by w', this extra step in the projection simulates how multiple different 3d locations can end up as the same 2d location on a screen (i.e. anything along a certain ray will show up on the same pixel).</span></span> <span data-ttu-id="8d3bb-228">Поэтому ключевые моменты (в коде шейдера):</span><span class="sxs-lookup"><span data-stu-id="8d3bb-228">So key points (in shader code):</span></span>

```
// Usual 3d math:
 float4x4 WorldToCamera = inverse( CameraToWorld );
 float4 CameraSpacePos = mul( WorldToCamera, float4( WorldSpacePos.xyz, 1 ) ); // use 1 as the W component
 // Projection math:
 float4 ImagePosUnnormalized = mul( CameraProjection, float4( CameraSpacePos.xyz, 1 ) ); // use 1 as the W component
 float2 ImagePosProjected = ImagePosUnnormalized.xy / ImagePosUnnormalized.w; // normalize by W, gives -1 to 1 space
 float2 ImagePosZeroToOne = ( ImagePosProjected * 0.5 ) + float2( 0.5, 0.5 ); // good for GPU textures
 int2 PixelPos = int2( ImagePosZeroToOne.x * ImageWidth, ( 1 - ImagePosZeroToOne.y ) * ImageHeight ); // good for CPU textures
```

### <a name="pixel-to-application-specified-coordinate-system"></a><span data-ttu-id="8d3bb-229">Пикселя, определяемый приложением систему координат</span><span class="sxs-lookup"><span data-stu-id="8d3bb-229">Pixel to Application-specified Coordinate System</span></span>

<span data-ttu-id="8d3bb-230">Переход от точки в мировых координатах несколько сложнее:</span><span class="sxs-lookup"><span data-stu-id="8d3bb-230">Going from pixel to world coordinates is a little trickier:</span></span>

```
float2 ImagePosZeroToOne = float2( PixelPos.x / ImageWidth, 1.0 - (PixelPos.y / ImageHeight ) );
 float2 ImagePosProjected = ( ( ImagePosZeroToOne * 2.0 ) - float2(1,1) ); // -1 to 1 space
 float3 CameraSpacePos = UnProjectVector( Projection, float3( ImagePosProjected, 1) );
 float3 WorldSpaceRayPoint1 = mul( CameraToWorld, float4(0,0,0,1) ); // camera location in world space
 float3 WorldSpaceRayPoint2 = mul( CameraToWorld, CameraSpacePos ); // ray point in world space
```

<span data-ttu-id="8d3bb-231">Мы определим UnProject как:</span><span class="sxs-lookup"><span data-stu-id="8d3bb-231">Where we define UnProject as:</span></span>

```
public static Vector3 UnProjectVector(Matrix4x4 proj, Vector3 to)
 {
   Vector3 from = new Vector3(0, 0, 0);
   var axsX = proj.GetRow(0);
   var axsY = proj.GetRow(1);
   var axsZ = proj.GetRow(2);
   from.z = to.z / axsZ.z;
   from.y = (to.y - (from.z * axsY.z)) / axsY.y;
   from.x = (to.x - (from.z * axsX.z)) / axsX.x;
   return from;
 }
```

<span data-ttu-id="8d3bb-232">Чтобы найти расположение фактического world точки, необходим, один из следующих: два world лучи и найти их пересечения или известный размер точки.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-232">To find the actual world location of a point, you'll need either: two world rays and find their intersection, or a known size of the points.</span></span>

### <a name="distortion-error"></a><span data-ttu-id="8d3bb-233">Ошибка искажений</span><span class="sxs-lookup"><span data-stu-id="8d3bb-233">Distortion Error</span></span>

<span data-ttu-id="8d3bb-234">На HoloLens, видео и по-прежнему потоки образа, неискаженных в конвейере обработки образ системы перед выполнением кадров, доступными для приложения (поток предварительного просмотра содержит исходное искаженные кадров).</span><span class="sxs-lookup"><span data-stu-id="8d3bb-234">On HoloLens, the video and still image streams are undistorted in the system's image processing pipeline before the frames are made available to the application (the preview stream contains the original distorted frames).</span></span> <span data-ttu-id="8d3bb-235">Поскольку предоставляется только матрица проекции, должны предполагать, что представляют собой изображение кадры идеальной pinhole камеры, тем undistortion работают в обработчике изображений может по-прежнему ошибку до 10 точек при использовании матрица проекции в метаданные кадра.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-235">Because only the projection matrix is made available, applications must assume image frames represent a perfect pinhole camera, however the undistortion function in the image processor may still leave an error of up to 10 pixels when using the projection matrix in the frame metadata.</span></span> <span data-ttu-id="8d3bb-236">Во многих вариантов использования, эта ошибка будет не имеет значения, но если выравнивание голограммы плакаты реальном мире/маркеры, например, и вы Обратите внимание, что < 10px смещения (примерно 11 мм для голограммы расположен сейчас 2 м) этот искажение ошибки может стать причиной.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-236">In many use cases, this error will not matter, but if you are aligning holograms to real world posters/markers, for example, and you notice a <10px offset (roughly 11mm for holograms positioned 2 meters away) this distortion error could be the cause.</span></span>

## <a name="locatable-camera-usage-scenarios"></a><span data-ttu-id="8d3bb-237">Сценарии использования может быть найдена камеры</span><span class="sxs-lookup"><span data-stu-id="8d3bb-237">Locatable Camera Usage Scenarios</span></span>

### <a name="show-a-photo-or-video-in-the-world-where-it-was-captured"></a><span data-ttu-id="8d3bb-238">Показать фотографии или видео в мире, где оно было записано</span><span class="sxs-lookup"><span data-stu-id="8d3bb-238">Show a photo or video in the world where it was captured</span></span>

<span data-ttu-id="8d3bb-239">Кадры камеры устройства поставляются с преобразования «Камеры для World», который может использоваться для отображения, где устройство конкретно при было получено изображение.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-239">The Device Camera frames come with a "Camera To World" transform, that can be used to show exactly where the device was when the image was taken.</span></span> <span data-ttu-id="8d3bb-240">Для примера небольшой значок holographic можно разместить в этом расположении (CameraToWorld.MultiplyPoint(Vector3.zero)) и даже draw небольшой стрелки в направлении, что камера была с выходом (CameraToWorld.MultiplyVector(Vector3.forward)).</span><span class="sxs-lookup"><span data-stu-id="8d3bb-240">For example you could position a small holographic icon at this location (CameraToWorld.MultiplyPoint(Vector3.zero)) and even draw a little arrow in the direction that the camera was facing (CameraToWorld.MultiplyVector(Vector3.forward)).</span></span>

### <a name="painting-the-world-using-a-camera-shader"></a><span data-ttu-id="8d3bb-241">Рисование мира с помощью камеры шейдера</span><span class="sxs-lookup"><span data-stu-id="8d3bb-241">Painting the world using a camera shader</span></span>

<span data-ttu-id="8d3bb-242">В этом разделе мы создадим материал «шейдера», цвета, всему миру зависимости от того, где оно отобразилось в представлении камеры устройства.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-242">In this section we'll create a material 'shader' that colors the world based on where it showed up in a device camera's view.</span></span> <span data-ttu-id="8d3bb-243">Фактически мы сделаем заключается в каждой вершины найдет его расположение относительно камеры, а затем каждый пиксел будет использовать «матрица проекции» рис out, который изображения текселя, она будет связана с.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-243">Effectively what we'll do is that every vertex will figure out its location relative to the camera, and then every pixel will utilize the 'projection matrix' to figure out which image texel it is associated with.</span></span> <span data-ttu-id="8d3bb-244">Наконец и при необходимости мы будем Исчезание углы изображение, чтобы оно выглядело больше памяти по принципу мечты:</span><span class="sxs-lookup"><span data-stu-id="8d3bb-244">Lastly, and optionally, we'll fade out the corners of the image to make it appear more as a dream-like memory:</span></span>

```
// In the vertex shader:
 float4 worldSpace = mul( ObjectToWorld, float4( vertexPos.xyz, 1));
 float4 cameraSpace = mul( CameraWorldToLocal, float4(worldSpace.xyz, 1));

 // In the pixel shader:
 float4 unprojectedTex = mul( CameraProjection, float4( cameraSpace .xyz, 1));
 float2 projectedTex = (unprojectedTex.xy / unprojectedTex.w);
 float2 unitTexcoord = ((projectedTex * 0.5) + float4(0.5, 0.5, 0, 0));
 float4 cameraTextureColor = tex2D(_CameraTex, unitTexcoord);
 // Fade out edges for better look:
 float pctInView = saturate((1.0 - length(projectedTex.xy)) * 3.0);
 float4 finalColor = float4( cameraTextureColor.rgb, pctInView );
```

### <a name="tag--pattern--poster--object-tracking"></a><span data-ttu-id="8d3bb-245">Тег / Pattern / плакат / отслеживание объектов</span><span class="sxs-lookup"><span data-stu-id="8d3bb-245">Tag / Pattern / Poster / Object Tracking</span></span>

<span data-ttu-id="8d3bb-246">Во многих приложениях смешанной реальности использовать распознаваемый изображение или шаблон visual для создания точки отслеживается в пространстве.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-246">Many mixed reality applications use a recognizable image or visual pattern to create a trackable point in space.</span></span> <span data-ttu-id="8d3bb-247">Затем используется для отрисовки объектов относительно их, выберите или создайте известном расположении.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-247">This is then used to render objects relative to that point or create a known location.</span></span> <span data-ttu-id="8d3bb-248">Некоторые варианты применения HoloLens: поиск объекта реального мира, помечены fiducials (например монитор TV с QR-кода), помещая голограммы на fiducials и визуально выполнить связывание с устройств не HoloLens, таких как планшеты, которые были установки для взаимодействия с HoloLens через Wi-Fi.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-248">Some uses for HoloLens include finding a real world object tagged with fiducials (e.g. a TV monitor with a QR code), placing holograms over fiducials, and visually pairing with non-HoloLens devices like tablets that have been setup to communicate with HoloLens via Wi-Fi.</span></span>

<span data-ttu-id="8d3bb-249">Для распознавания шаблон visual, а затем поместите этого объекта в абсолютном пространстве приложения, вам потребуется следующее:</span><span class="sxs-lookup"><span data-stu-id="8d3bb-249">To recognize a visual pattern, and then place that object in the applications world space, you'll need a few things:</span></span>
1. <span data-ttu-id="8d3bb-250">Образ шаблона распознавания набор средств, например QR-код, AR тегов, поиска лиц, средства отслеживания круг, распознавание текста и т.д.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-250">An image pattern recognition toolkit, such as QR code, AR tags, face finder, circle trackers, OCR etc.</span></span>
2. <span data-ttu-id="8d3bb-251">Собирать изображений на кадрах во время выполнения и передавать их на уровне распознавания</span><span class="sxs-lookup"><span data-stu-id="8d3bb-251">Collect image frames at runtime, and pass them to the recognition layer</span></span>
3. <span data-ttu-id="8d3bb-252">Unproject их расположение образа обратно в мире позиций или лучи скорее всего мира.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-252">Unproject their image locations back into world positions, or likely world rays.</span></span> <span data-ttu-id="8d3bb-253">Скрипт, который поможет полностью удалить все из конфигурации дисковых пространств, см. в разделе</span><span class="sxs-lookup"><span data-stu-id="8d3bb-253">See</span></span>
4. <span data-ttu-id="8d3bb-254">Поместите виртуальный моделей на эти расположения world</span><span class="sxs-lookup"><span data-stu-id="8d3bb-254">Position your virtual models over these world locations</span></span>

<span data-ttu-id="8d3bb-255">Некоторые важные образа обработки ссылки:</span><span class="sxs-lookup"><span data-stu-id="8d3bb-255">Some important image processing links:</span></span>
* [<span data-ttu-id="8d3bb-256">OpenCV</span><span class="sxs-lookup"><span data-stu-id="8d3bb-256">OpenCV</span></span>](http://opencv.org/)
* [<span data-ttu-id="8d3bb-257">QR-теги</span><span class="sxs-lookup"><span data-stu-id="8d3bb-257">QR Tags</span></span>](https://en.wikipedia.org/wiki/QR_code)
* [<span data-ttu-id="8d3bb-258">FaceSDK</span><span class="sxs-lookup"><span data-stu-id="8d3bb-258">FaceSDK</span></span>](http://research.microsoft.com/projects/facesdk/)
* [<span data-ttu-id="8d3bb-259">Microsoft Translator</span><span class="sxs-lookup"><span data-stu-id="8d3bb-259">Microsoft Translator</span></span>](https://www.microsoft.com/translator/business)

<span data-ttu-id="8d3bb-260">Сохранение интерактивное приложение частоты кадров важно, особенно при работе с алгоритмы распознавания изображений выполняющейся длительное время.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-260">Keeping an interactive application frame-rate is critical, especially when dealing with long-running image recognition algorithms.</span></span> <span data-ttu-id="8d3bb-261">По этой причине мы обычно используем следующий шаблон:</span><span class="sxs-lookup"><span data-stu-id="8d3bb-261">For this reason we commonly use the following pattern:</span></span>
1. <span data-ttu-id="8d3bb-262">Основной поток: управляет объектом камеры</span><span class="sxs-lookup"><span data-stu-id="8d3bb-262">Main Thread: manages the camera object</span></span>
2. <span data-ttu-id="8d3bb-263">Основной поток: запрашивает новый кадров (асинхронный)</span><span class="sxs-lookup"><span data-stu-id="8d3bb-263">Main Thread: requests new frames (async)</span></span>
3. <span data-ttu-id="8d3bb-264">Основной поток: передайте новые кадры для отслеживания потока</span><span class="sxs-lookup"><span data-stu-id="8d3bb-264">Main Thread: pass new frames to tracking thread</span></span>
4. <span data-ttu-id="8d3bb-265">Поток отслеживания: обрабатывает изображения для сбора ключевые моменты</span><span class="sxs-lookup"><span data-stu-id="8d3bb-265">Tracking Thread: processes image to collect key points</span></span>
5. <span data-ttu-id="8d3bb-266">Основной поток: Перемещает виртуальная модель в соответствии с найден ключевые моменты</span><span class="sxs-lookup"><span data-stu-id="8d3bb-266">Main Thread: moves virtual model to match found key points</span></span>
6. <span data-ttu-id="8d3bb-267">Основной поток: повторите шаг 2</span><span class="sxs-lookup"><span data-stu-id="8d3bb-267">Main Thread: repeat from step 2</span></span>

<span data-ttu-id="8d3bb-268">В некоторых системах маркера изображения только указать расположение один пиксель (другие предоставляют полный преобразование в этом случае не будут нужны в этом разделе), которое соответствует луча возможных расположений.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-268">Some image marker systems only provide a single pixel location (others provide the full transform in which case this section will not be needed), which equates to a ray of possible locations.</span></span> <span data-ttu-id="8d3bb-269">Чтобы получить в одном месте 3d мы затем можно использовать несколько лучи и найти конечный результат, их приблизительное пересечение.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-269">To get to a single 3d location we can then leverage multiple rays and find the final result by their approximate intersection.</span></span> <span data-ttu-id="8d3bb-270">Для этого вам потребуется:</span><span class="sxs-lookup"><span data-stu-id="8d3bb-270">To do this you'll need to:</span></span>
1. <span data-ttu-id="8d3bb-271">Получить цикл начинается сбор нескольких изображений с камеры</span><span class="sxs-lookup"><span data-stu-id="8d3bb-271">Get a loop going collecting multiple camera images</span></span>
2. <span data-ttu-id="8d3bb-272">Найти [связанных функциональных точек](#pixel-to-application-specified-coordinate-system)и их мир лучами</span><span class="sxs-lookup"><span data-stu-id="8d3bb-272">Find the [associated feature points](#pixel-to-application-specified-coordinate-system), and their world rays</span></span>
3. <span data-ttu-id="8d3bb-273">При наличии словарь функций, каждая из которых несколько лучи world, можно использовать следующий код для решения на пересечении этих лучи:</span><span class="sxs-lookup"><span data-stu-id="8d3bb-273">When you have a dictionary of features, each with multiple world rays, you can use the following code to solve for the intersection of those rays:</span></span>

```
public static Vector3 ClosestPointBetweenRays(
   Vector3 point1, Vector3 normalizedDirection1,
   Vector3 point2, Vector3 normalizedDirection2) {
   float directionProjection = Vector3.Dot(normalizedDirection1, normalizedDirection2);
   if (directionProjection == 1) {
     return point1; // parallel lines
   }
   float projection1 = Vector3.Dot(point2 - point1, normalizedDirection1);
   float projection2 = Vector3.Dot(point2 - point1, normalizedDirection2);
   float distanceAlongLine1 = (projection1 - directionProjection * projection2) / (1 - directionProjection * directionProjection);
   float distanceAlongLine2 = (projection2 - directionProjection * projection1) / (directionProjection * directionProjection - 1);
   Vector3 pointOnLine1 = point1 + distanceAlongLine1 * normalizedDirection1;
   Vector3 pointOnLine2 = point2 + distanceAlongLine2 * normalizedDirection2;
   return Vector3.Lerp(pointOnLine2, pointOnLine1, 0.5f);
 }
```

<span data-ttu-id="8d3bb-274">Учитывая два или несколько отслеживаемых тег расположения, можно расположить modelled сцены в соответствии со сценарием текущего пользователей.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-274">Given two or more tracked tag locations, you can position a modelled scene to fit the users current scenario.</span></span> <span data-ttu-id="8d3bb-275">Если нельзя рассчитывать на гравитации, затем нужно будет три тега места.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-275">If you can't assume gravity, then you'll need three tag locations.</span></span> <span data-ttu-id="8d3bb-276">Во многих случаях мы используем простой цветовой схемы, где белый сферы представляют в реальном времени отслеживаются тег расположения и синий сферы представляют смоделировать тег расположения, позволяет пользователю визуально оценить качество выравнивания.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-276">In many cases we use a simple color scheme where white spheres represent real-time tracked tag locations, and blue spheres represent modelled tag locations, this allows the user to visually gauge the alignment quality.</span></span> <span data-ttu-id="8d3bb-277">Во всех приложениях предполагается следующее:</span><span class="sxs-lookup"><span data-stu-id="8d3bb-277">We assume the following setup in all our applications:</span></span>
* <span data-ttu-id="8d3bb-278">Два или несколько расположений смоделировать тега</span><span class="sxs-lookup"><span data-stu-id="8d3bb-278">Two or more modelled tag locations</span></span>
* <span data-ttu-id="8d3bb-279">Один «калибровки место», который является родительским для объекта теги в сцене</span><span class="sxs-lookup"><span data-stu-id="8d3bb-279">One 'calibration space' which in the scene is the parent of the tags</span></span>
* <span data-ttu-id="8d3bb-280">Идентификатор функции камеры</span><span class="sxs-lookup"><span data-stu-id="8d3bb-280">Camera feature identifier</span></span>
* <span data-ttu-id="8d3bb-281">Поведение, которое перемещает пространство калибровки для выравнивания modelled теги с тегами в режиме реального времени (мы осторожность, чтобы переместить пространство для родительского, не modelled маркеров, так как другие connect положения относительно их).</span><span class="sxs-lookup"><span data-stu-id="8d3bb-281">Behavior which moves the calibration space to align the modelled tags with the real-time tags (we are careful to move the parent space, not the modelled markers themselves, because other connect is positions relative to them).</span></span>

```
// In the two tags case:
 Vector3 idealDelta = (realTags[1].EstimatedWorldPos - realTags[0].EstimatedWorldPos);
 Vector3 curDelta = (modelledTags[1].transform.position - modelledTags[0].transform.position);
 if (IsAssumeGravity) {
   idealDelta.y = 0;
   curDelta.y = 0;
 }
 Quaternion deltaRot = Quaternion.FromToRotation(curDelta, idealDelta);
 trans.rotation = Quaternion.LookRotation(deltaRot * trans.forward, trans.up);
 trans.position += realTags[0].EstimatedWorldPos - modelledTags[0].transform.position;
```

### <a name="render-holograms-from-the-cameras-position"></a><span data-ttu-id="8d3bb-282">Визуализации голограммы начиная с позиции камеры</span><span class="sxs-lookup"><span data-stu-id="8d3bb-282">Render holograms from the Camera's position</span></span>

<span data-ttu-id="8d3bb-283">Примечание. Если вы пытаетесь создать свой собственный [смешанный захвата реальности (MRC)](mixed-reality-capture.md), который объединяет голограммы с потоком камеры, можно использовать [эффекты MRC](mixed-reality-capture-for-developers.md) или включить свойство showHolograms в [ Может быть найдена камеры в Unity](locatable-camera-in-unity.md).</span><span class="sxs-lookup"><span data-stu-id="8d3bb-283">Note: If you are trying to create your own [Mixed reality capture (MRC)](mixed-reality-capture.md), which blends holograms with the Camera stream, you can use the [MRC effects](mixed-reality-capture-for-developers.md) or enable the showHolograms property in [Locatable camera in Unity](locatable-camera-in-unity.md).</span></span>

<span data-ttu-id="8d3bb-284">Если вы хотите сделать специальные рендеринга непосредственно в потоке RGB камеры, существует возможность отображения голограммы в место, начиная с позиции камеры в соответствии с веб-канал видео чтобы предоставить возможность просмотра и динамические записи пользовательских голограмма.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-284">If you'd like to do a special render directly on the RGB Camera stream, it's possible to render holograms in space from the Camera's position in sync with a video feed in order to provide a custom hologram recording/live preview.</span></span>

<span data-ttu-id="8d3bb-285">В Скайп это делается для отображения удаленного клиента, что видит пользователь HoloLens и позволяют им взаимодействовать с тем же голограммы.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-285">In Skype, we do this to show the remote client what the HoloLens user is seeing and allow them to interact with the same holograms.</span></span> <span data-ttu-id="8d3bb-286">Перед отправкой по каждого кадра через службу Скайп, мы получаем данные соответствующего камеры каждого кадра.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-286">Before sending over each video frame through the Skype service, we grab each frame's corresponding camera data.</span></span> <span data-ttu-id="8d3bb-287">Мы затем камеры внешних и внутренних метаданных видеокадра и затем отправить его через службу Скайп.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-287">We then package the camera's extrinsic and intrinsic metadata with the video frame and then send it over the Skype service.</span></span>

<span data-ttu-id="8d3bb-288">На принимающей стороне с помощью Unity, мы уже синхронизированы все голограммы в пространстве пользователя HoloLens, с помощью той же системе координат.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-288">On the receiving side, using Unity, we've already synced all of the holograms in the HoloLens user's space using the same coordinate system.</span></span> <span data-ttu-id="8d3bb-289">Это позволяет нам используйте камеры внешних метаданных для размещения Unity камеры в шифрованию в мире (по отношению к остальной части голограммы), пользователь HoloLens репутацию, при этом видео кадра и использовать встроенные данные камеры для Убедитесь, что представление одинаков.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-289">This allows us to use the camera's extrinsic metadata to place the Unity camera in the exact place in the world (relative to the rest of the holograms) that the HoloLens user was standing when that video frame was captured, and use the camera intrinsic information to ensure the view is the same.</span></span>

<span data-ttu-id="8d3bb-290">После правильной установки камеры, мы соберем какие голограммы камеры видит на рамки, которую мы получили от Скайп, создание представления, HoloLens пользователь видит при использовании Graphics.Blit смешанной реальности.</span><span class="sxs-lookup"><span data-stu-id="8d3bb-290">Once we have the camera set up properly, we combine what holograms the camera sees onto the frame we received from Skype, creating a mixed reality view of what the HoloLens user sees using Graphics.Blit.</span></span>

```cs
private void OnFrameReceived(Texture frameTexture, Vector3 cameraPosition, Quaternion cameraRotation, Matrix4x4 cameraProjectionMatrix)
{
    //set material that will be blitted onto the RenderTexture
    this.compositeMaterial.SetTexture(CompositeRenderer.CameraTextureMaterialProperty, frameTexture);
    //set the camera to be that of the HoloLens's device camera
    this.Camera.transform.position = cameraPosition;
    this.Camera.transform.rotation = cameraRotation;
    this.Camera.projectionMatrix = cameraProjectionMatrix;
    //trigger the Graphics's Blit now that the frame and camera are set up
    this.TextureReady = false;
}
private void OnRenderImage(RenderTexture source, RenderTexture destination)
{
    if (!this.TextureReady)
    {
        Graphics.Blit(source, destination, this.compositeMaterial);
        this.TextureReady = true;
    }
}
```

### <a name="track-or-identify-tagged-stationary-or-moving-real-world-objectsfaces-using-leds-or-other-recognizer-libraries"></a><span data-ttu-id="8d3bb-291">Отслеживание или определить тегами стационарным или перемещения реальных объектов/лица с помощью светодиодных индикаторов или другие библиотеки распознаватель</span><span class="sxs-lookup"><span data-stu-id="8d3bb-291">Track or Identify Tagged Stationary or Moving real-world objects/faces using LEDs or other recognizer libraries</span></span>

<span data-ttu-id="8d3bb-292">Примеры</span><span class="sxs-lookup"><span data-stu-id="8d3bb-292">Examples:</span></span>
* <span data-ttu-id="8d3bb-293">Промышленный роботов с помощью светодиодных индикаторов (или QR-коды для медленнее перемещение объектов)</span><span class="sxs-lookup"><span data-stu-id="8d3bb-293">Industrial robots with LEDs (or QR codes for slower moving objects)</span></span>
* <span data-ttu-id="8d3bb-294">Определение и распознавание объектов в комнате</span><span class="sxs-lookup"><span data-stu-id="8d3bb-294">Identify and recognize objects in the room</span></span>
* <span data-ttu-id="8d3bb-295">Определение и распознавание людей в комнате (например место holographic карточек контактов через лиц)</span><span class="sxs-lookup"><span data-stu-id="8d3bb-295">Identify and recognize people in the room (e.g. place holographic contact cards over faces)</span></span>

## <a name="see-also"></a><span data-ttu-id="8d3bb-296">См. также</span><span class="sxs-lookup"><span data-stu-id="8d3bb-296">See also</span></span>
* [<span data-ttu-id="8d3bb-297">Может быть найдена камеры в DirectX</span><span class="sxs-lookup"><span data-stu-id="8d3bb-297">Locatable camera in DirectX</span></span>](locatable-camera-in-directx.md)
* [<span data-ttu-id="8d3bb-298">Может быть найдена камеры в Unity</span><span class="sxs-lookup"><span data-stu-id="8d3bb-298">Locatable camera in Unity</span></span>](locatable-camera-in-unity.md)
* [<span data-ttu-id="8d3bb-299">Захват смешанной реальности</span><span class="sxs-lookup"><span data-stu-id="8d3bb-299">Mixed reality capture</span></span>](mixed-reality-capture.md)
* [<span data-ttu-id="8d3bb-300">Смешанный реальности записи для разработчиков</span><span class="sxs-lookup"><span data-stu-id="8d3bb-300">Mixed reality capture for developers</span></span>](mixed-reality-capture-for-developers.md)
* [<span data-ttu-id="8d3bb-301">Общие сведения о записи мультимедиа</span><span class="sxs-lookup"><span data-stu-id="8d3bb-301">Media capture introduction</span></span>](https://msdn.microsoft.com/library/windows/apps/mt243896.aspx)
