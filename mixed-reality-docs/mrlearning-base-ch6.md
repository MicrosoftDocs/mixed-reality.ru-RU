---
title: Учебники по началу работы — 7. Создание примера приложения Лунный модуль
description: На этом занятии вы объедините несколько концепций, полученных в предыдущих занятиях, для создания уникального примера.
author: jessemcculloch
ms.author: jemccull
ms.date: 02/26/2019
ms.topic: article
keywords: mixed reality, unity, tutorial, hololens
ms.openlocfilehash: 3127ffceea08202fe9d978ad77f8fddb6fba60a3
ms.sourcegitcommit: 23b130d03fea46a50a712b8301fe4e5deed6cf9c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/24/2019
ms.locfileid: "75334370"
---
# <a name="7-creating-a-lunar-module-sample-application"></a>7. Создание примера приложения с лунным модулем

В этом руководстве несколько концепций объединяются из предыдущих уроков для создания уникального примера. Вы узнаете, как создать приложение для работы с лунной микромодульной сборкой, в котором пользователь должен использовать отслеживание руки для получения подразделов лунного модуля и попытаться собрать Лунный модуль. Мы используем нажатые кнопки, чтобы переключить подсказки о размещении, сбросить наш опыт и запустить наш Лунный модуль в место! В следующих учебных курсах мы будем продолжать создавать эти возможности, в том числе эффективные варианты использования в нескольких пользователях, использующие пространственные привязки Azure для пространственного выравнивания.

## <a name="objectives"></a>Задачи

- Объединить несколько концепций из предыдущих уроков, чтобы выполнить уникальный сценарий.
- Узнать, как переключать объекты.
- Запустить сложные события с помощью нажимаемых кнопок.
- Использовать силы и физику твердых тел.
- Изучить использование всплывающих подсказок.

## <a name="configuring-the-lunar-module"></a>Настройка лунного модуля

В этом разделе представлены различные компоненты, необходимые для создания нашего примера работы.

1. Добавьте prefabную сборку модуля в базовую сцену. Для этого на вкладке проект перейдите к Assets > Басемодулеассетс > Prefabs. Вы увидите два Prefabs средства запуска Rocket, перетащите Rocket Launcher_Tutorial prefab в сцену и выберите нужное расположение.

    >[!NOTE]
    >Rocket Launcher_Complete prefab — это завершенное средство запуска, предоставленное для справки.

    ![Изображение "Урок 6, раздел 1, шаг 1"](images/Lesson6_Chapter1_step1im.PNG)

    Если развернуть объект Rocket Launcher_Tutorial Game в иерархии, а затем расширить объект лунного модуля, вы найдете несколько дочерних объектов, имеющих материал «x-ray». Материал x-Ray позволяет слегка полупрозрачным цветом, который будет использоваться в качестве подсказок размещения для пользователя.

    ![Lesson6 Chapter1 Нотеаим](images/Lesson6_Chapter1_noteaim.PNG)

    В лунном модуле есть пять частей, с которыми взаимодействует пользователь, как показано на рисунке ниже:

    1. Корпус лунохода.
    2. Топливный бак.
    3. Топливная камера.
    4. Стыковочный модуль.
    5. Внешний датчик.

    ![Изображение "Урок 6, раздел 1, примечание б"](images/Lesson6_Chapter1_notebim.PNG)

    >[!NOTE]
    >Названия игровых объектов, которые вы видите в иерархии базовой сцены, не соответствуют именам объектов в сцене.

2. Добавьте источник звука в игровом объекте Лунармодуле. Убедитесь, что в иерархии сцены выбран параметр Лунармодуле, и нажмите кнопку Добавить компонент. Найдите источник аудио и добавьте его в объект Game. Оставьте поле аудиоклип пустым, но измените особый параметр Blend с 0 на 1, чтобы включить Пространственный звук. Этот источник звука будет использоваться для воспроизведения запуска звука позже.

    ![Lesson6 Chapter1 Step2im](images/Lesson6_Chapter1_step2im.PNG)

3. Добавьте подсказку для переключения размещения сценария. Щелкните Добавить компонент и выполните поиск подсказок по размещению переключателей. Это пользовательский сценарий, который позволяет включать и отключать полупрозрачные подсказки (объекты с материалом x-ray), как упоминалось ранее.

    ![Lesson6 Chapter1 Step3im](images/Lesson6_Chapter1_step3im.PNG)

4. Поскольку у нас есть пять объектов, введите "5" для размера массива игрового объекта. Вы увидите пять новых элементов.

    ![Изображение "Урок 6, раздел 1, шаг 4б"](images/Lesson6_Chapter1_step4bim.PNG)

    Перетащите все полупрозрачные объекты в поля имя (игровой объект). Перетащите следующие объекты из лунного модуля в сцене в поля массива объектов, как показано на рисунке выше:

    ![Изображение "Урок 6, раздел 1, шаг 4а"](images/Lesson6_Chapter1_step4aim.PNG)

    Теперь сценарий включения переключателя для указания размещения настроен, что позволяет включать и отключать подсказки.

5. Добавьте скрипт запуска Лунный модуль. Нажмите кнопку Добавить компонент, выполните поиск по запросу "запустить Лунный модуль" и выберите его. Этот сценарий запускает Лунный модуль. При нажатии настроенной кнопки она добавляет к компоненту внутренний текст в лунном модуле принудительную переправку и заставляет модуль запускаться вверх. Если вы находитесь в помещении, лунный модуль может разбиться о потолочную сетку. Если вы находится в области с высоким цеилингс или без цеилингс, Лунный модуль полетает в неограниченное место.

    ![Изображение "Урок 6, раздел 1, шаг 5"](images/Lesson6_Chapter1_step5im.PNG)

6. Отрегулируйте тягу так, чтобы лунный модуль изящно взлетел. Попробуйте использовать значение 0,01. Оставьте поле Rb пустым. RB означает жесткое тело, и это поле будет автоматически заполнено во время выполнения.

    ![Изображение "Урок 6, раздел 1, шаг 6"](images/Lesson6_Chapter1_step6im.PNG)

## <a name="lunar-module-parts-overview"></a>Обзор компонентов лунного модуля

Родительский объект частей лунного модуля — это коллекция объектов, с которыми взаимодействует пользователь. Имена объектов игры с названиями сцен в скобках приведены в списке ниже.

- Ранец (ячейка энергии)
- Гастанк (топливо бак)
- TopLeftBody (корпус лунохода);
- Nose (стыковочный модуль);
- LeftTwirler (внешний датчик).

Обратите внимание, что каждый из этих объектов имеет обработчик манипуляции, как описано в занятии 4. Эта функция позволяет пользователям захватить и манипулировать объектом. Кроме того, обратите внимание, что для параметра два типа манипуляции задано значение перемещение и поворот. Этот параметр позволяет пользователю только перемещать объект и не изменять его размер, что является требуемой функциональностью для приложения сборки.
Кроме того, далеко не установлен флажок, чтобы разрешить только прямое взаимодействие частей модулей.

![Изображение "Урок 6, раздел 2"](images/Lesson6_Chapter2im.PNG)

Демонстрационный сценарий сборки части (показанный выше) представляет собой сценарий, управляющий объектами, которые пользователь помещает в Лунный модуль пользователем.

Поле "объект для размещения" — это выбранное преобразование, как показано на рисунке выше, ранец/топливо Tank, связанное с объектом, к которому он подключается.

Параметры близкого расстояния и дальнего расстояния определяют сходство, к какому компоненту привязывается, или могут быть освобождены. Например, ранец или горючее должно быть 0,1 единиц на расстоянии от лунного модуля до того, как будет выполнена привязка. Параметр дальнего расстояния задает расположение, в котором объект может быть, прежде чем он сможет отсоединиться от лунного модуля. В этом случае рука пользователя должна захватить backpack (топливный бак) и вытащить его на расстояние 0,2 единицы от лунного модуля, чтобы отсоединить его.

Объект подсказки — это метка подсказки в сцене. Когда объекты привязываются на месте, метка отключается.

Источник звука будет автоматически извлечен.

## <a name="configuring-the-placement-hints-button"></a>Настройка кнопки подсказок размещения

На [занятии 2](mrlearning-base-ch2.md)вы узнали, как разместить и настроить кнопки для выполнения таких задач, как изменение цвета элемента или воспроизведение звука при отправке. Мы продолжим использовать эти принципы при настройке наших кнопок для переключения подсказок по размещению.

Целью является настройка нашей кнопки таким образом, чтобы каждый раз, когда пользователь нажимает кнопку подсказок размещения, он переключается на прозрачность подсказок размещения.

1. Переместите Лунный модуль в пустой слот исполняющей среды на панели инспектора, когда объект указания размещения выбран в иерархии базовых сцен.

    ![Lesson6 Chapter3 Step1im](images/Lesson6_Chapter3_step1im.PNG)

2. Щелкните раскрывающийся список нет функции. Перейдите к Тогглеплацеменсинтс и выберите Тогглегамеобжектс () в этом меню. Тогглегамеобжектс () переключает подсказки размещения, чтобы они были видимыми или невидимыми при каждом нажатии кнопки.

    ![Lesson6 Chapter3 Step2im](images/Lesson6_Chapter3_step2im.PNG)

## <a name="configuring-the-reset-button"></a>Настройка кнопки сброса

Существуют ситуации, когда пользователь создает ошибку, случайно выдает объект из системы или просто хочет сбросить интерфейс. Кнопка Reset (Сброс) добавляет возможность перезапуска процесса.

1. Нажмите кнопку Сброс. В основной сцене он называется Ресетраундбуттон.

2. Перетащите Лунный модуль из иерархии базовых сцен в пустой слот под кнопкой, нажатой на панели инспектора.

    ![Lesson6 Chapter4 Step2im](images/Lesson6_Chapter4_step2im.PNG)

3. Выберите раскрывающееся меню без функции и наведите указатель мыши на Лаунчлунармодуле, а затем выберите Ресетмодуле ().

    ![Изображение "Урок 6, раздел 4, шаг 3"](images/Lesson6_Chapter4_step3im.PNG)

    >[!NOTE]
    >Обратите внимание, что по умолчанию GameObject. Броадкастмессаже настроен на Ресетплацемент. Это широковещательная рассылка сообщения с именем Ресетплацемент для каждого дочернего объекта RocketLauncher_Tutorial. Любой объект, имеющий метод для Ресетплацемент (), отвечает на это сообщение, передавая его расположение.

## <a name="configuring-the-launch-button"></a>Настройка кнопки запуска

В этом разделе объясняется, как настроить кнопку запуска, которая позволяет пользователю нажать кнопку и запустить модуль лунного календаря в место.

1. Нажмите кнопку запустить. В основной сцене он называется Лаунчраундбуттон. Перетащите Лунный модуль в пустой слот в разделе сенсорная точка на панели инспектора.

    ![Lesson6 Chapter5 Step1im](images/Lesson6_Chapter5_step1im.PNG)

2. Выберите раскрывающееся меню без функции и наведите указатель мыши на Лаунчлунармодуле и выберите Стопсрустер (). Определяет, сколько креативность пользователь хочет предоставить Лунный модуль.

    ![Lesson6 Chapter5 Step2im](images/Lesson6_Chapter5_step2im.PNG)

3. Перетащите Лунный модуль из иерархии базовых сцен в пустой слот под нажатой кнопкой на панели инспектора.

4. Щелкните раскрывающееся меню нет функции, а затем на Лаунчлунармодуле и выберите Стартсрустер ().

    ![Lesson6 Chapter5 Step4im](images/Lesson6_Chapter5_step4im.PNG)

5. Добавьте музыку в Лунный модуль, чтобы музыка воспроизводилась при отключении Rocket. Для этого перетащите Лунный модуль в следующий пустой слот под нажатой кнопкой ().

6. Выберите раскрывающееся меню без функции, наведите указатель мыши на Аудиосаурце и выберите Плайонешот (аудиоклип). Вы можете просмотреть все разнообразие звуков, включенных в MRTK. В этом примере мы будем использовать «MRTK_Gem».

    ![Lesson6 Chapter5 Step6im](images/Lesson6_Chapter5_step6im.PNG)

## <a name="congratulations"></a>Поздравляем!

Вы полностью настроили это приложение. Теперь, когда вы нажмете кнопку Воспроизвести, вы можете полностью собрать Лунный модуль, переключить подсказки, запустить Лунный модуль и сбросить его, чтобы снова запустить.
