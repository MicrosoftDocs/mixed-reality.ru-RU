---
title: Учебники по началу работы — 7. Создание примера приложения Лунный модуль
description: В этом уроке мы объединим несколько концепций, которые узнали из предыдущих уроков, чтобы выполнить уникальный сценарий.
author: jessemcculloch
ms.author: jemccull
ms.date: 02/26/2019
ms.topic: article
keywords: mixed reality, unity, tutorial, hololens
ms.openlocfilehash: 97dd8fce1ebe53efc37cb48cde7dc9e207be9a42
ms.sourcegitcommit: af1602710c1ccb7ed870a491923350d387706129
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/01/2019
ms.locfileid: "68701990"
---
# <a name="7-creating-a-lunar-module-sample-application"></a>7. Создание примера приложения Лунный модуль

В этом руководстве мы объединяем несколько концепций, представленных на предыдущих занятиях, для создания уникального примера. Мы создадим приложение для работы с лунным модулем, в котором пользователь должен использовать относимые руки для получения беспроектных частей и попытаться собрать Лунный модуль. Мы используем нажатые кнопки, чтобы переключить подсказки о размещении, сбросить наш опыт и запустить наш Лунный модуль в место! В следующих учебных курсах мы будем продолжать создавать эти возможности, в том числе эффективные варианты использования в нескольких пользователях, использующие пространственные привязки Azure для пространственного выравнивания.

## <a name="objectives"></a>Цели

- Объединить несколько концепций из предыдущих уроков, чтобы выполнить уникальный сценарий.
- Узнать, как переключать объекты.
- Запустить сложные события с помощью нажимаемых кнопок.
- Использовать силы и физику твердых тел.
- Изучить использование всплывающих подсказок.

## <a name="instructions"></a>Инструкция

### <a name="configuring-the-lunar-module"></a>Настройка лунного модуля

В этом разделе представлены различные компоненты, необходимые для создания нашего примера работы.

1. Добавьте prefabную сборку модуля в базовую сцену. Для этого на вкладке проект выполните поиск по запросу Rocket Launcher_Tutorial. 
Найдите prefab в Assets-> Басемодулеассетс-> Prefabs. Вы также увидите два Prefabs средства запуска Rocket. один с именем Tutorial, а другой — с именем Complete. Перетащите Rocket Launcher_Tutorial prefab в базовую сцену и выберите нужное расположение.
   Примечание. Rocket Launcher_Complete prefab — это завершенное средство запуска, предоставленное для справки. 

![Изображение "Урок 6, раздел 1, шаг 1"](images/Lesson6_Chapter1_step1im.PNG)

Если развернуть в иерархии объект игры Rocket Launcher_Tutorial, а затем расширить объект лунного модуля, вы найдете несколько дочерних объектов с именем «x-ray». Материал x-Ray позволяет слегка полупрозрачным цветом, который будет использоваться в качестве подсказок размещения для пользователя. 

![Lesson6 Chapter1 нотеаим](images/Lesson6_Chapter1_noteaim.PNG) в лунном модуле есть пять частей, с которыми взаимодействует пользователь, как показано на рисунке ниже:

1.  Корпус лунохода.
2.  Топливный бак.
3.  Топливная камера.
4.  Стыковочный модуль. 
5.  Внешний датчик.

![Изображение "Урок 6, раздел 1, примечание б"](images/Lesson6_Chapter1_notebim.PNG)

> Примечание. Имена объектов игры, отображаемые в иерархии базовых сцен, не соответствуют именам объектов в сцене.

Шаг 2. Добавьте источник аудио в лунный модуль. Убедитесь, что в иерархии базовых сцен выбран Лунный модуль, и нажмите кнопку Добавить компонент. Найдите источник аудио и добавьте его в объект. Пока оставьте это поле пустым. Мы будем использовать его для воспроизведения звука запуска позже.

 ![Lesson6 Chapter1 Step2im](images/Lesson6_Chapter1_step2im.PNG)  
Шаг 3. Добавьте скрипт, переключить подсказки о размещении. Щелкните Добавить компонент и выполните поиск подсказок по размещению. Это пользовательский сценарий, который позволяет включать и отключать полупрозрачные подсказки (объекты с материалом x-ray), упомянутые выше.  
![Lesson6 Chapter1 Step3im](images/Lesson6_Chapter1_step3im.PNG)  
Шаг 4. Так как у нас есть пять объектов, введите "5" для размера массива игрового объекта. Вы увидите пять новых элементов.  


![Изображение "Урок 6, раздел 1, шаг 4б"](images/Lesson6_Chapter1_step4bim.PNG)

Перетащите все полупрозрачные объекты в поля Name (Game проведите).
Перетащите следующие объекты из лунного модуля в вашу базовую сцену: 

•   Backpack;

•   GasTank;

•   Topleftbody;

•   Nose;

•   LeftTwirler.

 ![Изображение "Урок 6, раздел 1, шаг 4а"](images/Lesson6_Chapter1_step4aim.PNG)

Теперь выполняется настройка скрипта подсказок по размещению. Это позволит нам включать и отключать подсказки.

Шаг 5. Добавьте скрипт запуска Лунный модуль. Нажмите кнопку Добавить компонент, выполните поиск по запросу "запустить Лунный модуль" и выберите его. Этот сценарий запускает Лунный модуль. При нажатии настроенной кнопки она добавляет к компоненту внутренний текст в лунном модуле принудительную переправку и заставляет модуль запускаться в обратном порядке. Если вы находитесь в помещении, лунный модуль может разбиться о потолочную сетку. Но если вы находитесь на улице, он полетит в космос на неопределенный срок. 

![Изображение "Урок 6, раздел 1, шаг 5"](images/Lesson6_Chapter1_step5im.PNG)

Шаг 6. Отрегулируйте тягу так, чтобы лунный модуль изящно взлетел. Попробуйте использовать значение 0,01. Оставьте поле Rb пустым. Rb означает твердое тело. Это поле заполняется автоматически во время выполнения.

![Изображение "Урок 6, раздел 1, шаг 6"](images/Lesson6_Chapter1_step6im.PNG)

### <a name="lunar-module-parts-overview"></a>Обзор компонентов лунного модуля
Родительский объект частей лунного модуля — это коллекция объектов, с которыми взаимодействует пользователь. Имена объектов игры с именем сцены в паресесес приведены в списке ниже.

- Backpack (топливный бак);
- GasTank (топливная камера);
- TopLeftBody (корпус лунохода);
- Nose (стыковочный модуль);
- LeftTwirler (внешний датчик).

Обратите внимание, что каждый из этих объектов имеет обработчик манипуляции, как описано в занятии 4. С помощью обработчика манипуляции пользователи могут захватить объект и управлять им. Кроме того, обратите внимание, что параметр два типа манипуляции имеют значение перемещение и поворот. Это позволяет пользователю только перемещать объект, но не изменять его размер, что является желаемой функцией в приложении сборки.
Кроме того, далеко не установлен флажок, чтобы разрешить только прямое взаимодействие частей модулей.

![Изображение "Урок 6, раздел 2"](images/Lesson6_Chapter2im.PNG)

Демонстрационный сценарий сборки части (показанный выше) представляет собой сценарий, управляющий объектами, которые пользователь помещает в Лунный модуль пользователем. 

Поле "объект для размещения" — это выбранное преобразование, как показано на рисунке выше, ранец/топливо Tank, связанное с объектом, к которому он подключается. 

Параметры близкого расстояния и дальнего расстояния определяют сходство, к какому компоненту привязывается, или могут быть освобождены. Например, ранец или горючее должно быть 0,1 единиц на расстоянии от лунного модуля до того, как будет выполнена привязка. Параметр дальнего расстояния задает расположение, в котором объект может быть, прежде чем он сможет отсоединиться от лунного модуля. В этом случае рука пользователя должна захватить backpack (топливный бак) и вытащить его на расстояние 0,2 единицы от лунного модуля, чтобы отсоединить его.

Объект подсказки — это метка подсказки в сцене. Когда объекты привязываются на месте, метка отключается. 

Источник звука будет автоматически извлечен. 

### <a name="placement-hints-buttons"></a>Кнопки подсказок размещения
Из [урока 2](mrlearning-base-ch2.md) вы узнали, как размещать и настраивать кнопки для выполнения таких действий, как изменение цвета элемента или воспроизведение звука при нажатии на него. Мы продолжим использовать эти принципы при настройке наших кнопок для переключения подсказок по размещению. 

Целью является настройка нашей кнопки таким образом, чтобы каждый раз, когда пользователь нажимает кнопку подсказок размещения, он переключается на прозрачность подсказок размещения. 

Шаг 1. Переместите Лунный модуль в пустой слот исполняющей среды на панели инспектора, когда объект указания размещения выбран в иерархии базовых сцен. 
 ![Изображение "Урок 6, раздел 3, шаг 1"](images/Lesson6_Chapter3_step1im.PNG) Шаг 2. Теперь щелкните раскрывающийся список нет функции. Перейдите в Тогглеплацеменсинтс и в этом меню выберите Тогглегамеобжектс (). Тогглегамеобжектс () переключает подсказки размещения, чтобы они были видимыми или невидимыми при каждом нажатии кнопки.  
 ![Изображение "Урок 6, раздел 3, шаг 2"](images/Lesson6_Chapter3_step2im.PNG)

### <a name="configuring-the-reset-button"></a>Настройка кнопки сброса

Существуют ситуации, когда пользователь делает ошибку или случайным образом выдает объект из системы или просто хочет сбросить интерфейс. Кнопка Reset (Сброс) добавляет возможность перезапуска процесса. 

Шаг 1. Нажмите кнопку Сброс. В основной сцене он называется, Ресетраундбуттон. 

Шаг 2. Перетащите Лунный модуль из иерархии базовых сцен в пустой слот под кнопкой, которая была нажата на панели инспектора.
 ![Изображение "Урок 6, раздел 4, шаг 2"](images/Lesson6_Chapter4_step2im.PNG)

Шаг 3. Выберите раскрывающееся меню без функции и наведите указатель мыши на Лаунчлунармодуле, выберите Ресетмодуле ().

![Изображение "Урок 6, раздел 4, шаг 3"](images/Lesson6_Chapter4_step3im.PNG)

> Примечание. Обратите внимание, что по умолчанию GameObject. Броадкастмессаже настроен на Ресетплацемент. Это широковещательная рассылка сообщения с именем, Ресетплацемент для каждого дочернего объекта RocketLauncher_Tutorial. Любой объект, имеющий метод для Ресетплацемент (), отвечает на это сообщение, передавая его расположение. 

### <a name="launching-the-lunar-module"></a>Запуск лунного модуля
В этом разделе експлаингс, как настроить кнопку запуска. Это позволяет пользователю нажать кнопку и запустить модуль лунного календаря в место.

Шаг 1. Нажмите кнопку запустить. В основной сцене он называется, Лаунчраундбуттон. Перетащите Лунный модуль в пустой слот в разделе сенсорная точка на панели инспектора.
 ![Изображение "Урок 6, раздел 5, шаг 1"](images/Lesson6_Chapter5_step1im.PNG) Шаг 2. Выберите раскрывающееся меню без функции и наведите указатель мыши на Лаунчлунармодуле и выберите Стопсрустер (). Определяет, сколько креативность пользователь хочет предоставить Лунный модуль. 
 ![Lesson6 Chapter5 Step2im](images/Lesson6_Chapter5_step2im.PNG)  
Шаг 3. В разделе Буттонпрессед () добавьте Лунный модуль (щелкните, удерживайте и перетащите) в пустой слот. 

Шаг 4. Щелкните раскрывающееся меню нет функции и наведите указатель мыши на Лаунчлунармодуле и выберите Стартсрустер (). 
 ![Lesson6 Chapter5 Step4im](images/Lesson6_Chapter5_step4im.PNG)  
Шаг 5. Добавьте музыку в Лунный модуль, чтобы музыка воспроизводилась при отключении Rocket. Для этого перетащите Лунный модуль в следующий пустой слот под нажатой кнопкой ().

Шаг 6. Выберите раскрывающееся меню без функции, наведите указатель мыши на Аудиосаурце и выберите Плайонешот (аудиоклип). Вы можете просмотреть все разнообразие звуков, включенных в MRTK. В этом примере мы будем использовать «MRTK_Gem».
 ![Изображение "Урок 6, раздел 5, шаг 6"](images/Lesson6_Chapter5_step6im.PNG)


### <a name="congratulations"></a>Поздравляем! 
Вы полностью настроили это приложение. Теперь, когда вы нажмете кнопку Воспроизвести, вы можете полностью собрать Лунный модуль, переключить подсказки, запустить модуль лунного календаря и сбросить его для повторного запуска.
