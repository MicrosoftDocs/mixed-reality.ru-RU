---
title: Учебники по возможностям для нескольких пользователей — 4. Совместное использование передвижений объектов несколькими пользователями
description: Пройдите этот курс, чтобы узнать, как реализовать совместное использование нескольких пользователей в приложении HoloLens 2.
author: jessemcculloch
ms.author: jemccull
ms.date: 02/26/2019
ms.topic: article
keywords: mixed reality, unity, tutorial, hololens
ms.openlocfilehash: f523aabd74b9267b3f7f5024d8af46110e43c32a
ms.sourcegitcommit: 23b130d03fea46a50a712b8301fe4e5deed6cf9c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/24/2019
ms.locfileid: "75334281"
---
# <a name="4-sharing-object-movements-with-multiple-users"></a>4. Совместное использование передвижений объектов несколькими пользователями

В этом руководстве вы узнаете, как совместно использовать перемещения объектов, чтобы все участники общего сеанса могли совместно работать и просматривать взаимодействия друг с другом. Это занятие строится на основе лунного модуля запуска, созданного в рамках [учебников по базовому модулю](mrlearning-base.md).

## <a name="objectives"></a>Задачи

- Подключите Лунный модуль запуска к совместно используемой трехмерной модели.
- Настройка проекта для совместного использования перемещений трехмерной модели
- Узнайте, как создать базовое многопользовательское приложение для совместной работы

## <a name="instructions"></a>Инструкция

1. Сохраните сцену из предыдущего занятия (Control + S). Можно присвоить ему имя HLSharedProjectMainPart4. Unity, чтобы его было проще найти по мере необходимости.

2. В окне проекта в папке Assets-> Scripts дважды щелкните Женерикнетсинк, чтобы открыть его в Visual Studio или в любом редакторе кода, который вы используете.  

    ![module3chapter4updatestep2](images/module3chapter4updatestep2.png)

3. В строках 34 и 38 удалите "//", чтобы активировать код для таблицы, которая будет использоваться на этом занятии. Затем сохраните файл.

    ![module3chapter4updatestep3](images/module3chapter4updatestep3.png)

4. В окне проекта дважды щелкните файл PhotonRoom.cs в папке Assets-> Scripts, чтобы открыть его в Visual Studio.

    ![module3chapter4updatestep4](images/module3chapter4updatestep4.png)

5. Как и на шаге 3, необходимо удалить "//", чтобы активировать код в строках 25, 26 и 106.

    ![module3chapter4updatestep5a](images/module3chapter4updatestep5a.png)

    ![module3chapter4updatestep5b](images/module3chapter4updatestep5b.png)

6. В представлении Иерархия выберите объект Нетворкрум.

    ![module3chapter4updatestep6](images/module3chapter4updatestep6.png)

7. В представлении проекта перейдите к разделу Assets-> Resources-> Prefabs. Сначала перетащите таблицу prefab в слот Таблепрефаб в классе Фотонрум. Затем перетащите Роккетлаунчеркомплетевариантпрефаб в гнездо Module prefab в классе Фотонрум.

    ![module3chapter4updatestep7](images/module3chapter4updatestep7.png)

    >[!NOTE]
    >Если щелкнуть один из объектов prefab и выпустить, инспектор будет переключаться на этот объект. Щелкните, перетащите, удалите и выпустите каждый объект в соответствующем слоте.

8. Щелкните стрелку слева от Микседреалитиплайспаце и переместите дочерний объект Game Маинкамера в Шаредплайграунд prefab. Затем удалите prefab, Микседреалитиплайспаце, выбрав prefab и нажав кнопку "Удалить" на клавиатуре.

    ![Module3hapter4step5im](images/module3chapter4step5im.PNG)

    >[!NOTE]
    >Убедитесь, что значения основной камеры и Шаредплайграунд установлены равными 0, 0, 0.

9. Выберите объект "Шаредплайграунд" и щелкните правой кнопкой мыши, чтобы выбрать команду "создать пустой", чтобы создать пустой объект Game в качестве дочернего объекта игры "Шаредплайграунд".

   ![Module3chapter4step6im](images/module3chapter4step6im.PNG)

10. С помощью нового объекта, выбранного в иерархии, измените имя объекта на Таблеанчор на панели инспектора. Кроме того, нажмите кнопку Добавить компонент и найдите компонент Таблеанчор. Выберите его и добавьте в объект.

    ![Module3Chapter4step7im](images/module3chapter4step7im.PNG)

11. На панели проект в папке Prefabs перетащите таблицу prefab в только что созданный дочерний объект "Таблеанчор".

    ![Module3Chapter4step8im](images/module3chapter4step8im.PNG)

12. В объекте DebugWindow измените ширину на 50, а высоту — на 20.

    ![Module3Chapter4step9im](images/module3chapter4step11im.PNG)

## <a name="congratulations"></a>Поздравляем!

Когда это будет завершено, найдите подсвой Лунный модуль. После этого все пользователи, присоединенные к проекту Unity, могут переместить Лунный модуль запуска.  Все перемещения синхронизируются таким образом, чтобы каждый пользователь мог видеть взаимодействия друг с другом. Эти понятия служат в качестве основных стандартных блоков для полнофункциональных общих возможностей совместной работы.

Несмотря на то что все пользователи подключены как часть общего интерфейса и могут видеть относительные перемещения объектов, приложение по-прежнему не может точно расположить аватары и объекты, чтобы локальные пользователи не могли видеть друг друга и объекты в том же месте в физический мир. Чтобы привязать локальные общие интерфейсы, каждому устройству требуется общее понимание физической среды. В этом модуле это достигается с помощью [пространственных привязок Azure](<https://azure.microsoft.com//services/spatial-anchors/>) (ASA), которые будут реализованы на следующем занятии.

Прежде чем перейти к следующему занятию, необходимо завершить работу модуля ASA Learning, который охватывает основы ASA, учетную запись Azure и создание ресурсов, а также другие фундаментальные блоки зданий, необходимые, прежде чем мы сможем интегрировать это в наш общий интерфейс.

[Следующее занятие: 5. Интеграция пространственных привязок Azure в общий интерфейс](mrlearning-sharing(photon)-ch5.md)
