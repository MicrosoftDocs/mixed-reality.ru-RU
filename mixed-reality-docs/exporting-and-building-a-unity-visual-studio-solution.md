---
title: Экспорт и сборка решения Unity в Visual Studio
description: В этой статье описано, как экспортировать проект смешанной реальности из Unity, чтобы вы могли выполнять сборку и развертывание в Visual Studio.
author: mattzmsft
ms.author: mazeller
ms.date: 03/21/2018
ms.topic: article
keywords: Unity, Visual Studio, экспорт, сборка, развертывание
ms.openlocfilehash: 752a9dd002d27d24d9b80a1a97cb07a44237b9e0
ms.sourcegitcommit: 6bc6757b9b273a63f260f1716c944603dfa51151
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/01/2019
ms.locfileid: "73435565"
---
# <a name="exporting-and-building-a-unity-visual-studio-solution"></a>Экспорт и сборка решения Unity в Visual Studio

Если вы не планируете использовать системную клавиатуру в приложении, мы рекомендуем использовать *D3D* , так как ваше приложение будет использовать немного меньше памяти и немного ускоряет время запуска. Если для использования системной клавиатуры в проекте используется API Таучскринкэйбоард, необходимо экспортировать его как *XAML*.

## <a name="how-to-export-from-unity"></a>Экспорт из Unity

![параметры сборки Unity](images/unitybuildsettings-300px.png)<br>
*Параметры сборки Unity*

1. Когда вы будете готовы экспортировать проект из Unity, откройте меню **файл** и выберите **параметры сборки...**
2. Нажмите кнопку **Добавить открытые сцены** , чтобы добавить сцену в сборку.
3. В диалоговом окне **параметры сборки** выберите следующие параметры для экспорта для HoloLens:
   * **Platform:** *универсальная платформа Windows* и не забудьте выбрать **параметр платформа** , чтобы выбранные элементы вступили в силу.
   * **Пакет SDK:** *универсальный 10*.
   * **Тип сборки UWP:** *D3D*.
4. Необязательно **. C# проекты Unity:** проверено.

>[!NOTE]
>Установка этого флажка позволяет:
>* Отладка приложения в удаленном отладчике Visual Studio.
>* Измените скрипты в проекте C# Unity, используя IntelliSense для API-интерфейсов WinRT.

5. В окне **параметры сборки...** откройте **Параметры проигрывателя...**
6. Перейдите на вкладку **параметры для универсальная платформа Windows** .
7. Разверните группу **Параметры XR** .
8. В разделе **Параметры XR** установите флажок **Virtual Reality Supported (Поддерживаемые виртуальные** устройства), чтобы добавить новый список **устройств Virtual Reality** и подтвердить, что **Windows Mixed Reality** указана как поддерживаемое устройство.
9. Вернитесь в диалоговое окно **параметры сборки** .
10. Выберите **Сборка**.
11. В появившемся диалоговом окне проводника Windows создайте новую папку для хранения выходных данных сборки Unity. Как правило, имя папки «App».
12. Выберите только что созданную папку и нажмите кнопку **выбрать папку**.
13. После завершения сборки Unity откроется окно проводника Windows в корневом каталоге проекта. Перейдите в только что созданную папку.
14. Откройте созданный файл решения Visual Studio, расположенный в этой папке.

## <a name="when-to-re-export-from-unity"></a>Когда следует повторно экспортировать из Unity

При установке флажка "C# проекты" при экспорте приложения из Unity создается решение Visual Studio, включающее все файлы скриптов Unity. Это позволяет выполнять итерацию по скриптам без повторного экспорта из Unity. Однако если вы хотите внести изменения в проект, который не просто изменяет содержимое скриптов, необходимо повторно экспортировать из Unity. Ниже приведены некоторые примеры случаев, когда необходимо повторно экспортировать из Unity:
* Добавить или удалить ресурсы можно на вкладке проект.
* Изменить любое значение можно на вкладке инспектор.
* Добавить или удалить объекты можно на вкладке Иерархия.
* Изменение параметров проекта Unity

## <a name="building-and-deploying-a-unity-visual-studio-solution"></a>Создание и развертывание решения Unity в Visual Studio

Оставшаяся часть сборки и развертывания приложений происходит в [Visual Studio](using-visual-studio.md). Необходимо указать конфигурацию сборки Unity. Соглашения об именовании Unity могут отличаться от тех, которые обычно используются в Visual Studio:

|  Настройка  |  Объяснение | 
|----------|----------|
|  Отладка  |  Все оптимизации отключены и профилировщик включен. Используется для отладки скриптов. | 
|  Главная  |  Все оптимизации включены и профилировщик отключен. Используется для отправки приложений в магазин. | 
|  Выпуск  |  Все оптимизации включены и профилировщик включен. Используется для оценки производительности приложения. | 

Обратите внимание, что приведенный выше список является подмножеством общих триггеров, которые приведут к созданию проекта Visual Studio. Как правило, редактирование файлов. cs в Visual Studio не требует повторного создания проекта из Unity.

## <a name="troubleshooting"></a>"Устранение неполадок"

Если изменения в CS-файлы не распознаются в проекте Visual Studio, убедитесь, что флажок проекты Unity C# установлен при создании проекта VS из меню сборки Unity.
