---
title: Использование XAML holographic приложениях DirectX
description: Описание влияния, переключения между 2D XAML и иммерсивных представления в приложении DirectX, а также как эффективно использовать впечатляющие представление и представление XAML.
author: MikeRiches
ms.author: mriches
ms.date: 03/21/2018
ms.topic: article
keywords: просмотреть приложение смешанной реальности, UWP, Windows management "," xaml "," Клавиатура "," Пошаговое руководство, DirectX
ms.openlocfilehash: 32b2feea0cb6b8aba972c1772451ca7b5b9946d5
ms.sourcegitcommit: 384b0087899cd835a3a965f75c6f6c607c9edd1b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/12/2019
ms.locfileid: "59598686"
---
# <a name="using-xaml-with-holographic-directx-apps"></a><span data-ttu-id="b95b5-104">Использование XAML holographic приложениях DirectX</span><span class="sxs-lookup"><span data-stu-id="b95b5-104">Using XAML with holographic DirectX apps</span></span>

<span data-ttu-id="b95b5-105">В этом разделе объясняется влияние переключение между [2D XAML и иммерсивных представления](app-views.md) в приложении DirectX, а также как эффективно использовать впечатляющие представление и представление XAML.</span><span class="sxs-lookup"><span data-stu-id="b95b5-105">This topic explains the impact of switching between [2D XAML views and immersive views](app-views.md) in your DirectX app, and how to make efficient use of both a XAML view and immersive view.</span></span>

## <a name="xaml-view-switching-overview"></a><span data-ttu-id="b95b5-106">Общие сведения о переключении представления XAML</span><span class="sxs-lookup"><span data-stu-id="b95b5-106">XAML view switching overview</span></span>

<span data-ttu-id="b95b5-107">На HoloLens обычно иммерсивные приложения, который позже может отображать двухмерное XAML необходимо сначала инициализировать этого представления XAML и немедленно переключитесь в представление иммерсивных оттуда.</span><span class="sxs-lookup"><span data-stu-id="b95b5-107">On HoloLens, a generally immersive app that may later display a 2D XAML view must initialize that XAML view first and immediately switch to an immersive view from there.</span></span> <span data-ttu-id="b95b5-108">Это означает, что XAML будет загружать, прежде чем приложение могут выполнять любые операции.</span><span class="sxs-lookup"><span data-stu-id="b95b5-108">This means XAML will load before your app can do anything.</span></span> <span data-ttu-id="b95b5-109">В результате будет существовать небольшое повышение времени запуска и XAML будет занимать память в процессе приложения при размещении в фоновом режиме; объем задержки запуска и памяти, использование зависит от того, что приложение делает XAML перед переключением в собственный режим.</span><span class="sxs-lookup"><span data-stu-id="b95b5-109">As a result, there will be a small increase in your startup time, and XAML will continue to occupy memory space in your app process while it resides in the background; the amount of startup delay and memory usage depends on what your app does with XAML before switching to the native view.</span></span> <span data-ttu-id="b95b5-110">При отсутствии действий в XAML запуска кода на первый, за исключением того, запуск иммерсивных представление, влияние должно быть незначительные.</span><span class="sxs-lookup"><span data-stu-id="b95b5-110">If you do nothing in your XAML start up code at first except start your immersive view, the impact should be minor.</span></span> <span data-ttu-id="b95b5-111">Кроме того поскольку holographic отрисовку выполняется непосредственно к иммерсивных представлению, позволит избежать каких-либо ограничений, связанных с XAML, отрисовку.</span><span class="sxs-lookup"><span data-stu-id="b95b5-111">Also, because your holographic rendering is done directly to the immersive view, you will avoid any XAML-related restrictions on that rendering.</span></span>

<span data-ttu-id="b95b5-112">Обратите внимание, что использование памяти счетчики ЦП и GPU.</span><span class="sxs-lookup"><span data-stu-id="b95b5-112">Note that the memory usage counts for both CPU and GPU.</span></span> <span data-ttu-id="b95b5-113">Direct3D 11 замены виртуального графической памяти, но он не может иметь возможность выгрузить некоторые или все ресурсы графического Процессора XAML может существовать нажатия снижается производительность.</span><span class="sxs-lookup"><span data-stu-id="b95b5-113">Direct3D 11 is able to swap virtual graphics memory, but it might not be able to swap out some or all of the XAML GPU resources, and there might be a noticeable performance hit.</span></span> <span data-ttu-id="b95b5-114">В любом случае не удалось загрузить какие-либо функции XAML не будет оставить больше места для своего приложения и повышения удобства работы.</span><span class="sxs-lookup"><span data-stu-id="b95b5-114">Either way, not loading any XAML features you don't need will leave more room for your app and provide a better experience.</span></span>

## <a name="xaml-view-switching-workflow"></a><span data-ttu-id="b95b5-115">Представление XAML, переключение рабочего процесса</span><span class="sxs-lookup"><span data-stu-id="b95b5-115">XAML view switching workflow</span></span>

<span data-ttu-id="b95b5-116">Рабочий процесс для приложения, которое передается иммерсивном режиме непосредственно из XAML является следующим образом:</span><span class="sxs-lookup"><span data-stu-id="b95b5-116">The workflow for an app that goes directly from XAML to immersive mode is like so:</span></span>
* <span data-ttu-id="b95b5-117">Приложение запускается в двухмерном виде XAML.</span><span class="sxs-lookup"><span data-stu-id="b95b5-117">The app starts up in the 2D XAML view.</span></span>
* <span data-ttu-id="b95b5-118">Последовательность запуска приложения XAML обнаруживает, поддерживает ли текущая система holographic отрисовки:</span><span class="sxs-lookup"><span data-stu-id="b95b5-118">The app’s XAML startup sequence detects if the current system supports holographic rendering:</span></span>
* <span data-ttu-id="b95b5-119">Если Да, приложение создает иммерсивных представление и помещает его на передний план немедленно.</span><span class="sxs-lookup"><span data-stu-id="b95b5-119">If so, the app creates the immersive view and brings it to the foreground right away.</span></span> <span data-ttu-id="b95b5-120">Загрузка XAML пропускается для параметров, которые не являются обязательными, на устройствах Windows Mixed Reality, включая любые классы отрисовки и активов, загрузка данных в представлении XAML.</span><span class="sxs-lookup"><span data-stu-id="b95b5-120">XAML loading is skipped for anything not necessary on Windows Mixed Reality devices, including any rendering classes and asset loading in the XAML view.</span></span> <span data-ttu-id="b95b5-121">Если приложение использует XAML для ввода с клавиатуры, что страница ввода по-прежнему должен будет создан.</span><span class="sxs-lookup"><span data-stu-id="b95b5-121">If the app is using XAML for keyboard input, that input page should still be created.</span></span>
* <span data-ttu-id="b95b5-122">В противном случае в представлении XAML можно переходить к бизнеса обычным образом.</span><span class="sxs-lookup"><span data-stu-id="b95b5-122">If not, the XAML view can proceed with business as usual.</span></span>

## <a name="tip-for-rendering-graphics-across-both-views"></a><span data-ttu-id="b95b5-123">Совет для рендеринга графики в обоих представлениях</span><span class="sxs-lookup"><span data-stu-id="b95b5-123">Tip for rendering graphics across both views</span></span>

<span data-ttu-id="b95b5-124">Если ваше приложение должно реализовать некоторую часть подготовки к просмотру в DirectX для представления XAML в Windows Mixed Reality, лучшим решением является создание одного модуля подготовки отчетов, которая может работать с обоих представлениях.</span><span class="sxs-lookup"><span data-stu-id="b95b5-124">If your app needs to implement some amount of rendering in DirectX for the XAML view in Windows Mixed Reality, your best bet is to create one renderer that can work with both views.</span></span> <span data-ttu-id="b95b5-125">Модуль подготовки отчетов должен быть один экземпляр, который может осуществляться из обоих представлениях, и должна быть возможность переключаться между отрисовки 2D и holographic.</span><span class="sxs-lookup"><span data-stu-id="b95b5-125">The renderer should be one instance that can be accessed from both views, and it should be able to switch between 2D and holographic rendering.</span></span> <span data-ttu-id="b95b5-126">Таким образом ресурсы графического Процессора загружаются только один раз — это сокращает время загрузки, влияние памяти и ресурсов, которые следует поменять местами при переключении представлений.</span><span class="sxs-lookup"><span data-stu-id="b95b5-126">That way GPU assets are only loaded once - this reduces load times, memory impact, and the amount of resources to be swapped when switching views.</span></span>
