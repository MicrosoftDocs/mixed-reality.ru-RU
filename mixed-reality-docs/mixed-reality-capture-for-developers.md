---
title: Смешанный реальности записи для разработчиков
description: Советы и рекомендации для смешанной реальности записи для разработчиков.
author: mattzmsft
ms.author: mazeller
ms.date: 02/24/2019
ms.topic: article
keywords: MRC, фото, видео, записи, камера
ms.openlocfilehash: d1675d2d6c74c6d15ca245a66719e00f2a7c2111
ms.sourcegitcommit: 06ac2200d10b50fb5bcc413ce2a839e0ab6d6ed1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/09/2019
ms.locfileid: "67694366"
---
# <a name="mixed-reality-capture-for-developers"></a><span data-ttu-id="42908-104">Смешанный реальности записи для разработчиков</span><span class="sxs-lookup"><span data-stu-id="42908-104">Mixed reality capture for developers</span></span>

> <span data-ttu-id="42908-105">[ПРИМЕЧАНИЕ] См. в разделе [визуализации от камеры PV](#render-from-the-pv-camera-opt-in) ниже рекомендации по новую возможность MRC для HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="42908-105">[NOTE!] See [Render from the PV camera](#render-from-the-pv-camera-opt-in) below for guidance on a new MRC capability for HoloLens 2.</span></span>

<span data-ttu-id="42908-106">Так как пользователь может воспользоваться [смешанный захвата реальности](mixed-reality-capture.md) photo (MRC) или видео в любое время, существует несколько действий, которые следует помнить при разработке приложения.</span><span class="sxs-lookup"><span data-stu-id="42908-106">Since a user could take a [mixed reality capture](mixed-reality-capture.md) (MRC) photo or video at any time, there are a few things that you should keep in mind when developing your application.</span></span> <span data-ttu-id="42908-107">Сюда входят рекомендации по MRC качества и выполняется быстро реагировать на изменения системы, хотя MRCs фиксируются.</span><span class="sxs-lookup"><span data-stu-id="42908-107">This includes best practices for MRC visual quality and being responsive to system changes while MRCs are being captured.</span></span>

<span data-ttu-id="42908-108">Разработчики могут также легко интегрировать захват смешанной реальности и вставки в свои приложения.</span><span class="sxs-lookup"><span data-stu-id="42908-108">Developers can also seamlessly integrate mixed reality capture and insertion into their apps.</span></span>

<span data-ttu-id="42908-109">MRC на HoloLens (первого) поддерживает видео и фотографии до 720p, хотя MRC HoloLens 2 поддерживает видео до 1080 p и фотографии до разрешением 4 K.</span><span class="sxs-lookup"><span data-stu-id="42908-109">MRC on HoloLens (first-generation) supports videos and photos up to 720p, while MRC on HoloLens 2 supports videos up to 1080p and photos up to 4K resolution.</span></span>

## <a name="the-importance-of-quality-mrc"></a><span data-ttu-id="42908-110">Важность качества MRC</span><span class="sxs-lookup"><span data-stu-id="42908-110">The importance of quality MRC</span></span>

<span data-ttu-id="42908-111">Смешанная реальность собираются фотографии и видео, вероятно, являются первый опыт работы, у пользователя приложения.</span><span class="sxs-lookup"><span data-stu-id="42908-111">Mixed reality captured photos and videos are likely the first exposure a user will have of your app.</span></span> <span data-ttu-id="42908-112">Нужно ли как смешанной реальности снимки экрана, на странице Microsoft Store или из других пользователей, совместно использующих MRCs в социальных сетях.</span><span class="sxs-lookup"><span data-stu-id="42908-112">Whether as mixed reality screenshots on your Microsoft Store page or from other users sharing MRCs on social networks.</span></span> <span data-ttu-id="42908-113">Можно использовать MRC демонстрационное приложение, расскажите пользователям, порекомендуйте пользователям совместно использовать их взаимодействия смешанной среде и для пользователя исследований и решение проблем.</span><span class="sxs-lookup"><span data-stu-id="42908-113">You can use MRC to demo your app, educate users, encourage users to share their mixed world interactions, and for user research and problem solving.</span></span>

## <a name="how-mrc-impacts-your-app"></a><span data-ttu-id="42908-114">Как MRC влияет на приложения</span><span class="sxs-lookup"><span data-stu-id="42908-114">How MRC impacts your app</span></span>

### <a name="enabling-mrc-in-your-app"></a><span data-ttu-id="42908-115">Включение MRC в приложении</span><span class="sxs-lookup"><span data-stu-id="42908-115">Enabling MRC in your app</span></span>

<span data-ttu-id="42908-116">По умолчанию приложения не выполняет никаких действий, чтобы пользователи могли воспользоваться захваты смешанной реальности.</span><span class="sxs-lookup"><span data-stu-id="42908-116">By default, an app does not have to do anything to enable users to take mixed reality captures.</span></span>

### <a name="enabling-improved-alignment-for-mrc-in-your-app"></a><span data-ttu-id="42908-117">Включение улучшенное выравнивание для MRC в приложении</span><span class="sxs-lookup"><span data-stu-id="42908-117">Enabling improved alignment for MRC in your app</span></span>

<span data-ttu-id="42908-118">По умолчанию записи смешанной реальности объединяет holographic выходных данных справа глаз камерой фото и видео (PV).</span><span class="sxs-lookup"><span data-stu-id="42908-118">By default, mixed reality capture combines the right eye's holographic output with the photo/video (PV) camera.</span></span> <span data-ttu-id="42908-119">Эти два источника объединяются с помощью точку фокуса задается запущенного иммерсивные приложения.</span><span class="sxs-lookup"><span data-stu-id="42908-119">These two sources are combined using the focus point set by the currently running immersive app.</span></span>

<span data-ttu-id="42908-120">Это означает, что голограммы за пределами плоскости фокус не удается выровнять также (из-за физической расстояние между PV камеры и окна).</span><span class="sxs-lookup"><span data-stu-id="42908-120">This means that holograms outside the focus plane won't align as well (due to the physical distance between the PV camera and the right display).</span></span>

#### <a name="set-the-focus-point"></a><span data-ttu-id="42908-121">Задайте точку фокуса</span><span class="sxs-lookup"><span data-stu-id="42908-121">Set the focus point</span></span>

<span data-ttu-id="42908-122">Следует задать мощных приложений (на HoloLens) [сосредоточиться точки](focus-point-in-unity.md) из откуда угодно их плоскости стабилизации быть.</span><span class="sxs-lookup"><span data-stu-id="42908-122">Immersive apps (on HoloLens) should set the [focus point](focus-point-in-unity.md) of where they want their stabilization plane to be.</span></span> <span data-ttu-id="42908-123">Это обеспечивает наилучшее выравнивание в обоих гарнитуры и смешанной реальности записи.</span><span class="sxs-lookup"><span data-stu-id="42908-123">This ensures the best alignment in both the headset and in mixed reality capture.</span></span>

<span data-ttu-id="42908-124">Если точку фокуса не задано, по умолчанию два счетчика стабилизации плоскости.</span><span class="sxs-lookup"><span data-stu-id="42908-124">If a focus point is not set, the stabilization plane will default to two meters.</span></span>

#### <a name="render-from-the-pv-camera-opt-in"></a><span data-ttu-id="42908-125">Визуализации от камеры PV (opt-in)</span><span class="sxs-lookup"><span data-stu-id="42908-125">Render from the PV camera (opt-in)</span></span>

<span data-ttu-id="42908-126">HoloLens 2 добавляет иммерсивные приложения для **визуализации от камеры PV** во время захвата смешанной реальности.</span><span class="sxs-lookup"><span data-stu-id="42908-126">HoloLens 2 adds the ability for an immersive app to **render from the PV camera** while mixed reality capture is running.</span></span> <span data-ttu-id="42908-127">Чтобы убедиться, что приложение поддерживает дополнительные визуализации правильно, приложение должно согласиться на эту функцию.</span><span class="sxs-lookup"><span data-stu-id="42908-127">To ensure the app supports the additional render correctly, the app has to opt-in to this functionality.</span></span>

<span data-ttu-id="42908-128">Визуализацию из предложения камеры PV следующие улучшения в MRC взаимодействия по умолчанию:</span><span class="sxs-lookup"><span data-stu-id="42908-128">Render from the PV camera offers the following improvements over the default MRC experience:</span></span>
* <span data-ttu-id="42908-129">Голограмма выравнивание для физической среды и руки (для взаимодействия практически) должно быть точным вообще расстояния, вместо смещение на расстоянии, отличный от точку фокуса, как можно увидеть в значение по умолчанию MRC.</span><span class="sxs-lookup"><span data-stu-id="42908-129">Hologram alignment to both your physical environment and hands (for near interactions) should be accurate at all distances, instead of having an offset at distances other than the focus point as you might see in the default MRC.</span></span>
* <span data-ttu-id="42908-130">Правом глаза в гарнитура не будут скомпрометированы, так как оно не будет использоваться для подготовки к просмотру голограммы для выходных данных MRC.</span><span class="sxs-lookup"><span data-stu-id="42908-130">The right eye in the headset won't be compromised, as it won't be used to render the holograms for the MRC output.</span></span>

<span data-ttu-id="42908-131">Чтобы включить отрисовку с камеры PV трех этапов:</span><span class="sxs-lookup"><span data-stu-id="42908-131">There are three steps to enable rendering from the PV camera:</span></span>
1. <span data-ttu-id="42908-132">Включить PhotoVideoCamera HolographicViewConfiguration</span><span class="sxs-lookup"><span data-stu-id="42908-132">Enable the PhotoVideoCamera HolographicViewConfiguration</span></span>
2. <span data-ttu-id="42908-133">Обрабатывать дополнительные визуализации HolographicCamera</span><span class="sxs-lookup"><span data-stu-id="42908-133">Handle the additional HolographicCamera render</span></span>
3. <span data-ttu-id="42908-134">Проверка шейдеров и код правильного отображения от этого дополнительные HolographicCamera</span><span class="sxs-lookup"><span data-stu-id="42908-134">Verify your shaders and code render correctly from this additional HolographicCamera</span></span>

##### <a name="enable-the-photovideocamera-holographicviewconfiguration"></a><span data-ttu-id="42908-135">Включить PhotoVideoCamera HolographicViewConfiguration</span><span class="sxs-lookup"><span data-stu-id="42908-135">Enable the PhotoVideoCamera HolographicViewConfiguration</span></span>

<span data-ttu-id="42908-136">Чтобы согласиться, приложение просто включает PhotoVideoCamera [HolographicViewConfiguration](https://docs.microsoft.com/uwp/api/Windows.Graphics.Holographic.HolographicViewConfiguration):</span><span class="sxs-lookup"><span data-stu-id="42908-136">To opt-in, an app simply enables the PhotoVideoCamera's [HolographicViewConfiguration](https://docs.microsoft.com/uwp/api/Windows.Graphics.Holographic.HolographicViewConfiguration):</span></span>
```csharp
var display = Windows.Graphics.Holographic.HolographicDisplay.GetDefault();
var view = display.TryGetViewConfiguration(Windows.Graphics.Holographic.HolographicViewConfiguration.PhotoVideoCamera);
if (view != null)
{
   view.IsEnabled = true;
}
```

##### <a name="handle-the-additional-holographiccamera-render-in-directx"></a><span data-ttu-id="42908-137">Обрабатывать дополнительные HolographicCamera визуализации в DirectX</span><span class="sxs-lookup"><span data-stu-id="42908-137">Handle the additional HolographicCamera render in DirectX</span></span>

<span data-ttu-id="42908-138">Когда приложение имеет согласиться для подготовки к просмотру с камеры PV и смешанной реальности записи начинает:</span><span class="sxs-lookup"><span data-stu-id="42908-138">When the app has opt-in to render from the PV camera and mixed reality capture starts:</span></span>
1. <span data-ttu-id="42908-139">Событие CameraAdded HolographicSpace будут срабатывать.</span><span class="sxs-lookup"><span data-stu-id="42908-139">HolographicSpace's CameraAdded event will fire.</span></span> <span data-ttu-id="42908-140">Это событие может быть отложена, если приложение не может обработать камеры в данный момент.</span><span class="sxs-lookup"><span data-stu-id="42908-140">This event can be deferred if the app cannot handle the camera at this time.</span></span>
2. <span data-ttu-id="42908-141">После завершения события (при этом нет ожидающих задержек) HolographicCamera отобразится в списке AddedCameras Далее HolographicFrame.</span><span class="sxs-lookup"><span data-stu-id="42908-141">Once the event has completed (and there are no outstanding deferrals) the HolographicCamera will appear in the next HolographicFrame's AddedCameras list.</span></span>

<span data-ttu-id="42908-142">Когда смешанной реальности захват заканчивается (или если приложение отключает конфигурацию представления во время захвата смешанной реальности): HolographicCamera отобразится в списке RemovedCameras Далее HolographicFrame и будет HolographicSpace CameraRemoved событий срабатывание.</span><span class="sxs-lookup"><span data-stu-id="42908-142">When mixed reality capture stops (or if the app disables the view configuration while mixed reality capture is running): the HolographicCamera will appear in the next HolographicFrame's RemovedCameras list and the HolographicSpace's CameraRemoved event will fire.</span></span>

<span data-ttu-id="42908-143">Объект [ViewConfiguration](https://docs.microsoft.com/uwp/api/windows.graphics.holographic.holographiccamera.viewconfiguration) свойство было добавлено к HolographicCamera для определения конфигурации, принадлежит веб-камеры.</span><span class="sxs-lookup"><span data-stu-id="42908-143">A [ViewConfiguration](https://docs.microsoft.com/uwp/api/windows.graphics.holographic.holographiccamera.viewconfiguration) property has been added to HolographicCamera to help identify the configuration a camera belongs to.</span></span>

##### <a name="handle-the-additional-holographiccamera-render-in-unity"></a><span data-ttu-id="42908-144">Обрабатывать дополнительные визуализации HolographicCamera в Unity</span><span class="sxs-lookup"><span data-stu-id="42908-144">Handle the additional HolographicCamera render in Unity</span></span>

>[!NOTE]
> <span data-ttu-id="42908-145">Поддержка Unity для подготовки к просмотру с камеры PV находится в стадии разработки и не может использоваться, пока.</span><span class="sxs-lookup"><span data-stu-id="42908-145">Unity support to render from the PV camera is under development and can't be used, yet.</span></span> <span data-ttu-id="42908-146">Эта документация будет обновляться при выходе сборки Unity с поддержкой для подготовки к просмотру с камеры PV.</span><span class="sxs-lookup"><span data-stu-id="42908-146">This documentation will be updated when a build of Unity with support for rendering from the PV camera is available.</span></span>

##### <a name="verify-shaders-and-code-support-additional-cameras"></a><span data-ttu-id="42908-147">Проверка шейдеров и кода поддержки дополнительных камеры</span><span class="sxs-lookup"><span data-stu-id="42908-147">Verify shaders and code support additional cameras</span></span>

<span data-ttu-id="42908-148">Выполнение записи смешанной реальности и поиск необычных выравнивание, отсутствующее содержимое или проблем с производительностью.</span><span class="sxs-lookup"><span data-stu-id="42908-148">Run a mixed reality capture and check for unusual alignment, missing content, or performance issues.</span></span> <span data-ttu-id="42908-149">Обновить шейдеры и код соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="42908-149">Update shaders and code as appropriate.</span></span>

<span data-ttu-id="42908-150">При возникновении определенных сцены, не поддерживающие отрисовки для дополнительные камеры, вы можете отключить HolographicViewConfiguration PhotoVideoCamera во время их.</span><span class="sxs-lookup"><span data-stu-id="42908-150">If there are certain scenes that cannot support rendering to an additional camera, you can disable the PhotoVideoCamera's HolographicViewConfiguration during them.</span></span>

### <a name="disabling-mrc-in-your-app"></a><span data-ttu-id="42908-151">Отключение MRC в приложении</span><span class="sxs-lookup"><span data-stu-id="42908-151">Disabling MRC in your app</span></span>

#### <a name="2d-app"></a><span data-ttu-id="42908-152">2D приложения</span><span class="sxs-lookup"><span data-stu-id="42908-152">2D app</span></span>

<span data-ttu-id="42908-153">2D приложений можно выбрать их визуального содержимого при записи смешанной реальности выполняется по:</span><span class="sxs-lookup"><span data-stu-id="42908-153">2D apps can choose to have their visual content obscured when mixed reality capture is running by:</span></span>
* <span data-ttu-id="42908-154">С [DXGI_PRESENT_RESTRICT_TO_OUTPUT](https://docs.microsoft.com/windows/desktop/direct3ddxgi/dxgi-present) флаг</span><span class="sxs-lookup"><span data-stu-id="42908-154">Present with the [DXGI_PRESENT_RESTRICT_TO_OUTPUT](https://docs.microsoft.com/windows/desktop/direct3ddxgi/dxgi-present) flag</span></span>
* <span data-ttu-id="42908-155">Создание цепочки буферов приложения с [DXGI_SWAP_CHAIN_FLAG_HW_PROTECTED](https://docs.microsoft.com/windows/desktop/api/dxgi/ne-dxgi-dxgi_swap_chain_flag) флаг</span><span class="sxs-lookup"><span data-stu-id="42908-155">Create the app's swap chain with the [DXGI_SWAP_CHAIN_FLAG_HW_PROTECTED](https://docs.microsoft.com/windows/desktop/api/dxgi/ne-dxgi-dxgi_swap_chain_flag) flag</span></span>
* <span data-ttu-id="42908-156">С Windows 10 могут 2019 обновить, Настройка ApplicationView [IsScreenCaptureEnabled](https://docs.microsoft.com/uwp/api/windows.ui.viewmanagement.applicationview.isscreencaptureenabled)</span><span class="sxs-lookup"><span data-stu-id="42908-156">With the Windows 10 May 2019 Update, setting ApplicationView's [IsScreenCaptureEnabled](https://docs.microsoft.com/uwp/api/windows.ui.viewmanagement.applicationview.isscreencaptureenabled)</span></span>

#### <a name="immersive-app"></a><span data-ttu-id="42908-157">Насыщенные приложения</span><span class="sxs-lookup"><span data-stu-id="42908-157">Immersive app</span></span>

<span data-ttu-id="42908-158">Мощных приложений можно выбрать их визуальное содержимое исключены из записи смешанной реальности по:</span><span class="sxs-lookup"><span data-stu-id="42908-158">Immersive apps can choose to have their visual content excluded from mixed reality capture by:</span></span>
* <span data-ttu-id="42908-159">Задание элемента HolographicCameraRenderingParameter [IsContentProtectionEnabled](https://docs.microsoft.com/uwp/api/windows.graphics.holographic.holographiccamerarenderingparameters.iscontentprotectionenabled) для отключения отслеживания смешанной реальности для связанном с ним кадре</span><span class="sxs-lookup"><span data-stu-id="42908-159">Setting HolographicCameraRenderingParameter's [IsContentProtectionEnabled](https://docs.microsoft.com/uwp/api/windows.graphics.holographic.holographiccamerarenderingparameters.iscontentprotectionenabled) to disable mixed reality capture for its associated frame</span></span>
* <span data-ttu-id="42908-160">Задание элемента HolographicCamera [IsHardwareContentProtectionEnabled](https://docs.microsoft.com/uwp/api/windows.graphics.holographic.holographiccamera.ishardwarecontentprotectionenabled) для отключения отслеживания смешанной реальности для ее связанных holographic камеры</span><span class="sxs-lookup"><span data-stu-id="42908-160">Setting HolographicCamera's [IsHardwareContentProtectionEnabled](https://docs.microsoft.com/uwp/api/windows.graphics.holographic.holographiccamera.ishardwarecontentprotectionenabled) to disable mixed reality capture for its associated holographic camera</span></span>

#### <a name="password-keyboard"></a><span data-ttu-id="42908-161">Пароль клавиатуры</span><span class="sxs-lookup"><span data-stu-id="42908-161">Password Keyboard</span></span>

<span data-ttu-id="42908-162">С Windows 10 2019 обновление за май, визуальное содержимое автоматически исключаются из записи смешанной реальности, клавиатура пароль или ПИН-код отображается, когда.</span><span class="sxs-lookup"><span data-stu-id="42908-162">With the Windows 10 May 2019 Update, visual content is automatically excluded from mixed reality capture when a password or pin keyboard is visible.</span></span>

### <a name="knowing-when-mrc-is-active"></a><span data-ttu-id="42908-163">Зная, когда активно MRC</span><span class="sxs-lookup"><span data-stu-id="42908-163">Knowing when MRC is active</span></span>

<span data-ttu-id="42908-164">[AppCapture](https://docs.microsoft.com/uwp/api/Windows.Media.Capture.AppCapture) класс может использоваться приложением знать, когда выполняется смешанный реальности записи системы (для аудио или видео).</span><span class="sxs-lookup"><span data-stu-id="42908-164">The [AppCapture](https://docs.microsoft.com/uwp/api/Windows.Media.Capture.AppCapture) class can be used by an app to know when system mixed reality capture is running (for either audio or video).</span></span>

>[!NOTE]
><span data-ttu-id="42908-165">В AppCapture [GetForCurrentView](https://docs.microsoft.com/uwp/api/windows.media.capture.appcapture.getforcurrentview) API может возвращать значение null, если смешанный реальности записи не поддерживается на устройстве.</span><span class="sxs-lookup"><span data-stu-id="42908-165">AppCapture's [GetForCurrentView](https://docs.microsoft.com/uwp/api/windows.media.capture.appcapture.getforcurrentview) API can return null if mixed reality capture isn't available on the device.</span></span> <span data-ttu-id="42908-166">Также важно отменять регистрацию CapturingChanged событие при приостановке приложения, в противном случае MRC можно получить в блокированном состоянии.</span><span class="sxs-lookup"><span data-stu-id="42908-166">It's also important to de-register the CapturingChanged event when your app is suspended, otherwise MRC can get into a blocked state.</span></span>

### <a name="best-practices-hololens-specific"></a><span data-ttu-id="42908-167">Рекомендации (стандартом HoloLens)</span><span class="sxs-lookup"><span data-stu-id="42908-167">Best practices (HoloLens-specific)</span></span>

<span data-ttu-id="42908-168">MRC должен работать без дополнительных действий со стороны разработчиков, но есть несколько моментов, которые следует учитывать для предоставления интерфейса захвата лучше всего смешанной реальности вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="42908-168">MRC is expected to work without additional work from developers, but there are a few things to be aware of to provide the best mixed reality capture experience of your app.</span></span>

<span data-ttu-id="42908-169">**MRC использует голограмма альфа-канал для использования вместе со [камеры](locatable-camera.md) изображениях**</span><span class="sxs-lookup"><span data-stu-id="42908-169">**MRC uses the hologram’s alpha channel to blend with the [camera](locatable-camera.md) imagery**</span></span>

<span data-ttu-id="42908-170">Наиболее важным шагом является убедитесь, что приложение Очистка прозрачный черный цвет вместо Очистка непрозрачный черный цвет.</span><span class="sxs-lookup"><span data-stu-id="42908-170">The most important step is to make sure your app is clearing to transparent black instead of clearing to opaque black.</span></span> <span data-ttu-id="42908-171">В Unity это можно сделать, по умолчанию с MixedRealityToolkit, но если разработка ведется в среде не Unity, может потребоваться внести изменения одной строки.</span><span class="sxs-lookup"><span data-stu-id="42908-171">In Unity, this is done by default with the MixedRealityToolkit but if you are developing in non-Unity, you may need to make a one line change.</span></span>

<span data-ttu-id="42908-172">Ниже приведены некоторые артефакты, которые можно встретить в MRC, если приложения без очистки прозрачный черный цвет.</span><span class="sxs-lookup"><span data-stu-id="42908-172">Here are some of the artifacts you might see in MRC if your app is not clearing to transparent black:</span></span>

<span data-ttu-id="42908-173">**Пример ошибки**: Края черного вокруг содержимого (сбой снимите прозрачный черный цвет)</span><span class="sxs-lookup"><span data-stu-id="42908-173">**Example Failures**: Black edges around the content (failing to clear to transparent black)</span></span>

<table>
<tr>
<td>
<img src="images/chessboardblackedges-300px.jpg" alt="Failing to clear to transparent black: black edge artifacts around holograms"/>
</td>
<td>
<img src="images/fieldblackedges-300px.jpg" alt="Failing to clear to transparent black: black edge artifacts around holograms"/>
</td>
</tr>
</table>

<span data-ttu-id="42908-174">**Пример ошибки**: Вся область фона сцены из она будет черным.</span><span class="sxs-lookup"><span data-stu-id="42908-174">**Example Failures**: The entire background scene of the hologram appears black.</span></span> <span data-ttu-id="42908-175">При установке фоновой альфа-значения 1 результаты в черном фоне</span><span class="sxs-lookup"><span data-stu-id="42908-175">Setting a background alpha value of 1 results in a black background</span></span>

![При установке фоновой альфа-значения 1 результаты в черном фоне](images/clearopaqueblack-300px.png)

<span data-ttu-id="42908-177">**Ожидаемый результат**: Голограммы отображаются правильно переходом с реальной жизни (ожидаемый результат, если очистка прозрачный черный цвет)</span><span class="sxs-lookup"><span data-stu-id="42908-177">**Expected Result**: Holograms appear properly blended with the real-world (expected result if clearing to transparent black)</span></span>

![Ожидаемый результат, если очистка прозрачный черный цвет](images/cleartransparentblack-300px.png)

<span data-ttu-id="42908-179">**Решение**.</span><span class="sxs-lookup"><span data-stu-id="42908-179">**Solution**:</span></span>
* <span data-ttu-id="42908-180">Измените любое содержимое, которое отображается как непрозрачный черный иметь альфа-значение 0.</span><span class="sxs-lookup"><span data-stu-id="42908-180">Change any content that is showing up as opaque black to have an alpha value of 0.</span></span>
* <span data-ttu-id="42908-181">Убедитесь, что приложение Очистка прозрачный черный цвет.</span><span class="sxs-lookup"><span data-stu-id="42908-181">Ensure that the app is clearing to transparent black.</span></span>
* <span data-ttu-id="42908-182">Unity по умолчанию снимите флажок, чтобы автоматически очистить с MixedRealityToolkit, но если это приложение не Unity, следует изменить цвет, используемый с ID3D11DeiceContext::ClearRenderTargetView().</span><span class="sxs-lookup"><span data-stu-id="42908-182">Unity defaults to clear to clear automatically with the MixedRealityToolkit, but if it’s a non-Unity app you should modify the color used with ID3D11DeiceContext::ClearRenderTargetView().</span></span> <span data-ttu-id="42908-183">Вы хотите убедиться, что снимите прозрачный черный цвет (0,0,0,0) вместо непрозрачный черный (0,0,0,1).</span><span class="sxs-lookup"><span data-stu-id="42908-183">You want to ensure you clear to transparent black (0,0,0,0) instead of opaque black (0,0,0,1).</span></span>

<span data-ttu-id="42908-184">Теперь можно настроить альфа-значения ресурсов, если вы хотите, но обычно не требуется.</span><span class="sxs-lookup"><span data-stu-id="42908-184">You can now tune the alpha values of your assets if you’d like, but typically don’t need to.</span></span> <span data-ttu-id="42908-185">В большинстве случаев, MRCs хорошо выглядят без дополнительной настройки.</span><span class="sxs-lookup"><span data-stu-id="42908-185">Most of the time, MRCs will look good out of the box.</span></span> <span data-ttu-id="42908-186">MRC предполагается предумножение альфа-канала.</span><span class="sxs-lookup"><span data-stu-id="42908-186">MRC assumes pre-multiplied alpha.</span></span> <span data-ttu-id="42908-187">Альфа-значения будет отражаться только при записи MRC.</span><span class="sxs-lookup"><span data-stu-id="42908-187">The alpha values will only affect the MRC capture.</span></span>

### <a name="what-to-expect-when-mrc-is-enabled-on-hololens"></a><span data-ttu-id="42908-188">Что происходит при включении MRC для HoloLens</span><span class="sxs-lookup"><span data-stu-id="42908-188">What to expect when MRC is enabled on HoloLens</span></span>

<span data-ttu-id="42908-189">Ниже применяются для HoloLens (первого) и HoloLens 2, если не указано иное.</span><span class="sxs-lookup"><span data-stu-id="42908-189">The following apply to both HoloLens (first-generation) and HoloLens 2, unless otherwise noted:</span></span>

* <span data-ttu-id="42908-190">Система будет регулироваться приложением для подготовки к просмотру 30 Гц.</span><span class="sxs-lookup"><span data-stu-id="42908-190">The system will throttle the application to 30Hz rendering.</span></span> <span data-ttu-id="42908-191">Это создает некоторые запас для MRC для запуска, поэтому приложение не нужно сохранять резерв константы бюджета, а также соответствует видеозапись MRC частотой кадров 30 кадров/с</span><span class="sxs-lookup"><span data-stu-id="42908-191">This creates some headroom for MRC to run so the app doesn’t need to keep a constant budget reserve and also matches the MRC video record framerate of 30fps</span></span>
* <span data-ttu-id="42908-192">Голограмма содержимое в глаза справа устройства может не отображаться «sparkle» при записи или потоковой передачи MRC: текст, могут стать более трудным для чтения и краями голограмма может отображаться более jaggy (желанию в 3-й камеры визуализации на **HoloLens 2** позволяет избежать Этот компромисс)</span><span class="sxs-lookup"><span data-stu-id="42908-192">Hologram content in the right eye of the device may appear to “sparkle” when recording/streaming MRC: text may become more difficult to read and hologram edges may appear more jaggy (opting-in to 3rd camera render on **HoloLens 2** avoids this compromise)</span></span>
* <span data-ttu-id="42908-193">MRC фотографии и видео, которые будут использовать приложения [сосредоточиться точки](focus-point-in-unity.md) Если это разрешено приложения, который поможет обеспечить голограммы располагаются точно.</span><span class="sxs-lookup"><span data-stu-id="42908-193">MRC photos and videos will respect the application’s [focus point](focus-point-in-unity.md) if the application has enabled it, which will help ensure holograms are accurately positioned.</span></span> <span data-ttu-id="42908-194">Для видео поэтому может показаться голограммы медленно переместятся в месте, если глубина точку фокуса значительного изменения сглажен точку фокуса.</span><span class="sxs-lookup"><span data-stu-id="42908-194">For videos, the Focus Point is smoothed so holograms may appear to slowly drift into place if the Focus Point depth changes significantly.</span></span> <span data-ttu-id="42908-195">Голограммы, находящиеся на различные глубины из точку фокуса может появиться смещения из реального мира (см. пример ниже где точку фокуса составляет 2 метров, но голограмма находится на 1 метра).</span><span class="sxs-lookup"><span data-stu-id="42908-195">Holograms that are at different depths from the focus point may appear offset from the real world (see example below where Focus Point is set at 2 meters but hologram is positioned at 1 meter).</span></span>

![Голограммы на 2 метров появится вполне зарегистрированных во всем мире.](images/hologramaccuracydistancemrc-1000px.png)

## <a name="integrating-mrc-functionality-from-within-your-app"></a><span data-ttu-id="42908-198">Интеграция MRC печать из приложения</span><span class="sxs-lookup"><span data-stu-id="42908-198">Integrating MRC functionality from within your app</span></span>

<span data-ttu-id="42908-199">Приложение смешанной реальности можно инициировать MRC фото или видео сбора данных в приложении, и записанные содержимое становится доступным в приложение без помещения для устройства «камеры.»</span><span class="sxs-lookup"><span data-stu-id="42908-199">Your mixed reality app can initiate MRC photo or video capture from within the app, and the content captured is made available to your app without being stored to the device's "Camera roll."</span></span> <span data-ttu-id="42908-200">Можно создать пользовательский MRC или воспользоваться преимуществами встроенных пользовательский Интерфейс камеры.</span><span class="sxs-lookup"><span data-stu-id="42908-200">You can create a custom MRC recorder or take advantage of built-in camera capture UI.</span></span> 

### <a name="mrc-with-built-in-camera-ui"></a><span data-ttu-id="42908-201">MRC со встроенной камерой пользовательского интерфейса</span><span class="sxs-lookup"><span data-stu-id="42908-201">MRC with built-in camera UI</span></span>

<span data-ttu-id="42908-202">Разработчики могут использовать *[API пользовательского интерфейса захвата камеры](https://docs.microsoft.com/windows/uwp/audio-video-camera/capture-photos-and-video-with-cameracaptureui)* для получения захваченных пользователя смешанной реальности фото или видео с помощью всего нескольких строк кода.</span><span class="sxs-lookup"><span data-stu-id="42908-202">Developers can use the *[Camera Capture UI API](https://docs.microsoft.com/windows/uwp/audio-video-camera/capture-photos-and-video-with-cameracaptureui)* to get a user-captured mixed reality photo or video with just a few lines of code.</span></span>

<span data-ttu-id="42908-203">Этот API запускает встроенной камеры MRC пользовательского интерфейса, из которого пользователь может снять фото или видео и возвращает полученный записи в приложение.</span><span class="sxs-lookup"><span data-stu-id="42908-203">This API launches the built-in MRC camera UI, from which the user can take a photo or video, and returns the resulting capture to your app.</span></span>  <span data-ttu-id="42908-204">Если вы хотите создать собственный пользовательский Интерфейс камеры, или требуется более низкого уровня доступа к потоку отслеживания, можно создать пользовательские записи захвата смешанной реальности.</span><span class="sxs-lookup"><span data-stu-id="42908-204">If you want to create your own camera UI, or need lower-level access to the capture stream, you can create a custom Mixed Reality Capture recorder.</span></span>

### <a name="creating-a-custom-mrc-recorder"></a><span data-ttu-id="42908-205">Создание пользовательского средства записи MRC</span><span class="sxs-lookup"><span data-stu-id="42908-205">Creating a custom MRC recorder</span></span>

<span data-ttu-id="42908-206">Хотя пользователь всегда может активировать фото или видео, в системе MRC служба системы отслеживания измененных, приложение может потребоваться создание камеры пользовательские приложения, но включает голограммы в потоке камеры так же, как MRC.</span><span class="sxs-lookup"><span data-stu-id="42908-206">While the user can always trigger a photo or video using the system MRC capture service, an application may want to build a custom camera app but include holograms in the camera stream just like MRC.</span></span> <span data-ttu-id="42908-207">Это позволяет приложению начать захват от имени пользователя, создавать настраиваемые записи пользовательского интерфейса или настроить параметры MRC для именования несколько примеров.</span><span class="sxs-lookup"><span data-stu-id="42908-207">This allows the application to kick off captures on behalf of the user, build custom recording UI, or customize MRC settings to name a few examples.</span></span>

<span data-ttu-id="42908-208">**HoloStudio добавляет пользовательский MRC камеры с помощью эффектов MRC**</span><span class="sxs-lookup"><span data-stu-id="42908-208">**HoloStudio adds a custom MRC camera using MRC effects**</span></span>

![HoloStudio добавляет пользовательский MRC камеры с помощью эффектов MRC](images/cameraiconholostudio-300px.jpg)

<span data-ttu-id="42908-210">Увидите приложений Unity [Locatable_camera_in_Unity](locatable-camera-in-unity.md) для этого свойства разрешает голограммы.</span><span class="sxs-lookup"><span data-stu-id="42908-210">Unity Applications should see [Locatable_camera_in_Unity](locatable-camera-in-unity.md) for the property to enable holograms.</span></span>

<span data-ttu-id="42908-211">Другие приложения это можно сделать с помощью [API-интерфейсы Windows Media захвата](https://docs.microsoft.com/uwp/api/Windows.Media.Capture.MediaCapture) для управления камеры и добавления эффекта MRC видео и аудио для включения виртуальной голограммы и звуком в приложения в голосов и видео.</span><span class="sxs-lookup"><span data-stu-id="42908-211">Other applications can do this by using the [Windows Media Capture APIs](https://docs.microsoft.com/uwp/api/Windows.Media.Capture.MediaCapture) to control the Camera and add an MRC Video and Audio effect to include virtual holograms and application audio in stills and videos.</span></span>

<span data-ttu-id="42908-212">Приложения имеют два варианта, чтобы добавить эффект:</span><span class="sxs-lookup"><span data-stu-id="42908-212">Applications have two options to add the effect:</span></span>
* <span data-ttu-id="42908-213">Старый API: [Windows.Media.Capture.MediaCapture.AddEffectAsync()](https://docs.microsoft.com/uwp/api/windows.media.capture.mediacapture.addeffectasync)</span><span class="sxs-lookup"><span data-stu-id="42908-213">The older API: [Windows.Media.Capture.MediaCapture.AddEffectAsync()](https://docs.microsoft.com/uwp/api/windows.media.capture.mediacapture.addeffectasync)</span></span>
* <span data-ttu-id="42908-214">Новые возможности Майкрософт рекомендуется использовать API (Возвращает объект, что позволяет управлять динамические свойства): [Windows.Media.Capture.MediaCapture.AddVideoEffectAsync()](https://docs.microsoft.com/uwp/api/windows.media.capture.mediacapture.addvideoeffectasync) / [Windows.Media.Capture.MediaCapture.AddAudioEffectAsync()](https://docs.microsoft.com/uwp/api/windows.media.capture.mediacapture.addaudioeffectasync) , требующую приложению создавать собственную реализацию [IVideoEffectDefinition](https://docs.microsoft.com/uwp/api/Windows.Media.Effects.IVideoEffectDefinition) и [IAudioEffectDefinition](https://docs.microsoft.com/uwp/api/windows.media.effects.iaudioeffectdefinition).</span><span class="sxs-lookup"><span data-stu-id="42908-214">The new Microsoft recommended API (returns an object, making it possible to manipulate dynamic properties): [Windows.Media.Capture.MediaCapture.AddVideoEffectAsync()](https://docs.microsoft.com/uwp/api/windows.media.capture.mediacapture.addvideoeffectasync) / [Windows.Media.Capture.MediaCapture.AddAudioEffectAsync()](https://docs.microsoft.com/uwp/api/windows.media.capture.mediacapture.addaudioeffectasync) which require the app create its own implementation of [IVideoEffectDefinition](https://docs.microsoft.com/uwp/api/Windows.Media.Effects.IVideoEffectDefinition) and [IAudioEffectDefinition](https://docs.microsoft.com/uwp/api/windows.media.effects.iaudioeffectdefinition).</span></span> <span data-ttu-id="42908-215">См. в образце эффект MRC для пример использования.</span><span class="sxs-lookup"><span data-stu-id="42908-215">Please see the MRC effect sample for sample usage.</span></span>

>[!NOTE]
> <span data-ttu-id="42908-216">Пространство имен Windows.Media.MixedRealityCapture не распознается Visual Studio, но по-прежнему допустимы строки.</span><span class="sxs-lookup"><span data-stu-id="42908-216">The Windows.Media.MixedRealityCapture namespace will not be recognized by Visual Studio, but the strings are still valid.</span></span>

<span data-ttu-id="42908-217">Эффект видео MRC (**Windows.Media.MixedRealityCapture.MixedRealityCaptureVideoEffect**)</span><span class="sxs-lookup"><span data-stu-id="42908-217">MRC Video Effect (**Windows.Media.MixedRealityCapture.MixedRealityCaptureVideoEffect**)</span></span>

|  <span data-ttu-id="42908-218">Имя свойства</span><span class="sxs-lookup"><span data-stu-id="42908-218">Property Name</span></span>  |  <span data-ttu-id="42908-219">Type</span><span class="sxs-lookup"><span data-stu-id="42908-219">Type</span></span>  |  <span data-ttu-id="42908-220">Default Value</span><span class="sxs-lookup"><span data-stu-id="42908-220">Default Value</span></span>  |  <span data-ttu-id="42908-221">Описание</span><span class="sxs-lookup"><span data-stu-id="42908-221">Description</span></span> | 
|----------|----------|----------|----------|
|  <span data-ttu-id="42908-222">StreamType</span><span class="sxs-lookup"><span data-stu-id="42908-222">StreamType</span></span>  |  <span data-ttu-id="42908-223">UINT32 ([MediaStreamType](https://docs.microsoft.com/uwp/api/Windows.Media.Capture.MediaStreamType))</span><span class="sxs-lookup"><span data-stu-id="42908-223">UINT32 ([MediaStreamType](https://docs.microsoft.com/uwp/api/Windows.Media.Capture.MediaStreamType))</span></span>  |  <span data-ttu-id="42908-224">1 (VideoRecord)</span><span class="sxs-lookup"><span data-stu-id="42908-224">1 (VideoRecord)</span></span>  |  <span data-ttu-id="42908-225">Описания какой поток записи, этот эффект применяется для.</span><span class="sxs-lookup"><span data-stu-id="42908-225">Describe which capture stream this effect is used for.</span></span> <span data-ttu-id="42908-226">Звук не доступен.</span><span class="sxs-lookup"><span data-stu-id="42908-226">Audio is not available.</span></span> | 
|  <span data-ttu-id="42908-227">HologramCompositionEnabled</span><span class="sxs-lookup"><span data-stu-id="42908-227">HologramCompositionEnabled</span></span>  |  <span data-ttu-id="42908-228">Логический</span><span class="sxs-lookup"><span data-stu-id="42908-228">boolean</span></span>  |  <span data-ttu-id="42908-229">TRUE</span><span class="sxs-lookup"><span data-stu-id="42908-229">TRUE</span></span>  |  <span data-ttu-id="42908-230">Флаг, чтобы включить или отключить голограммы в видеозаписи.</span><span class="sxs-lookup"><span data-stu-id="42908-230">Flag to enable or disable holograms in video capture.</span></span> | 
|  <span data-ttu-id="42908-231">RecordingIndicatorEnabled</span><span class="sxs-lookup"><span data-stu-id="42908-231">RecordingIndicatorEnabled</span></span>  |  <span data-ttu-id="42908-232">Логический</span><span class="sxs-lookup"><span data-stu-id="42908-232">boolean</span></span>  |  <span data-ttu-id="42908-233">TRUE</span><span class="sxs-lookup"><span data-stu-id="42908-233">TRUE</span></span>  |  <span data-ttu-id="42908-234">Флаг, чтобы включить или отключить индикатор записи на экране во время записи голограмма.</span><span class="sxs-lookup"><span data-stu-id="42908-234">Flag to enable or disable recording indicator on screen during hologram capturing.</span></span> | 
|  <span data-ttu-id="42908-235">VideoStabilizationEnabled</span><span class="sxs-lookup"><span data-stu-id="42908-235">VideoStabilizationEnabled</span></span>  |  <span data-ttu-id="42908-236">Логический</span><span class="sxs-lookup"><span data-stu-id="42908-236">boolean</span></span>  |  <span data-ttu-id="42908-237">FALSE</span><span class="sxs-lookup"><span data-stu-id="42908-237">FALSE</span></span>  |  <span data-ttu-id="42908-238">Флаг, чтобы включить или отключить на платформе инспектор HoloLens стабилизации видео.</span><span class="sxs-lookup"><span data-stu-id="42908-238">Flag to enable or disable video stabilization powered by the HoloLens tracker.</span></span> | 
|  <span data-ttu-id="42908-239">VideoStabilizationBufferLength</span><span class="sxs-lookup"><span data-stu-id="42908-239">VideoStabilizationBufferLength</span></span>  |  <span data-ttu-id="42908-240">UINT32</span><span class="sxs-lookup"><span data-stu-id="42908-240">UINT32</span></span>  |  <span data-ttu-id="42908-241">0</span><span class="sxs-lookup"><span data-stu-id="42908-241">0</span></span>  |  <span data-ttu-id="42908-242">Задайте, сколько исторических рамки используются для стабилизации видео.</span><span class="sxs-lookup"><span data-stu-id="42908-242">Set how many historical frames are used for video stabilization.</span></span> <span data-ttu-id="42908-243">0 — задержка 0 и почти «бесплатный» с точки зрения мощности и производительности.</span><span class="sxs-lookup"><span data-stu-id="42908-243">0 is 0-latency and nearly "free" from a power and performance perspective.</span></span> <span data-ttu-id="42908-244">15 рекомендуется высочайшего качества (за счет 15 кадров задержки и памяти).</span><span class="sxs-lookup"><span data-stu-id="42908-244">15 is recommended for highest quality (at the cost of 15 frames of latency and memory).</span></span> | 
|  <span data-ttu-id="42908-245">GlobalOpacityCoefficient</span><span class="sxs-lookup"><span data-stu-id="42908-245">GlobalOpacityCoefficient</span></span>  |  <span data-ttu-id="42908-246">float</span><span class="sxs-lookup"><span data-stu-id="42908-246">float</span></span>  |  <span data-ttu-id="42908-247">0.9 (HoloLens) 1.0 (Иммерсивных гарнитуры)</span><span class="sxs-lookup"><span data-stu-id="42908-247">0.9 (HoloLens) 1.0 (Immersive headset)</span></span>  |  <span data-ttu-id="42908-248">Задать коэффициент непрозрачности глобального голограмма в диапазоне от 0.0 (полностью прозрачный) до 1.0 (полностью непрозрачный).</span><span class="sxs-lookup"><span data-stu-id="42908-248">Set global opacity coefficient of hologram in range from 0.0 (fully transparent) to 1.0 (fully opaque).</span></span> | 
|  <span data-ttu-id="42908-249">BlankOnProtectedContent</span><span class="sxs-lookup"><span data-stu-id="42908-249">BlankOnProtectedContent</span></span>  |  <span data-ttu-id="42908-250">Логический</span><span class="sxs-lookup"><span data-stu-id="42908-250">boolean</span></span>  |  <span data-ttu-id="42908-251">FALSE</span><span class="sxs-lookup"><span data-stu-id="42908-251">FALSE</span></span>  |  <span data-ttu-id="42908-252">Флаг, чтобы включить или отключить, возвращая пустая рамка, если 2d содержимое защищенных отображение приложения универсальной платформы Windows.</span><span class="sxs-lookup"><span data-stu-id="42908-252">Flag to enable or disable returning an empty frame if there is a 2d UWP app showing protected content.</span></span> <span data-ttu-id="42908-253">Если этот флаг имеет значение false, а также двухмерных приложения универсальной платформы Windows — это отображение защищенные материалы, 2d приложения универсальной платформы Windows будет заменен защищенного содержимого текстуры в обоих гарнитуры и в записи, смешанной реальности.</span><span class="sxs-lookup"><span data-stu-id="42908-253">If this flag is false and a 2d UWP app is showing protected content, the 2d UWP app will be replaced by a protected content texture in both the headset and in the mixed reality capture.</span></span> |
|  <span data-ttu-id="42908-254">ShowHiddenMesh</span><span class="sxs-lookup"><span data-stu-id="42908-254">ShowHiddenMesh</span></span>  |  <span data-ttu-id="42908-255">Логический</span><span class="sxs-lookup"><span data-stu-id="42908-255">boolean</span></span>  |  <span data-ttu-id="42908-256">FALSE</span><span class="sxs-lookup"><span data-stu-id="42908-256">FALSE</span></span>  |  <span data-ttu-id="42908-257">Флаг, чтобы включить или отключить отображение сетки скрытую область holographic камеры и соседних содержимого.</span><span class="sxs-lookup"><span data-stu-id="42908-257">Flag to enable or disable showing the holographic camera's hidden area mesh and neighboring content.</span></span> |
| <span data-ttu-id="42908-258">OutputSize</span><span class="sxs-lookup"><span data-stu-id="42908-258">OutputSize</span></span> | <span data-ttu-id="42908-259">Size</span><span class="sxs-lookup"><span data-stu-id="42908-259">Size</span></span> | <span data-ttu-id="42908-260">0, 0</span><span class="sxs-lookup"><span data-stu-id="42908-260">0, 0</span></span> | <span data-ttu-id="42908-261">Задайте размер требуемых выходных данных после обрезки для стабилизации видео.</span><span class="sxs-lookup"><span data-stu-id="42908-261">Set the desired output size after cropping for video stabilization.</span></span> <span data-ttu-id="42908-262">Размер по умолчанию — Обрезка выбирается в том случае, если указан 0 или размер недопустимые выходные данные.</span><span class="sxs-lookup"><span data-stu-id="42908-262">A default crop size is chosen if 0 or an invalid output size is specified.</span></span> |
| <span data-ttu-id="42908-263">PreferredHologramPerspective</span><span class="sxs-lookup"><span data-stu-id="42908-263">PreferredHologramPerspective</span></span> | <span data-ttu-id="42908-264">UINT32</span><span class="sxs-lookup"><span data-stu-id="42908-264">UINT32</span></span> | <span data-ttu-id="42908-265">1 (PhotoVideoCamera)</span><span class="sxs-lookup"><span data-stu-id="42908-265">1 (PhotoVideoCamera)</span></span> | <span data-ttu-id="42908-266">Перечисление используется для указания, какие holographic камеры Просмотр конфигурации должны быть зафиксированы.</span><span class="sxs-lookup"><span data-stu-id="42908-266">Enum used to indicate which holographic camera view configuration should be captured.</span></span> <span data-ttu-id="42908-267">Параметр 0 (дисплей) означает, что приложение не будет запросить об исполнении от камеры, фото и видео</span><span class="sxs-lookup"><span data-stu-id="42908-267">Setting 0 (Display) means that the app won't be asked to render from the photo/video camera</span></span> |

<span data-ttu-id="42908-268">Эффект аудио MRC (**Windows.Media.MixedRealityCapture.MixedRealityCaptureAudioEffect**)</span><span class="sxs-lookup"><span data-stu-id="42908-268">MRC Audio Effect (**Windows.Media.MixedRealityCapture.MixedRealityCaptureAudioEffect**)</span></span>

<table>
<tr>
<th><span data-ttu-id="42908-269">Имя свойства</span><span class="sxs-lookup"><span data-stu-id="42908-269">Property Name</span></span></th>
<th><span data-ttu-id="42908-270">Type</span><span class="sxs-lookup"><span data-stu-id="42908-270">Type</span></span></th>
<th><span data-ttu-id="42908-271">Default Value</span><span class="sxs-lookup"><span data-stu-id="42908-271">Default Value</span></span></th>
<th><span data-ttu-id="42908-272">Описание</span><span class="sxs-lookup"><span data-stu-id="42908-272">Description</span></span></th>
</tr>
<tr>
<td><span data-ttu-id="42908-273">MixerMode</span><span class="sxs-lookup"><span data-stu-id="42908-273">MixerMode</span></span></td>
<td><span data-ttu-id="42908-274">UINT32</span><span class="sxs-lookup"><span data-stu-id="42908-274">UINT32</span></span></td>
<td><span data-ttu-id="42908-275">2</span><span class="sxs-lookup"><span data-stu-id="42908-275">2</span></span></td>
<td>
<ul>
<li><span data-ttu-id="42908-276">0 : Только звук MIC</span><span class="sxs-lookup"><span data-stu-id="42908-276">0 : Mic audio only</span></span></li>
<li><span data-ttu-id="42908-277">1 : Только системные звуки</span><span class="sxs-lookup"><span data-stu-id="42908-277">1 : System audio only</span></span></li>
<li><span data-ttu-id="42908-278">2 : MIC и системных звуков</span><span class="sxs-lookup"><span data-stu-id="42908-278">2 : Mic and System audio</span></span></li>
</ul>
</td>
</tr>
</table>

### <a name="simultaneous-mrc-limitations"></a><span data-ttu-id="42908-279">Одновременные MRC ограничения</span><span class="sxs-lookup"><span data-stu-id="42908-279">Simultaneous MRC limitations</span></span>

<span data-ttu-id="42908-280">Существуют некоторые ограничения вокруг нескольких приложений, доступ к MRC в то же время.</span><span class="sxs-lookup"><span data-stu-id="42908-280">There are certain limitations around multiple apps accessing MRC at the same time.</span></span>

#### <a name="photovideo-camera-access"></a><span data-ttu-id="42908-281">Доступ к камере фото и видео</span><span class="sxs-lookup"><span data-stu-id="42908-281">Photo/video camera access</span></span>

<span data-ttu-id="42908-282">Число процессов, которые будут доступны в то же время ограничено камеры фото и видео.</span><span class="sxs-lookup"><span data-stu-id="42908-282">The photo/video camera is limited to the number of processes that can access it at the same time.</span></span> <span data-ttu-id="42908-283">Во время процесса записи видео или сделать снимок любого другого процесса смогут получить камеры фото и видео.</span><span class="sxs-lookup"><span data-stu-id="42908-283">While a process is recording video or taking a photo any other process will fail to acquire the photo/video camera.</span></span> <span data-ttu-id="42908-284">(это относится к смешанной реальности захвата и записи стандартных фотографий и видео)</span><span class="sxs-lookup"><span data-stu-id="42908-284">(this applies to both Mixed Reality Capture and standard photo/video capture)</span></span>

<span data-ttu-id="42908-285">С HoloLens 2, приложение может использовать его MediaCaptureInitializationSettings [SharingMode](https://docs.microsoft.com/uwp/api/windows.media.capture.mediacaptureinitializationsettings.sharingmode) свойство, указывающее, что возникает необходимость в выполнении SharedReadOnly, если они не требуется исключительный контроль над камеры фото и видео.</span><span class="sxs-lookup"><span data-stu-id="42908-285">With HoloLens 2, an app can use MediaCaptureInitializationSettings's [SharingMode](https://docs.microsoft.com/uwp/api/windows.media.capture.mediacaptureinitializationsettings.sharingmode) property to indicate that they want to run SharedReadOnly if they don't need exclusive control over the photo/video camera.</span></span> <span data-ttu-id="42908-286">Результате разрешения и частоты кадров записи будет ограничен тем, что другие приложения настроено камеры для предоставления.</span><span class="sxs-lookup"><span data-stu-id="42908-286">Doing so means the resolution and framerate of the capture will be limited to what other apps have configured the camera to provide.</span></span>

##### <a name="built-in-mrc-photovideo-camera-access"></a><span data-ttu-id="42908-287">Доступ к камере встроенные MRC фото и видео</span><span class="sxs-lookup"><span data-stu-id="42908-287">Built-in MRC photo/video camera access</span></span>

<span data-ttu-id="42908-288">MRC функций, встроенных в Windows 10 (с помощью Cortana, меню "Пуск", сочетания клавиш для оборудования, Miracast, Windows Device Portal):</span><span class="sxs-lookup"><span data-stu-id="42908-288">MRC functionality built into Windows 10 (via Cortana, Start Menu, hardware shortcuts, Miracast, Windows Device Portal):</span></span>
* <span data-ttu-id="42908-289">По умолчанию будет выполняться с ExclusiveControl</span><span class="sxs-lookup"><span data-stu-id="42908-289">Will run with ExclusiveControl by default</span></span>

<span data-ttu-id="42908-290">Тем не менее добавлена поддержка для каждой подсистемы, для работы в режиме общего доступа:</span><span class="sxs-lookup"><span data-stu-id="42908-290">However, support has been added to each subsystem to operate in a shared mode:</span></span>
* <span data-ttu-id="42908-291">Если приложение запрашивает ExclusiveControl доступ к камере фото и видео, встроенные MRC будет автоматически остановлена с помощью камеры фото и видео, поэтому запрос приложения будет выполнен успешно</span><span class="sxs-lookup"><span data-stu-id="42908-291">If an app requests ExclusiveControl access to the photo/video camera, built-in MRC will automatically stop using the photo/video camera so the app's request will succeed</span></span>
* <span data-ttu-id="42908-292">Если встроенные MRC запускается, пока приложение имеет ExclusiveControl, встроенные MRC будет работать в режиме SharedReadOnly</span><span class="sxs-lookup"><span data-stu-id="42908-292">If built-in MRC is started while an app has ExclusiveControl, built-in MRC will run in SharedReadOnly mode</span></span>

<span data-ttu-id="42908-293">Эта функция в режиме общего доступа имеет некоторые ограничения:</span><span class="sxs-lookup"><span data-stu-id="42908-293">This shared mode functionality has certain restrictions:</span></span>
* <span data-ttu-id="42908-294">Фотографии с помощью Кортаны, аппаратных клавиш или меню "Пуск": Требуется Windows 10 апреля 2018 г. обновление (или более поздней версии)</span><span class="sxs-lookup"><span data-stu-id="42908-294">Photo via Cortana, hardware shortcuts, or Start Menu: Requires the Windows 10 April 2018 Update (or later)</span></span>
* <span data-ttu-id="42908-295">Видео с помощью Кортаны, аппаратных клавиш или меню "Пуск". Требуется Windows 10 апреля 2018 г. обновление (или более поздней версии)</span><span class="sxs-lookup"><span data-stu-id="42908-295">Video via Cortana, hardware shortcuts, or Start Menu: Requires the Windows 10 April 2018 Update (or later)</span></span>
* <span data-ttu-id="42908-296">Потоковой передачи MRC через Miracast: Требуется Windows 10 октября 2018 обновление (или более поздней версии)</span><span class="sxs-lookup"><span data-stu-id="42908-296">Streaming MRC over Miracast: Requires the Windows 10 October 2018 Update (or later)</span></span>
* <span data-ttu-id="42908-297">Потоковая передача MRC через Windows Device Portal или через сопутствующее приложение HoloLens: Требуется HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="42908-297">Streaming MRC over Windows Device Portal or via the HoloLens companion app: Requires HoloLens 2</span></span>

>[!NOTE]
> <span data-ttu-id="42908-298">Разрешение и частоте кадров встроенной камеры MRC пользовательского интерфейса может быть снижена из его нормальных значений, когда другое приложение использует камеры фото и видео.</span><span class="sxs-lookup"><span data-stu-id="42908-298">The resolution and framerate of the built-in MRC camera UI might be reduced from its normal values when another app is using the photo/video camera.</span></span>

#### <a name="mrc-access"></a><span data-ttu-id="42908-299">MRC доступа</span><span class="sxs-lookup"><span data-stu-id="42908-299">MRC access</span></span>

<span data-ttu-id="42908-300">В Windows 10 апреля 2018 г. обновление, больше не существует ограничение вокруг нескольких приложений, доступ к потоку MRC (тем не менее, доступ к камере фото и видео по-прежнему имеет ограничения).</span><span class="sxs-lookup"><span data-stu-id="42908-300">With the Windows 10 April 2018 Update, there is no longer a limitation around multiple apps accessing the MRC stream (however, the access to the photo/video camera still has limitations).</span></span>

<span data-ttu-id="42908-301">Предыдущие для Windows 10 апреля 2018 г. обновления, пользовательские MRC записи приложения был взаимно исключают друг друга с системой MRC (захват фото, записывает видео или потоковая передача из Windows Device Portal).</span><span class="sxs-lookup"><span data-stu-id="42908-301">Previous to the Windows 10 April 2018 Update, an app's custom MRC recorder was mutually exclusive with system MRC (capturing photos, capturing videos, or streaming from the Windows Device Portal).</span></span>

## <a name="see-also"></a><span data-ttu-id="42908-302">См. также</span><span class="sxs-lookup"><span data-stu-id="42908-302">See also</span></span>
* [<span data-ttu-id="42908-303">Съемка смешанной реальности</span><span class="sxs-lookup"><span data-stu-id="42908-303">Mixed reality capture</span></span>](mixed-reality-capture.md)
* [<span data-ttu-id="42908-304">Зрительское представление</span><span class="sxs-lookup"><span data-stu-id="42908-304">Spectator view</span></span>](spectator-view.md)
