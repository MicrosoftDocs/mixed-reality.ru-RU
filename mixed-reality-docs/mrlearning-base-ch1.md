---
title: Основной модуль обучения работе со смешанной реальностью. Инициализация проекта и первое применение
description: В рамках этого курса вы узнаете, как реализовать функцию распознавания лиц Azure в приложении смешанной реальности.
author: jessemcculloch
ms.author: jemccull
ms.date: 02/26/2019
ms.topic: article
ms.localizationpriority: high
keywords: mixed reality, unity, tutorial, hololens
ms.openlocfilehash: c5490e6a3b542a5ca677b309e5ed1171f8666fe7
ms.sourcegitcommit: f20beea6a539d04e1d1fc98116f7601137eebebe
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/05/2019
ms.locfileid: "65814013"
---
# <a name="mr-learning-base-module---project-initialization-and-first-application"></a>Основной модуль обучения работе со смешанной реальностью. Инициализация проекта и первое применение

В рамках этого первого урока вы узнаете о некоторых возможностях набора средств для смешанной реальности, запустите свое первое приложение для HoloLens 2 и развернете его на устройстве.

## <a name="objectives"></a>Задачи

* Оптимизация Unity для разработки решений для HoloLens.
* Импорт ресурсов и настройка сцены.
* Визуализация пространственной сетки, сеток рук и счетчика частоты кадров.

## <a name="instructions"></a>Инструкция

### <a name="create-new-unity-project"></a>Создание проекта Unity

1. Запустите Unity.
2. Выберите **New** (Создать).
![Урок 1, раздел 1, шаг 2](images/Lesson1Chapter1Step2.JPG)
3. Введите название проекта (например, MixedRealityBase).
![Урок 1, раздел 1, шаг 3](images/Lesson1Chapter1Step3.JPG)
4. Укажите расположение, где будет сохранен проект.
![Урок 1, раздел 1, шаг 4](images/Lesson1Chapter1Step4.JPG)
5. Задайте для проекта значение **3D**.
![Урок 1, раздел 1, шаг 5](images/Lesson1Chapter1Step5.JPG)
6. Щелкните **Create Project** (Создать проект).
![Урок 1, раздел 1, шаг 6](images/Lesson1Chapter1Step6.JPG)

### <a name="configure-the-unity-project-for-windows-mixed-reality"></a>Настройка проекта Unity для Windows Mixed Reality

1. Откройте окно параметров сборки, выбрав File (Файл) > Build Settings (Параметры сборки).
![Урок 1, раздел 4, шаг 1](images/Lesson1Chapter4Step1.JPG)
2. Выберите Universal Windows Platform (Универсальная платформа Windows), а затем нажмите кнопку Switch Platform (Переключить платформу), чтобы переключиться на использование этой платформы. С HoloLens 2 должны использоваться приложения универсальной платформы Windows (UWP).
![Урок 1, раздел 4, шаг 2](images/Lesson1Chapter4Step2.JPG)
3. Включите виртуальную реальность, щелкнув Player Settings (Параметры проигрывателя) в окне сборки, а затем на панели инспектора установите флажок Virtual Reality Supported (Поддержка виртуальной реальности) в разделе XR Settings (Параметры XR), как показано на приведенном ниже рисунке. Обратите внимание, что может потребоваться перетащить окно Build Settings (Параметры сборки) в сторону, чтобы увидеть панель инспектора. Флажок Virtual Reality Supported (Поддержка виртуальной реальности) также применяется к гарнитурам дополненной и смешанной реальности, так как он включает стереоскопическое изображение (отрисовка разных изображений для каждого глаза). ![Урок 1, раздел 4, шаг 3](images/Lesson1Chapter4Step3.JPG)
4. На той же панели инспектора в области возможностей раздела Publishing Settings (Параметры публикации) установите флажок Spatial Perception (Пространственное восприятие). Пространственное восприятие позволит визуализировать сетку пространственного сопоставления на устройстве смешанной реальности, таком как HoloLens 2. Раздел параметров публикации находится на панели Inspector (Инспектор) над областью XR Settings (Параметры XR) в разделе Other Settings (Другие параметры).
![Урок 1, раздел 4, шаг 4](images/Lesson1Chapter4Step4.JPG)

> ПРИМЕЧАНИЕ. Вы можете включить и другие распространенные функции (хотя в этом разделе они не используются), например Microphone (для голосовых команд) и InternetClient (для подключения к службам, для которых требуется сетевое подключение).

### <a name="import-the-mixed-reality-toolkit"></a>Импорт набора средств для смешанной реальности

1. Скачайте пакет Unity [Набор средств для смешанной реальности](https://github.com/Microsoft/MixedRealityToolkit-Unity/releases/download/v2.0.0-RC1/Microsoft.MixedReality.Toolkit.Unity.Foundation-v2.0.0-RC1.unitypackage) (Mixed Reality Toolkit) и сохраните его в папке на своем компьютере.

2. Импортируйте пакет набора средств для смешанной реальности, выбрав Assets (Ресурсы) > Import (Импорт) > Custom Package (Пользовательский пакет). Найдите загруженный на шаге 1 пакет набора средств для смешанной реальности и откройте его, чтобы начать импорт. Процесс импорта может занять несколько минут.
    ![Урок 1, раздел 2, шаг 2a](images/Lesson1Chapter2Step2a.JPG) ![Урок 1, раздел 2, шаг 2б](images/Lesson1Chapter2Step2b.JPG)

3. В следующем всплывающем окне щелкните Import (Импорт), чтобы начать импорт набора средств для смешанной реальности. Убедитесь, что все элементы отмечены, как показано на приведенном ниже рисунке. Если появится всплывающее диалоговое окно с запросом на применение параметров по умолчанию для набора средств для смешанной реальности, щелкните Apply (Применить).
    ![Урок 1, раздел 2, шаг 3](images/Lesson1Chapter2Step3.JPG) ![Урок 1, раздел 2, шаг 3](images/Lesson1Chapter2Step3b.JPG)

### <a name="configure-the-mixed-reality-toolkit"></a>Настройка набора средств для смешанной реальности

1. Настройте набор средств для смешанной реальности, выбрав в строке меню Mixed Reality Toolkit (Набор средств для смешанной реальности) > Configure (Настроить). Если после импорта набора средств для смешанной реальности этот пункт меню не отображается, перезапустите Unity.
![Урок 1, раздел 3, шаг 1](images/Lesson1Chapter3Step1.JPG)
2. Теперь ваша сцена будет содержать несколько новых элементов и модификаций из набора средств для смешанной реальности. Сохраните сцену под другим именем, щелкнув File (Файл) > Save As (Сохранить как) и укажите имя для сцены, например BaseScene. Сохраните сцену в папке Scenes (Сцены) в папке Assets (Ресурсы) вашего проекта, чтобы все сцены хранились в одном месте.
![Урок 1, раздел 3, шаг 2a](images/Lesson1Chapter3Step2a.JPG)
![Урок 1, раздел 3, шаг 2б](images/Lesson1Chapter3Step2b.JPG)

### <a name="build-your-application-to-your-device"></a>Разработка приложения для устройства

1. Если вы закрыли окно Build Settings (Параметры сборки), открытое в предыдущих разделах, снова откройте его, выбрав File (Файл) > Build Settings (Параметры сборки).
    ![Урок 1, раздел 5, шаг 1](images/Lesson1Chapter5Step1.JPG)

2. Убедитесь, что необходимая сцена находится в списке Scenes in Build (Сцены в сборке), нажав кнопку Add Open Scenes (Добавить открытые сцены).

3. Нажмите кнопку Build (Сборка), чтобы начать процесс сборки.
    ![Урок 1, раздел 5, шаг 3](images/Lesson1Chapter5Step3.JPG)

4. Создайте папку для приложения и укажите для нее название. На приведенном ниже изображении для хранения приложения была создана папка с именем App. Щелкните Select Folder (Выбор папки), чтобы начать создание приложения в новой папке. После завершения создания вы можете закрыть окно Build Settings (Параметры сборки) в Unity. 
    ![Урок 1, раздел 5, шаг 4](images/Lesson1Chapter5Step4.JPG)

  > ПРИМЕЧАНИЕ. Если сборка завершилась сбоем, попробуйте выполнить ее заново или перезапустите Unity и повторите попытку. Если отображается ошибка типа Error: CS0246 = The type or namespace name “XX” could not be found (are you missing a using directive or an assembly reference?) (Ошибка: CS0246 = не удалось найти тип или имя пространства имен XX (возможно, отсутствует директива using или ссылка на сборку)), установите [пакет SDK для Windows 10 (10.0.18362.0)](<https://developer.microsoft.com/en-us/windows/downloads/windows-10-sdk>).
  >

5. После завершения сборки откройте созданную папку, содержащую файлы только что созданного приложения. Дважды щелкните решение MixedRealityBase.sln (или соответствующее имя, если вы использовали альтернативное имя для своего проекта), чтобы открыть файл решения в Visual Studio.

  > Примечание. Обязательно откройте созданную папку (т. е. папку App, если вы следовали соглашениям об именовании из предыдущих шагов), так как за пределами этой папки будет находиться SLN-файл с аналогичным именем. Не путайте его с SLN-файлом, содержащимся в папке сборки. 

![Урок 1, раздел 5, шаг 5](images/Lesson1Chapter5Step5.JPG)

  > Примечание. Если в Visual Studio появится запрос на установку новых компонентов, проверьте, установлены ли все обязательные компоненты, как описано на [этой странице](install-the-tools.md).

6. Подключите HoloLens 2 к компьютеру с помощью USB-кабеля. Хотя в инструкциях этого урока предполагается, что вы будете развертывать тестирование на устройстве HoloLens 2, вы также можете выполнить развертывание на [эмуляторе HoloLens 2](using-the-hololens-emulator.md) или создать [пакет приложения для передачи данных на другое локальное устройство](<https://docs.microsoft.com/en-us/windows/uwp/packaging/packaging-uwp-apps>).

7. Перед выполнением сборки для устройства включите на нем режим разработчика. Если вы впервые используете HoloLens 2, в Visual Studio может появиться запрос на подключение к HoloLens 2 с использованием PIN-кода. Выполните [эти инструкции](https://docs.microsoft.com/en-us/windows/mixed-reality/using-visual-studio), если вам нужно включить режим разработчика или выполнить соединение с Visual Studio.

8. Настройте Visual Studio для сборки на устройство HoloLens 2, выбрав конфигурацию "Выпуск" и архитектуру ARM.
    ![Урок 1, раздел 5, шаг 8](images/Lesson1Chapter5Step8.JPG)

9. Последний шаг — это сборка на вашем устройстве. Выберите "Отладка" > "Запуск без отладки". Это приведет к немедленному запуску приложения на вашем устройстве после успешной сборки. Однако в Visual Studio сведения об отладке отображаться не будут. Это также означает, что вы можете отсоединить USB-кабель во время выполнения приложения на устройстве HoloLens 2, не прерывая его работу. Кроме того, вы можете выбрать "Сборка" > "Развернуть решение", чтобы развернуть решение на устройстве без автоматического запуска приложения.
    ![Урок 1, раздел 5, шаг 9](images/Lesson1Chapter5Step9.JPG)

## <a name="congratulations"></a>Поздравляем!

Вы развернули свое первое приложение для HoloLens 2. В процессе работы вы увидите, как пространственная сетка покрывает все поверхности, воспринятые HoloLens 2. Кроме того, вы увидите на руках и пальцах индикаторы для отслеживания рук и счетчик частоты кадров для отслеживания производительности приложения. Это лишь некоторые из основополагающих компонентов, входящих в комплект поставки набора средств для смешанной реальности. На следующих уроках вы начнете добавлять больше содержимого и интерактивных средств на свою сцену, изучив таким образом возможности HoloLens 2 и набора средств для смешанной реальности в полной мере.

>Примечание. Сведения о переключении счетчика частоты кадров с помощью голосовой команды см. в [этой статье](mrlearning-base-ch5.md) (урок 5).

[Следующий урок. Основной модуль обучения работе со смешанной реальностью. Настройка пользовательского интерфейса, средства отслеживания рук и набора средств для смешанной реальности (MRTK)](mrlearning-base-ch2.md)
