---
title: Учебники по началу работы — 2. Инициализация проекта и первого приложения
description: В рамках этого курса вы узнаете, как реализовать функцию распознавания лиц Azure в приложении смешанной реальности.
author: jessemcculloch
ms.author: jemccull
ms.date: 02/26/2019
ms.topic: article
keywords: mixed reality, unity, tutorial, hololens
ms.openlocfilehash: 3a7b25a17ed1a80834dc7029e172bc7924992b07
ms.sourcegitcommit: 6bc6757b9b273a63f260f1716c944603dfa51151
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/01/2019
ms.locfileid: "73438439"
---
# <a name="2-initializing-your-project-and-first-application"></a>2. Инициализация проекта и первого приложения

На первом занятии вы узнаете о некоторых возможностях [набора средств для смешанной реальности (мртк)]() , а также о том, как запустить первое приложение для HoloLens 2 и развернуть его на устройстве.

## <a name="objectives"></a>Задачи

* Оптимизация Unity для разработки решений для HoloLens.
* Импорт ресурсов и настройка сцены.
* Визуализация сетки пространственных сопоставлений, сеток и счетчика частоты кадров.

## <a name="instructions"></a>Инструкция

### <a name="create-new-unity-project"></a>Создание проекта Unity

1. Запустите Unity.
2. Выберите **New** (Создать).
![Урок 1, раздел 1, шаг 2](images/Lesson1Chapter1Step2.JPG)
3. Введите имя проекта (например, "Микседреалитибасе").
![Урок 1, раздел 1, шаг 3](images/Lesson1Chapter1Step3.JPG)
4. Укажите расположение, где будет сохранен проект.
![Урок 1, раздел 1, шаг 4](images/Lesson1Chapter1Step4.JPG)
5. Задайте для проекта значение **3D**.
![Урок 1, раздел 1, шаг 5](images/Lesson1Chapter1Step5.JPG)
6. Щелкните **Create Project** (Создать проект).
![Урок 1, раздел 1, шаг 6](images/Lesson1Chapter1Step6.JPG)

### <a name="configure-the-unity-project-for-windows-mixed-reality"></a>Настройка проекта Unity для Windows Mixed Reality

1. Откройте окно *параметры сборки* , выбрав **файл** > **параметры сборки**.
![Урок 1, раздел 4, шаг 1](images/Lesson1Chapter4Step1.JPG)
2. Выберите *универсальная платформа Windows* и нажмите кнопку **коммутатора** , чтобы переключить платформы. Приложения, работающие в HoloLens 2, должны быть совместимы с универсальная платформа Windows (UWP).
![Урок 1, раздел 4, шаг 2](images/Lesson1Chapter4Step2.JPG)
3. Включите виртуальную реальность, нажав кнопку " **Параметры проигрывателя** " в окне "сборка" и включив флажок " *поддерживаемая виртуальная реальность* " в разделе "Параметры XR" на панели инспектора, как показано на рисунке ниже. Обратите внимание, что для просмотра панели инспектора может потребоваться перетащить окно *параметров сборки* . Флажок " *Virtual Reality Supported* " также применяется к гарнитурам смешанной реальности и дополнениям, поскольку он относится к включению стереоскопикного видения (отрисовка различных изображений для каждого взгляда). ![занятия 1 Chapter4 шаг 3](images/Lesson1Chapter4Step3.JPG)
4. Кроме того, в разделе Параметры XR измените *режим отображения стереозвука* на *один экземпляр однопроходного экземпляра*. Этот [стиль конвейера отрисовки](https://docs.unity3d.com/Manual/SinglePassStereoRenderingHoloLens.html) обычно является наиболее производительным для Hololens 2. Если вы заинтересованы в других производительных конфигурациях для среды Unity, выполните следующие [инструкции](recommended-settings-for-unity.md).
![занятия 1 Chapter4 Step3b](images/Lesson1Chapter4Step3b.jpg)
5. На той же панели инспектора убедитесь, что флажок *пространственный* фрагмент в разделе возможности включен в разделе *Параметры публикации*. Пространственное восприятие позволяет визуализировать сетку пространственных сопоставлений на устройстве смешанной реальности, например HoloLens 2. Параметры публикации находятся на панели инспектора, над параметрами XR и в разделе другие параметры.
![Урок 1, раздел 4, шаг 4](images/Lesson1Chapter4Step4.JPG)

> [!NOTE]
> Хотя это и не используется в этом разделе, некоторые другие распространенные возможности, которые может потребоваться включить, включают *микрофон* для команд Voice и *InternetClient* для подключения к службам, требующим сетевого подключения.

### <a name="import-the-mixed-reality-toolkit"></a>Импорт набора средств для смешанной реальности

1. Скачайте последние пакеты Unity [набора средств для смешанной реальности](https://github.com/microsoft/MixedRealityToolkit-Unity/releases) и сохраните их в папку на своем компьютере.

2. Импортируйте все пакеты *набора средств для смешанной реальности* . Для начала щелкните **активы** > **Импорт** > **пользовательский пакет**. Выберите один из пакетов *набора средств для смешанной реальности* , скачанных на шаге 1, и откройте его, чтобы начать процесс импорта. Процесс импорта может занять несколько минут.
    ![Урок 1, раздел 2, шаг 2a](images/Lesson1Chapter2Step2a.JPG) ![Урок 1, раздел 2, шаг 2б](images/Lesson1Chapter2Step2b.JPG)

3. Во всплывающем окне далее нажмите кнопку **Импорт** , чтобы начать импорт выбранного пакета в проект Unity. Убедитесь, что отмечены все элементы, как показано на рисунке.
    ![занятия 1 Chapter2 шаг 3](images/Lesson1Chapter2Step3.JPG)
4. Повторите шаги 2 и 3 для каждого скачанного пакета *набора средств смешанной реальности* .

> [!NOTE]
> Если появится всплывающее диалоговое окно с предложением применить параметры по умолчанию для набора средств Mixed Reality, нажмите кнопку **Применить**. МРТК анализирует проект на наличие недостающих рекомендуемых параметров при импорте для автоматической установки.

![Занятия 1 Chapter2 шаг 3](images/Lesson1Chapter2Step3b.JPG)

### <a name="configure-the-mixed-reality-toolkit"></a>Настройка набора средств для смешанной реальности

1. Добавьте *набор средств Mixed Reality* в текущую сцену, выбрав **набор средств для смешанной реальности** > **Добавить в сцену и настроить..** в строке меню. Если после импорта набора средств для смешанной реальности этот пункт меню не отображается, перезапустите Unity.
  ![Урок 1, раздел 3, шаг 1](images/Lesson1Chapter3Step1.JPG)

> [!NOTE]
> Может появиться всплывающее диалоговое окно с запросом на выбор [профиля для набора средств Mixed Reality](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Profiles/Profiles.html). Если это так, нажмите кнопку **ОК**и выберите профиль с именем *"дефаултмикседреалититулкитконфигуратионпрофиле"* .

2. В сцене будет несколько новых элементов и изменений. Сохраните сцену под другим именем, щелкнув **файл** > **Сохранить как**, и присвойте сцене имя, например *басесцене*. Сохраняйте сцену, сохранив ее в папке « *сцены* » в папке « *активы* » проекта.
  ![Урок 1, раздел 3, шаг 2a](images/Lesson1Chapter3Step2a.JPG)
  ![Урок 1, раздел 3, шаг 2б](images/Lesson1Chapter3Step2b.JPG)

### <a name="build-your-application-to-your-device"></a>Разработка приложения для устройства

1. Если вы закрыли окно *параметры сборки* из предыдущих разделов, снова откройте окно *параметры сборки* , выбрав **файл** > **параметры сборки**.
    ![Урок 1, раздел 5, шаг 1](images/Lesson1Chapter5Step1.JPG)

2. Убедитесь, что только что созданная сцена находится в списке " *сцены в сборке* ", нажав кнопку **Добавить открытые сцены** , пока сцена открыта в Unity.

3. Нажмите кнопку " **построить** ", чтобы начать процесс сборки.
    ![Урок 1, раздел 5, шаг 3](images/Lesson1Chapter5Step3.JPG)

4. Создайте папку для приложения и укажите для нее название. На приведенном ниже рисунке создано папка с именем App, в которой будет содержаться приложение. Щелкните **выбрать папку** , чтобы начать сборку в только что созданную папку. После завершения сборки можно закрыть окно *параметры сборки* в Unity.
    ![Урок 1, раздел 5, шаг 4](images/Lesson1Chapter5Step4.JPG)

> [!IMPORTANT]
> Если сборка завершилась сбоем, попробуйте выполнить ее заново или перезапустите Unity и повторите попытку. Если отображается сообщение об ошибке, например "ошибка: CS0246 = не удалось найти тип или имя пространства имен" XX "(возможно, отсутствует директива using или ссылка на сборку). Если да, то, возможно, потребуется установить [пакет SDK для Windows 10 (10.0.18362.0)](https://developer.microsoft.com//windows/downloads/windows-10-sdk) .

5. После завершения сборки откройте созданную папку, содержащую файлы только что созданного приложения. Дважды щелкните решение *микседреалитибасе. sln* или соответствующее имя, если вы использовали другое имя для проекта, чтобы открыть файл решения в Visual Studio.

> [!NOTE]
> Не забудьте открыть только что созданную папку (т. е. папку *приложения* , если следовать соглашениям об именовании из предыдущих шагов), так как файл с расширением SLN будет находиться за пределами этой папки, который не следует путать с файлом. sln в папке Build. Структура папок должна выглядеть примерно так, как показано на рисунке ниже.
>
> Если в Visual Studio появится запрос на установку новых компонентов, проверьте, установлены ли все обязательные компоненты, как описано на [этой странице](install-the-tools.md).

![Урок 1, раздел 5, шаг 5](images/Lesson1Chapter5Step5.JPG)

6. Подключите HoloLens 2 к компьютеру. Хотя эти инструкции предполагают, что вы будете выполнять развертывание на устройстве HoloLens 2, можно также выбрать развертывание в [эмуляторе hololens 2](using-the-hololens-emulator.md) или создать [пакет приложения для загрузки неопубликованных приложений](<https://docs.microsoft.com//windows/uwp/packaging/packaging-uwp-apps>) .

> [!IMPORTANT]
> Перед сборкой на устройстве устройство должно быть в *режиме разработчика* и связываться с компьютером разработки. Оба эти действия можно выполнить, выполнив приведенные ниже [инструкции](using-visual-studio.md) .

8. Настройте Visual Studio для сборки в HoloLens 2, выбрав конфигурацию *выпуска* или *образца* и архитектуру *ARM* .
    ![Урок 1, раздел 5, шаг 8](images/Lesson1Chapter5Step8.JPG)

9. Последним шагом является создание и развертывание на устройстве с помощью команды **отладка** > **Запуск без отладки**. Выбор команды *Запуск без отладки* приводит к немедленному запуску приложения на устройстве после успешной сборки, но без присоединенного отладчика и сведений, появляющихся в Visual Studio. Это также означает, что вы можете отсоединить USB-кабель во время выполнения приложения на устройстве HoloLens 2, не прерывая его работу.

> [!NOTE]
> Вы также можете выбрать **сборка** > **Развернуть решение** для развертывания на устройстве без автоматического запуска приложения.

![Занятия 1 Chapter5 Step9](images/Lesson1Chapter5Step9.JPG)

## <a name="congratulations"></a>Поздравляем!

Вы развернули свое первое приложение HoloLens 2. По мере прочего вы увидите сетку пространственных сопоставлений, охватывающую все поверхности, которые были воспринимаемы HoloLens 2. Кроме того, вы должны увидеть индикаторы на руках и пальцах для отслеживания, а также счетчик частоты кадров, чтобы следить за производительностью приложений. Это лишь некоторые из основополагающих компонентов, входящих в комплект поставки набора средств для смешанной реальности. В этом уроке вы начнете добавлять содержимое и интерактивное взаимодействие с сценой, чтобы вы могли полностью исследовать возможности HoloLens 2 и набора средств Mixed Reality.

> [!NOTE]
> Вы узнаете, как включить счетчик частоты кадров с помощью команды Voice в [занятии 5](mrlearning-base-ch5.md). Обычно рекомендуется постоянно отображать Визуальный профилировщик во время разработки, чтобы понять, когда изменения кода могли повлиять на производительность. Приложение Hololens 2 должно [постоянно работать в течение 60 кадров/с](understanding-performance-for-mixed-reality.md).

[Следующее занятие: 3. Создание пользовательского интерфейса и настройка набора средств для смешанной реальности](mrlearning-base-ch2.md)
