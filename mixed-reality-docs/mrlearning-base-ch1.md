---
title: Основной модуль обучения работе со смешанной реальностью. Инициализация проекта и первое применение
description: В рамках этого курса вы узнаете, как реализовать функцию распознавания лиц Azure в приложении смешанной реальности.
author: jessemcculloch
ms.author: jemccull
ms.date: 02/26/2019
ms.topic: article
keywords: mixed reality, unity, tutorial, hololens
ms.openlocfilehash: 51cfc123f7da8d25a53eecfb730f60cf10fe7377
ms.sourcegitcommit: b0b1b8e1182cce93929d409706cdaa99ff24fdee
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/23/2019
ms.locfileid: "68387791"
---
# <a name="2-initializing-your-project-and-first-application"></a>2. Инициализация проекта и первого приложения

На первом занятии вы узнаете о некоторых возможностях набора средств для смешанной реальности (МРТК), а также о том, как запустить первое приложение для HoloLens 2 и развернуть его на устройстве.

## <a name="objectives"></a>Цели

* Оптимизация Unity для разработки решений для HoloLens.
* Импорт ресурсов и настройка сцены.
* Визуализация пространственной сетки, сеток рук и счетчика частоты кадров.

## <a name="instructions"></a>Инструкция

### <a name="create-new-unity-project"></a>Создание проекта Unity

1. Запустите Unity.
2. Выберите **New** (Создать).
![Урок 1, раздел 1, шаг 2](images/Lesson1Chapter1Step2.JPG)
3. Введите название проекта (например, MixedRealityBase).
![Урок 1, раздел 1, шаг 3](images/Lesson1Chapter1Step3.JPG)
4. Укажите расположение, где будет сохранен проект.
![Урок 1, раздел 1, шаг 4](images/Lesson1Chapter1Step4.JPG)
5. Задайте для проекта значение **3D**.
![Урок 1, раздел 1, шаг 5](images/Lesson1Chapter1Step5.JPG)
6. Щелкните **Create Project** (Создать проект).
![Урок 1, раздел 1, шаг 6](images/Lesson1Chapter1Step6.JPG)

### <a name="configure-the-unity-project-for-windows-mixed-reality"></a>Настройка проекта Unity для Windows Mixed Reality

1. Откройте окно параметры сборки, выбрав Файл > параметры сборки.
![Урок 1, раздел 4, шаг 1](images/Lesson1Chapter4Step1.JPG)
2. Перейдите в универсальная платформа Windows, выбрав универсальная платформа Windows. Нажмите кнопку переключения платформы, чтобы переключить платформы. Приложения, работающие в HoloLens 2, должны быть совместимы с универсальная платформа Windows (UWP).
![Урок 1, раздел 4, шаг 2](images/Lesson1Chapter4Step2.JPG)
3. Включите виртуальную реальность, щелкнув "Параметры проигрывателя" в окне "сборка" и включив флажок "поддерживаемая виртуальная реальность" в разделе "Параметры XR" на панели инспектора, как показано на рисунке ниже. Обратите внимание, что для просмотра панели инспектора может потребоваться перетащить окно параметров сборки. Флажок "Virtual Reality supported" также применяется к гарнитурам смешанной реальности и дополнениям, поскольку он относится к включению стереоскопикного представления (отрисовка различных изображений для каждого глаза). ![Урок 1, раздел 4, шаг 3](images/Lesson1Chapter4Step3.JPG)
4. На той же панели инспектора убедитесь, что флажок пространственный фрагмент в разделе возможности включен в разделе Параметры публикации. Пространственное восприятие позволяет визуализировать сетку пространственных сопоставлений на устройстве смешанной реальности, например HoloLens 2. Параметры публикации находятся на панели инспектора, над параметрами XR и в разделе другие параметры.
![Урок 1, раздел 4, шаг 4](images/Lesson1Chapter4Step4.JPG)

> ПРИМЕЧАНИЕ. Хотя это и не используется в этом разделе, некоторые другие распространенные возможности, которые может потребоваться включить, включают микрофон для команд Voice и InternetClient для подключения к службам, требующим сетевого подключения.

### <a name="import-the-mixed-reality-toolkit"></a>Импорт набора средств для смешанной реальности

1. Скачайте пакет Unity [набора средств для смешанной реальности](https://github.com/Microsoft/MixedRealityToolkit-Unity/releases/download/v2.0.0-RC1/Microsoft.MixedReality.Toolkit.Unity.Foundation-v2.0.0-RC1.unitypackage) и сохраните его в папку на компьютере.

2. Импортируйте пакет набора средств для смешанной реальности, выбрав Assets (Ресурсы) > Import (Импорт) > Custom Package (Пользовательский пакет). Найдите загруженный на шаге 1 пакет набора средств для смешанной реальности и откройте его, чтобы начать импорт. Процесс импорта может занять несколько минут.
    ![Урок 1, раздел 2, шаг 2a](images/Lesson1Chapter2Step2a.JPG) ![Урок 1, раздел 2, шаг 2б](images/Lesson1Chapter2Step2b.JPG)

3. Во всплывающем окне далее нажмите кнопку Импорт, чтобы начать импорт набора средств Mixed Reality. Убедитесь, что отмечены все элементы, как показано на рисунке. Если появится всплывающее диалоговое окно с предложением применить параметры по умолчанию для набора средств Mixed Reality, нажмите кнопку Применить.
    ![Урок 1, раздел 2, шаг 3](images/Lesson1Chapter2Step3.JPG) ![Урок 1, раздел 2, шаг 3](images/Lesson1Chapter2Step3b.JPG)

### <a name="configure-the-mixed-reality-toolkit"></a>Настройка набора средств для смешанной реальности

1. Настройте МРТК, выбрав набор средств для смешанной реальности > настроить в строке меню. Если после импорта набора средств для смешанной реальности этот пункт меню не отображается, перезапустите Unity.
  ![Урок 1, раздел 3, шаг 1](images/Lesson1Chapter3Step1.JPG)

  > Примечание. Может появиться всплывающее диалоговое окно с запросом на выбор профиля для набора средств Mixed Reality. Если это так, нажмите кнопку ОК и выберите профиль с именем "Дефаултмикседреалититулкитконфигуратионпрофиле".

2. Сцена будет содержать несколько новых элементов и изменений из МРТК. Сохраните сцену под другим именем, щелкнув файл > Сохранить как, и присвойте сцене имя, например Басесцене. Сохраняйте сцену, сохранив ее в папке «сцены» в папке «активы» проекта.
  ![Урок 1, раздел 3, шаг 2a](images/Lesson1Chapter3Step2a.JPG)
  ![Урок 1, раздел 3, шаг 2б](images/Lesson1Chapter3Step2b.JPG)

### <a name="build-your-application-to-your-device"></a>Разработка приложения для устройства

1. Если вы закрыли окно параметры сборки из предыдущих разделов, снова откройте окно параметры сборки, выбрав Файл > параметры сборки.
    ![Урок 1, раздел 5, шаг 1](images/Lesson1Chapter5Step1.JPG)

2. Убедитесь, что сцена, которую вы хотите использовать, находится в списке "сцены в сборке", нажав кнопку Добавить открытые сцены.

3. Нажмите кнопку Build (Сборка), чтобы начать процесс сборки.
    ![Урок 1, раздел 5, шаг 3](images/Lesson1Chapter5Step3.JPG)

4. Создайте папку для приложения и укажите для нее название. На приведенном ниже рисунке создано папка с именем App, в которой будет содержаться приложение. Щелкните Выбрать папку, чтобы начать сборку в только что созданную папку. После завершения сборки можно закрыть окно параметры сборки в Unity. 
    ![Урок 1, раздел 5, шаг 4](images/Lesson1Chapter5Step4.JPG)

  > ПРИМЕЧАНИЕ. Если сборка завершилась сбоем, попробуйте выполнить ее заново или перезапустите Unity и повторите попытку. Если отображается сообщение об ошибке, например "ошибка: CS0246 = не удалось найти тип или имя пространства имен "XX" (возможно, отсутствует директива using или ссылка на сборку). Если да, то, возможно, потребуется установить [пакет SDK для Windows 10 (10.0.18362.0)](<https://developer.microsoft.com/en-us/windows/downloads/windows-10-sdk>) .
  >

5. После завершения сборки откройте созданную папку, содержащую файлы только что созданного приложения. Дважды щелкните решение Микседреалитибасе. sln или соответствующее имя, если вы использовали другое имя для проекта, чтобы открыть файл решения в Visual Studio.

  > Примечание. Не забудьте открыть только что созданную папку (т. е. папку приложения, если следовать соглашениям об именовании из предыдущих шагов), так как файл с расширением SLN будет находиться за пределами этой папки, который не следует путать с файлом. sln в папке Build. 

![Урок 1, раздел 5, шаг 5](images/Lesson1Chapter5Step5.JPG)

  > Примечание. Если в Visual Studio появится запрос на установку новых компонентов, проверьте, установлены ли все обязательные компоненты, как описано на [этой странице](install-the-tools.md).

6. Подключите HoloLens 2 к компьютеру. Хотя в этих инструкциях предполагается, что вы будете развертывать тест с устройством HoloLens 2, вы также можете выбрать развертывание в [эмуляторе hololens 2](using-the-hololens-emulator.md) или создать [пакет приложения для загрузки неопубликованных приложений](<https://docs.microsoft.com/en-us/windows/uwp/packaging/packaging-uwp-apps>) .

7. Перед выполнением сборки для устройства включите на нем режим разработчика. Если вы впервые развертываете в HoloLens 2, Visual Studio может попросить вас связать HoloLens 2 с ПИН-кодом. Выполните [эти инструкции](https://docs.microsoft.com/en-us/windows/mixed-reality/using-visual-studio), если вам нужно включить режим разработчика или выполнить соединение с Visual Studio.

8. Настройте Visual Studio для сборки в HoloLens 2, выбрав конфигурацию выпуска и архитектуру ARM.
    ![Урок 1, раздел 5, шаг 8](images/Lesson1Chapter5Step8.JPG)

9. Последний шаг — выполнить сборку на устройстве, выбрав Отладка > начать без отладки. Выбор команды Запуск без отладки приводит к немедленному запуску приложения на устройстве после успешной сборки, но без отладочной информации в Visual Studio. Это также означает, что вы можете отсоединить USB-кабель во время выполнения приложения на устройстве HoloLens 2, не прерывая его работу. Вы также можете выбрать сборка > развернуть решение для развертывания на устройстве без автоматического запуска приложения.
    ![Урок 1, раздел 5, шаг 9](images/Lesson1Chapter5Step9.JPG)

## <a name="congratulations"></a>Поздравляем!

Вы развернули свое первое приложение HoloLens 2. По мере пошагового руководства вы увидите пространственное сетку, охватывающую все поверхности, которые были воспринимаемы HoloLens 2. Кроме того, вы должны увидеть индикаторы на руках и пальцах для отслеживания, а также счетчик частоты кадров, чтобы следить за производительностью приложений. Это лишь некоторые из основополагающих компонентов, входящих в комплект поставки набора средств для смешанной реальности. В этом уроке вы начинаете добавлять содержимое и интерактивное взаимодействие в сцену, чтобы вы могли полностью исследовать возможности HoloLens 2 и набора средств Mixed Reality.

>Примечание. Сведения о переключении счетчика частоты кадров с помощью голосовой команды см. в [этой статье](mrlearning-base-ch5.md) (урок 5).

[Следующий урок. Основной модуль обучения работе со смешанной реальностью. Настройка пользовательского интерфейса, средства отслеживания рук и набора средств для смешанной реальности (MRTK)](mrlearning-base-ch2.md)
