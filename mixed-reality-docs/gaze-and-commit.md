---
title: Направление головы и фиксация
description: Общие сведения о модели направления головы и фиксации
author: caseymeekhof
ms.author: cmeekhof
ms.date: 03/31/2019
ms.topic: article
keywords: Смешанная реальность, взгляд, нацеливание взглядом, взаимодействие, проектирование
ms.openlocfilehash: aeca5ceacf5ae350aa06cb58cc68162f885f6d78
ms.sourcegitcommit: b0b1b8e1182cce93929d409706cdaa99ff24fdee
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/23/2019
ms.locfileid: "68387677"
---
# <a name="head-gaze-and-commit"></a>Направление головы и фиксация
Элемент head-взгляд и фиксация — это входная модель, включающая в себя объект с направлением, указывающим на передний план (головное), и последующим действием с ним с помощью вторичного ввода, например руки жеста в воздухе или команды Voice SELECT. Она считается дальней моделью ввода с косвенной манипуляцией, то есть лучше использовать ее для взаимодействия с содержимым, которое выходит за рамки руки.

## <a name="device-support"></a>Поддержка устройств

<table>
    <colgroup>
    <col width="25%" />
    <col width="25%" />
    <col width="25%" />
    <col width="25%" />
    </colgroup>
    <tr>
        <td><strong>Модель ввода</strong></td>
        <td><a href="hololens-hardware-details.md"><strong>HoloLens (1-го поколения)</strong></a></td>
        <td><strong>HoloLens 2</strong></td>
        <td><a href="immersive-headset-hardware-details.md"><strong>Иммерсивные гарнитуры</strong></a></td>
    </tr>
     <tr>
        <td>Направление головы и фиксация</td>
        <td>✔️ Рекомендуется</td>
        <td>✔ Рекомендуется (третий вариант <a href="interaction-fundamentals.md">см. в разделе других возможностей</a>)</td>
        <td>➕ Альтернативный вариант</td>
    </tr>
</table>

## <a name="head-gaze"></a>Направление головы
Гарнитура смешанной реальности использует положение и ориентацию головы пользователя для определения вектора направления головы. Ее можно представить как лазер, который указывает прямо вперед из точки между глаз пользователя. Это довольно приблизительная оценка того, куда смотрит пользователь. Приложение может пересекать этот луч с виртуальными или реальными объектами и нарисовать курсор в этом расположении, чтобы сообщить пользователю о том, что в настоящее время нацелено на них.

Помимо головного взгляда, некоторые гарнитуры смешанной реальности, например HoloLens 2, включают системы отслеживания взглядов, которые создают вектор взгляда. Это обеспечивает высокоточное измерение направления взгляда пользователя. Можно создавать взаимодействия с помощью взгляда и фиксации, используя глаза. Но это имеет очень разный набор ограничений проектирования, которые будут рассматриваться отдельно в [статье взгляда](eye-tracking.md).

## <a name="commit"></a>Фиксация
После нацеливания на объект или элемент пользовательского интерфейса пользователь может взаимодействовать с ним или щелкать его, используя Вторичный вход. В этой модели это называется шагом фиксации. Поддерживаются следующие методы фиксации:

- Жест касания в воздухе
- Говорите голосовую команду, выберите или одну из целевых голосовых команд
- Нажатие одной кнопки на кнопке [HoloLens](hardware-accessories.md#hololens-clicker)
- Нажмите кнопку "A" на игровом планшете Xbox
- Нажмите кнопку "A" на адаптивном контроллере Xbox

### <a name="head-gaze-and-air-tap-gesture"></a>Направление головы и жест касания
Касание — это жест касания с положением руки вертикально. Чтобы выполнить касание, поднимите указатель пальца до позиции готовности, затем проведите сжатие с помощью бегунка, а затем поднимите палец пальца до выпуска. В HoloLens (1-й общий) поток касания является наиболее распространенным вторичным входом.

![Палец в положении готовности, а затем движения касания или щелчка](images/readyandpress.jpg)<br>

В HoloLens 2 также доступен воздушный нажим. Она была ослаблена от исходной версии. Теперь поддерживаются почти все типы сжатий, если рука по-прежнему находится в вертикальном и удерживаемом виде. Это значительно упрощает для пользователей знакомство с жестом и его использование. Новое касание Air заменяет старое, используя тот же API, поэтому существующие приложения будут автоматически создавать новое поведение после повторной компиляции для HoloLens 2.

### <a name="head-gaze-and-select-voice-command"></a>Направление головы и голосовая команда "Выбрать"
Речевая команда — один из основных методов взаимодействия в смешанной реальности. Он предоставляет мощный механизм для управления системой. Существуют разные типы моделей голосового взаимодействия:

- Универсальная команда SELECT, которая выполняет нажатие или фиксацию в качестве вторичного входа.
- Команды объекта, такие как Close или, делают его больше выполняемых и фиксируются в действии в качестве вторичного входа.
- Для глобального коммнадс, например Go, не требуется целевой объект.
- Пользовательские интерфейсы или сущности диалога, такие как Кортана, имеют естественный язык AI.
- пользовательские команды.

Для получения дополнительных сведений, а также компренхесиве списка доступных команд и способов их использования ознакомьтесь с руководством по [голосовым командам](voice-design.md) .


### <a name="head-gaze-and-hololens-clicker"></a>Направление головы и HoloLens Clicker (Датчик HoloLens)
Щелчок HoloLens — это первое периферийное устройство, созданное специально для HoloLens. Он входит в состав выпуска HoloLens (1-го поколения) разработки. Щелчок HoloLens позволяет пользователю щелкнуть с минимальным движением руки и зафиксировать его как Вторичный вход. Щелчок HoloLens подключается к HoloLens (1-го поколения) или HoloLens 2 с помощью Bluetooth низкого энергопотребления (БТЛЕ).

![HoloLens Clicker](images/hololens-clicker-500px.jpg)<br>
*HoloLens Clicker*

Дополнительные сведения и инструкции по связыванию устройства см. [здесь](hardware-accessories.md#pairing-bluetooth-accessories).




### <a name="head-gaze-and-xbox-wireless-controller"></a>Направление головы и беспроводной контроллер Xbox
Контроллер беспроводной связи Xbox выполняет нажатие кнопки как Вторичный вход, используя кнопку "A". Устройство связано с набором действий по умолчанию, которые помогают переходить по системе и управлять ей. Если вы хотите настроить контроллер, используйте приложение Xbox Акцесориес для настройки контроллера беспроводной сети Xbox.

![Беспроводной контроллер Xbox](images/xboxcontroller.jpg)<br>
*Беспроводной контроллер Xbox*

[Связывание контроллера Xbox с компьютером](hardware-accessories.md#pairing-bluetooth-accessories)


### <a name="head-gaze-and-xbox-adaptive-controller"></a>Направление головы и адаптивный контроллер Xbox
Адаптивный контроллер Xbox, разработанный в основном для удовлетворения потребностей игр с ограниченным мобильным доступом, является единым концентратором для устройств, которые помогают сделать смешанную реальность более доступной.

Адаптивный контроллер Xbox выполняет нажатие кнопки как Вторичный вход, используя кнопку "A". Устройство сопоставляется с набором действий по умолчанию, которые помогают перемещаться по системе и управлять ей. Если вы хотите настроить контроллер, используйте приложение Xbox Акцесориес для настройки адаптивного контроллера Xbox.

![Адаптивный контроллер Xbox](images/xbox-adaptive-controller-devices.jpg)<br>
*Адаптивный контроллер Xbox*

Подключите внешние устройства, такие как коммутаторы, кнопки, подключения и джойстики, чтобы создать пользовательский интерфейс контроллера, который является уникальным. Входные данные кнопки, аналогового стика и триггера контролируются с помощью вспомогательных устройств, подключенных через разъемы 3,5 мм и порты USB.

![Порты адаптивного контроллера Xbox](images/xbox-adaptive-controller-ports.jpg)<br>
*Порты адаптивного контроллера Xbox*

[Инструкции по связыванию устройства](hardware-accessories.md#pairing-bluetooth-accessories)

<a href=https://www.xbox.com/en-US/xbox-one/accessories/controllers/xbox-adaptive-controller>Дополнительные сведения доступны на сайте Xbox</a>


## <a name="design-guidelines"></a>Рекомендации по проектированию
> [!NOTE]
> [В ближайшее время](index.md) появятся дополнительные руководства, касающиеся дизайна механизма отслеживания взгляда.

## <a name="head-gaze-targeting"></a>Нацеливание направлением головы
Все взаимодействия построены на базе возможности пользователя нацеливаться на элемент, с которым они хотят взаимодействовать, независимо от модальности ввода. В Windows Mixed Reality это обычно делается с помощью взгляда пользователя.
Чтобы обеспечить успешное взаимодействие с пользователем, вычисленное системой понимание намерений пользователя и фактической цели пользователя должна быть максимально согласованной. Удовлетворенность пользователя возрастает и производительность повышается настолько, насколько система правильно распознает намерения пользователя.


## <a name="target-sizing-and-feedback"></a>Изменение размера цели и обратная связь
Вектор взгляда показан повторно, чтобы его можно было использовать для тонкого нацеливания, но он, как правило, лучше всего подходит для валовой нацеливания — получая несколько более крупные целевые объекты. Минимальный размер целевого объекта (от 1 до 1,5 градусов) позволяет успешно выполнять действия пользователя в большинстве сценариев, хотя целевые объекты с 3 градусами часто обеспечивают более высокую скорость. Обратите внимание, что пользовательские цели — это фактически двумерная область, даже если это трехмерный элемент: проекция, которая обращена к пользователю, будет областью, на которую можно нацелиться. Очень полезно указать ключевые, что элемент является "активным" (то есть он предназначен для пользователя). Это может включать использование, такие как видимые эффекты наведения указателя, звуковые элементы или щелчки, а также четкое выравнивание курсора с помощью элемента.

![Оптимальный размер целевого объекта на расстоянии 2 метра](images/gazetargeting-size-1000px.jpg)<br>
*Оптимальный размер целевого объекта на расстоянии 2 метра*

![Пример выделения выбранного взглядом целевого объекта](images/gazetargeting-highlighting-640px.jpg)<br>
*Пример выделения выбранного взглядом целевого объекта*

## <a name="target-placement"></a>Размещение цели
Пользователям часто не удается найти элементы пользовательского интерфейса, которые находятся очень высоко или очень низкы в своем поле зрения. основное внимание уделяется вопросам, связанным с областями вокруг основного фокусирования. Размещение большинства целей в приемлемом диапазоне примерно на уровне глаз может исправить ситуацию. Учитывая склонность пользователей в любой момент фокусироваться на относительно небольшой визуальной области (область фокусировки внимания в поле зрения составляет приблизительно 10 градусов), группирование элементов интерфейса в такой мере, чтобы они были концептуально связаны, может задействовать поведение, связанное с перемещением внимания с объекта на объект, по мере перемещения взгляда пользователя по области. При разработке интерфейса учитывайте возможные значительные отклонения в поле зрения HoloLens и иммерсивной гарнитуры.

![Пример сгруппированных элементов интерфейса для упрощения нацеливания взглядом в Galaxy Explorer](images/gazetargeting-grouping-1000px.jpg)<br>
*Пример сгруппированных элементов интерфейса для упрощения нацеливания взглядом в Galaxy Explorer*

## <a name="improving-targeting-behaviors"></a>Улучшение поведения выбора цели
Если цель пользователя может быть определена (или приблизительно точнее), может оказаться полезной возможность принятия практических попыток взаимодействия, как если бы они были нацелены правильно. Вот несколько успешных методов, которые могут быть включены в возможности смешанной реальности:

### <a name="head-gaze-stabilization-gravity-wells"></a>Стабилизация направления головы ("колодцы гравитации")
Этот параметр должен быть включен в большую часть времени или полностью. Эта методика позволяет устранить естественные колебания и колебании горловины, которые пользователи могут иметь в качестве хорошей передвижения из-за поведения при оформлении и распознавании речи.

### <a name="closest-link-algorithms"></a>Алгоритмы ближайшего звена
Они лучше всего работают в областях с разреженным интерактивным содержимым. Если есть высокая вероятность того, что вы можете определить, с чем пользователь пытался взаимодействовать, можно дополнить его возможностями нацеливания, предполагая определенный уровень намерения.

### <a name="backdating-and-postdating-actions"></a>Действия баккдатинг и постдатинг
Этот механизм полезен для задач, требующих скорости. Когда пользователь перемещается по ряду нацеливания и манеуверс на скорости, целесообразно предположить, что он имеет некоторую намерение, и позволить пропущенным действиям работать с целевыми объектами, на которые пользователь находился в фокусе немного раньше или немного после 50 того, как в EA Тестирование РЛИ).

### <a name="smoothing"></a>Сглаживание
Этот механизм полезен при перемещении путем перемещения, уменьшая незначительные колебания и качающуюся из-за особенностей естественных головных перемещений. При смягчении по контуру движения, плавное изменение размера и расстояния движений, а не со временем.

### <a name="magnetism"></a>Магнитность
Этот механизм можно рассматривать как более общую версию ближайших алгоритмов связи — Рисование курсора на целевую платформу или простое увеличение хитбоксес, как видимых, так и незаметного, так как пользователи, вероятнее всего, используют знания интерактивного макета, чтобы лучше подход к намерениям пользователя. Это может быть особенно эффективно для небольших целей.

### <a name="focus-stickiness"></a>Закрепление фокуса
При определении соседних интерактивных элементов, на которые передаются фокус, фокус прикрепления обеспечивает сдвиг к элементу, который в настоящий момент находится в фокусе. Это помогает сократить число неустойчивых переключений фокуса при плавающей точке между двумя элементами с естественным шум.


## <a name="composite-gestures"></a>Составные жесты

### <a name="air-tap"></a>Жест касания
Жест касания воздуха (а также другие жесты ниже) реагирует только на определенное касание. Для обнаружения других касаний, таких как меню или распознавать, приложение должно напрямую использовать взаимодействия нижнего уровня, описанные в разделе «жесты двух ключевых компонентов» выше.

### <a name="tap-and-hold"></a>Tap and hold
Удерживание — это просто удержание пальца в опущенном положении после касания. Сочетание воздушного касания и удержания позволяет использовать множество более сложных взаимодействий "щелчок и перетаскивание" при сочетании с движением ARM, например выборка объекта вместо активации или MouseDown вторичных взаимодействий, таких как отображение контекстного меню.
Однако при разработке этого жеста следует соблюдать осторожность, поскольку пользователи могут быть склонны к расслаблению позы рук во время любого расширенного жеста.

### <a name="manipulation"></a>Управление
Жесты манипуляции можно использовать для перемещения, изменения размера или поворота голограммы, когда нужно, чтобы голограмма реагировала на 1:1 в руки пользователя. Одно из применений таких движений 1:1 позволяет пользователю только рисовать или вписывать красками.
Первоначальное нацеливание для жеста управления должно быть исполнено взглядом или указанием. После того как касание и удержание начинается, любая манипуляция объекта обрабатывается перемещениями вручную, освобождая пользователя на то время, когда они манипулируют.

### <a name="navigation"></a>Навигация
Жесты навигации работают как виртуальный джойстик и могут использоваться для навигации по мини-приложениям пользовательского интерфейса, таким как радиальные меню. Вы касаетесь и удерживаете, чтобы начать жест, а затем двигаете рукой в нормализованном трехмерном кубе, центрированном вокруг начального нажатия. Вы можете перемещать руку вдоль оси X, Y или Z от значения –1 до 1, где 0 является начальной точкой.
Навигация может использоваться для создания жестов непрерывной прокрутки или масштабирования на основе скорости, аналогично прокрутке 2D-интерфейса путем нажатия средней кнопки мыши и последующего перемещения мыши вверх и вниз.

Переход с границами означает возможность распознавания движений на определенной оси до тех пор, пока на этой оси не будет достигнуто определенное пороговое значение. Это полезно только в том случае, если в приложении разработчику разрешено перемещение нескольких осей, например, если приложение настроено на распознавание жестов навигации по оси X, Y, но также задается по оси X с границами. В этом случае система распознает перемещения руки по оси X, пока они остаются в мнимых шинах (направляющие) на оси X, если движение руки также выполняется на оси Y.

В 2D-приложениях пользователи могут использовать жесты вертикальной навигации для прокрутки, масштабирования или перетаскивания внутри приложения. Это вводит в приложение виртуальные касания пальцем, чтобы имитировать сенсорные жесты того же типа. Пользователи могут выбирать, какие из этих действий выполняются, переключаясь между инструментами на панели над приложением, нажимая кнопку или произнося «< Scroll/rezoom > Tool».

[Дополнительные сведения о составных жестах](gestures.md#composite-gestures)

## <a name="gesture-recognizers"></a>Распознаватели жестов

Одно из преимуществ использования распознавания жестов заключается в том, что вы можете настроить распознаватель жестов только для жестов, которые может принимать текущая Целевая голограмма. Платформа делает только неоднозначность по мере необходимости для различения определенных поддерживаемых жестов. Таким образом, голограмма, которая просто поддерживает воздушный нажим, может принимать любое время между нажатием и выпуском, а голограмма, поддерживающая нажатие и удержание, может повысить уровень касания до удержания после порогового значения времени удержания.

## <a name="hand-recognition"></a>Распознавание рук
HoloLens распознает жесты рук, отслеживая положение одной или обеих рук, которые видимые устройству. Руки видны для HoloLens, когда они находятся в состоянии готовности (задняя часть руки обращена к вам указательным пальцем вверх) или в нажатом состоянии (задняя часть руки обращена к вам указательным пальцем вниз). Когда руки находятся в других случаях, HoloLens игнорирует СЕМЗ.
Для каждой руки, которую обнаруживает HoloLens, можно получить доступ к его положению без ориентации и нажатого состояния. Когда рука приближается к краю рамки жеста, вам также предоставляется вектор направления, который вы можете показать пользователю. Так он узнает, как переместить руку, чтобы вернуть ее туда, где она будет видна для HoloLens.

## <a name="gesture-frame"></a>Рамка жестов
Для жестов в HoloLens необходимо находиться в пределах рамки жеста, в диапазоне, в котором камеры с сенсорным входом могут видеть соответствующим образом, от нос до уши и между плечи. Пользователи должны быть обучены в этой области распознавания как для успеха, так и для собственной работы. Многие пользователи изначально предполагают, что рамка жеста должна находиться в пределах своего представления через HoloLens и держать свои руки некомфортными для взаимодействия. При использовании щелчка HoloLens необязательно, чтобы руки находящихся внутри рамки жеста.

В частности, в случае с непрерывными жестами пользователь может переместить свои руки за пределы рамки жеста при перемещении holographic-объекта, например, и потерять предполагаемый результат.

Есть три вещи, которые необходимо рассмотреть:

- Обучение пользователей на существовании и приблизительных границах рамки жеста. Это научилось во время установки HoloLens.

- Уведомление пользователей о том, что их жесты близки или нарушают границы кадра жестов в пределах приложения до степени, в которой потерянный жест ведет к нежелательным результатам. Исследование показало Ключевые качества такой системы уведомлений. Оболочка HoloLens предоставляет хороший пример такого типа уведомления — визуальный элемент, расположенный в центральном курсоре, указывающий направление пересечения границ.

- Последствия нарушения границ рамки жеста должны быть сведены к минимуму. В общем случае это означает, что результат жеста должен быть остановлен на границе, а не на противоположный. Например, если пользователь перемещает несколько holographic объектов в комнате, перемещение должно прерываться при нарушении рамки жеста и не возвращаться к начальной точке. Пользователь может столкнуться с неудовлетворенностью, но может более быстро понять границы и не должен каждый раз перезапускать все запланированные действия.


## <a name="see-also"></a>См. также
* [Непосредственное манипулирование с использованием рук](direct-manipulation.md)
* [Наведение и фиксация с использованием рук](point-and-commit.md)
* [Инстинктивное взаимодействие](interaction-fundamentals.md)
* [Направление головы и остановка](gaze-and-dwell.md)
* [Голосовые команды](voice-design.md)





